!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.Surveybuilder=t(require("react")):e.Surveybuilder=t(e.react)}(window,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){var r;e.exports=(r=n(1),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=36)}([function(e,t){e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GROUP="GROUP",t.DISPLAY="DISPLAY",t.BOOLEAN="BOOLEAN",t.DECIMAL="DECIMAL",t.DATE="DATE",t.DATE_TIME="DATE_TIME",t.TIME="TIME",t.TEXT="TEXT",t.CHOICE="CHOICE",t.OPEN_CHOICE="OPEN_CHOICE",t.MULTI_CHOICE="MULTI_CHOICE",t.ATTACHMENT="ATTACHMENT",t.STRING="STRING"},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(0),s=o(n(4)),l=o(n(16));class u extends s.default{constructor(e,t){super(e,t),this.initialAnswerIdMap=new Map,this.initialAnswersFactory=new l.default(this),this.completeInitialAnswers(e),this.initialAnswers.forEach(e=>this.initialAnswerIdMap.set(e.id,!0))}completeInitialAnswers(e){e&&e.initialAnswers?this.initialAnswers=e.initialAnswers.map(e=>this.initialAnswersFactory.createInitialAnswer(e)):this.initialAnswers=[]}setSingleInitialAnswer(e){this.initialAnswers=[e],this.initialAnswerIdMap.clear(),this.initialAnswerIdMap.set(e.id,!0)}addInitialAnswer(e){this.initialAnswerIdMap.has(e.id)||(this.initialAnswers.push(e),this.initialAnswerIdMap.set(e.id,!0))}clearInitialAnswers(){this.initialAnswers=[],this.initialAnswerIdMap.clear()}removeInitialAnswer(e){this.initialAnswers.splice(e.position,1),this.initialAnswerIdMap.delete(e.id)}}r([a.observableProperty,i("design:type",Array)],u.prototype,"initialAnswers",void 0),t.QuestionItem=u,t.default=u},function(e,t,n){var r,i,o=n(37),a=n(38),s=0,l=0;e.exports=function(e,t,n){var u=t&&n||0,c=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var p=o();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,v=h-s+(m-l)/1e4;if(v<0&&void 0===e.clockseq&&(d=d+1&16383),(v<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=m,i=d;var g=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;c[u++]=g>>>24&255,c[u++]=g>>>16&255,c[u++]=g>>>8&255,c[u++]=255&g;var b=h/4294967296*1e4&268435455;c[u++]=b>>>8&255,c[u++]=255&b,c[u++]=b>>>24&15|16,c[u++]=b>>>16&255,c[u++]=d>>>8|128,c[u++]=255&d;for(var y=0;y<6;++y)c[u+y]=f[y];return t||a(c)}},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),l=a(n(3)),u=n(9),c=a(n(12)),f=n(1);let d=r=class{constructor(e,t){this.type=f.DISPLAY,this.enableWhenIdMap=new Map,this.enableWhenFactory=new c.default(this),this.id=e&&e.id||l.default(),this.required=!!e&&!!e.required,this.text=e&&e.text,this.enableWhen=e&&e.enableWhen?e.enableWhen.map(e=>this.enableWhenFactory.createEnableWhen(e)):[],this.enableBehavior=e&&e.enableBehavior?e.enableBehavior:u.AND,this.parent=t,this.enableWhen.forEach(e=>this.enableWhenIdMap.set(e.id,!0)),this.definePrototypeProperties()}definePrototypeProperties(){Object.defineProperty(r.prototype,"position",{enumerable:!0,configurable:!0,get(){if(!this.parent)return;let e;return this.parent.items.find((t,n)=>{if(t.id===this.id)return e=n,!0}),e}})}addSiblingItemAfter(e){this.parent&&this.parent.addDescendantItemAfter(this,e)}addEnableWhen(e){this.enableWhenIdMap.has(e.id)||(this.enableWhen.push(e),this.enableWhenIdMap.set(e.id,!0))}removeEnableWhen(e){const t=this.enableWhen.findIndex(t=>t.id===e.id);void 0!==t&&(this.enableWhen.splice(t,1),this.enableWhenIdMap.delete(e.id))}updateItem(e){const t=s.getObservable(e);t&&t.mute(),this.id=e.id,this.text=e.text,this.required=!!e.required,t&&t.unmute(),t&&t.emitChange()}remove(){this.parent&&this.parent.removeItem(this)}replace(e){this.parent&&this.parent.replaceItem(this,e)}};i([s.observableProperty,o("design:type",Array)],d.prototype,"enableWhen",void 0),d=r=i([s.observable,o("design:paramtypes",[Object,Object])],d),t.Item=d,t.default=d},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(26));class o{constructor(e){this.parent=e}createAnswerOption(e){return new i.default(e,this.parent)}}t.AnswerOptionFactory=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXISTS="EXISTS",t.EQUAL="==",t.NOT_EQUAL="!=",t.MORE=">",t.LESS="<",t.MORE_OR_EQUAL=">=",t.LESS_OR_EQUAL="<="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),i=n(1);class o{constructor(e){this.itemFactory=new r.ItemFactory(e)}createItem(e){switch(e.type){case i.ATTACHMENT:return this.itemFactory.createAttachmentItem(e);case i.BOOLEAN:return this.itemFactory.createBooleanItem(e);case i.CHOICE:return this.itemFactory.createChoiceItem(e);case i.DATE:return this.itemFactory.createDateItem(e);case i.DATE_TIME:return this.itemFactory.createDateTimeItem(e);case i.DECIMAL:return this.itemFactory.createDecimalItem(e);case i.DISPLAY:return this.itemFactory.createItem(e);case i.GROUP:return this.itemFactory.createGroupItem(e);case i.MULTI_CHOICE:return this.itemFactory.createMultiChoiceItem(e);case i.OPEN_CHOICE:return this.itemFactory.createOpenChoiceItem(e);case i.STRING:return this.itemFactory.createStringItem(e);case i.TEXT:return this.itemFactory.createTextItem(e);case i.TIME:return this.itemFactory.createTimeItem(e);default:return this.itemFactory.createItem(e)}}}t.ItemByTypeFactory=o,t.default=o},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(30),o=r(n(33)),a=r(n(34)),s=r(n(35)),l=n(1),u=r(n(43)),c=r(n(44));t.questionResponseFactory={createResponse:(e,t,n)=>{const r=[];switch(e.required&&r.push(u.default.required),e.type){case l.STRING:return r.push(u.default.stringRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.TEXT:return r.push(u.default.textRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.DECIMAL:return r.push(u.default.decimalRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.BOOLEAN:return r.push(u.default.booleanRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.DATE:return r.push(u.default.dateRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.TIME:return r.push(u.default.timeRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.DATE_TIME:return r.push(u.default.dateTimeRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.CHOICE:case l.OPEN_CHOICE:return new i.QuestionnaireResponseItem(n,e,o.default,r,t);case l.MULTI_CHOICE:return new i.QuestionnaireResponseItem(n,e,s.default,r,t);case l.ATTACHMENT:return new i.QuestionnaireResponseItem(n,e,c.default,r,t);default:return new i.QuestionnaireResponseItem(n,e,void 0,r,t)}}},t.default=t.questionResponseFactory},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AND="and",t.OR="or"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REQUIRED="Field is required",t.REG_EXP="Invalid input"},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(6),o=r(n(3));class a{constructor(e,t){this.id=e&&e.id||o.default(),this.questionId=e&&e.questionId,this.operator=e&&e.operator||i.EQUAL,this.answer=e&&e.answer,this.parent=t}remove(){this.parent&&this.parent.removeEnableWhen(this)}}t.EnableWhen=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(11));class o{constructor(e){this.parent=e}createEnableWhen(e){return new i.default(e,this.parent)}}t.EnableWhenFactory=o,t.default=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(0),s=o(n(7)),l=o(n(4)),u=n(1);let c=class extends l.default{constructor(e,t){super(e,t),this.type=u.GROUP,this.itemIdMap=new Map,this.itemByTypeFactory=new s.default(this),this.completeItems(e),this.items.forEach(e=>this.itemIdMap.set(e.id,!0))}addDescendantItemAfter(e,t){this.addItem(t,e.position+1)}completeItems(e){e&&e.items?this.items=e.items.map(e=>this.itemByTypeFactory.createItem(e)):this.items=[]}addItem(e,t){this.itemIdMap.has(e.id)||(e.parent=this,t=void 0===t?this.items.length:t,this.items.splice(t,0,e),this.itemIdMap.set(e.id,!0))}removeItem(e){this.items.splice(e.position,1),this.itemIdMap.delete(e.id)}replaceItem(e,t){const n=e.position;this.items.splice(n,1,t),this.itemIdMap.delete(e.id),this.itemIdMap.set(t.id,!0)}};r([a.observableProperty,i("design:type",Array)],c.prototype,"items",void 0),c=r([a.observable,i("design:paramtypes",[Object,Object])],c),t.GroupItem=c,t.default=c},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(15)),o=r(n(18)),a=r(n(4)),s=r(n(13)),l=r(n(19)),u=r(n(20)),c=r(n(21)),f=r(n(22)),d=r(n(23)),p=r(n(24)),h=r(n(25)),m=r(n(27)),v=r(n(28));class g{constructor(e){this.parent=e}createItem(e){return new a.default(e,this.parent)}createGroupItem(e){return new s.default(e,this.parent)}createTextItem(e){return new i.default(e,this.parent)}createStringItem(e){return new l.default(e,this.parent)}createDecimalItem(e){return new u.default(e,this.parent)}createBooleanItem(e){return new o.default(e,this.parent)}createTimeItem(e){return new c.default(e,this.parent)}createDateItem(e){return new f.default(e,this.parent)}createDateTimeItem(e){return new d.default(e,this.parent)}createAttachmentItem(e){return new p.default(e,this.parent)}createChoiceItem(e){return new m.default(e,this.parent)}createOpenChoiceItem(e){return new h.default(e,this.parent)}createMultiChoiceItem(e){return new v.default(e,this.parent)}}t.ItemFactory=g,t.default=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(2);let a=class extends o.QuestionItem{constructor(){super(...arguments),this.type=i.TEXT}};a=r([n(0).observable],a),t.TextItem=a,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17);class i{constructor(e){this.parent=e}createInitialAnswer(e){return new r.InitialAnswer(e,this.parent)}}t.InitialAnswerFactory=i,t.default=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(n(39));const i=r(n(3));class o{constructor(e,t){this.id=e&&e.id||i.default(),this.value=e&&e.value,this.parent=t,Object.defineProperty(o.prototype,"position",{enumerable:!0,configurable:!0,get(){if(!this.parent)return;let e;return this.parent.initialAnswers.find((t,n)=>{if(t.id===this.id)return e=n,!0}),e}})}updateInitialAnswer(e){this.id=e.id,this.value=e.value}setValue(e){this.value=e}remove(){this.parent&&this.parent.removeInitialAnswer(this)}}t.InitialAnswer=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1),a=n(0),s=i(n(2));let l=class extends s.default{constructor(){super(...arguments),this.type=o.BOOLEAN}};l=r([a.observable],l),t.BooleanItem=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(2);let a=class extends o.QuestionItem{constructor(){super(...arguments),this.type=i.STRING}};a=r([n(0).observable],a),t.StringItem=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1),a=n(0),s=i(n(2));let l=class extends s.default{constructor(){super(...arguments),this.type=o.DECIMAL}};l=r([a.observable],l),t.DecimalItem=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),a=i(n(2)),s=n(1);let l=class extends a.default{constructor(){super(...arguments),this.type=s.TIME}};l=r([o.observable],l),t.TimeItem=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),a=i(n(2)),s=n(1);let l=class extends a.default{constructor(){super(...arguments),this.type=s.DATE}};l=r([o.observable],l),t.DateItem=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),a=n(1),s=i(n(2));let l=class extends s.default{constructor(){super(...arguments),this.type=a.DATE_TIME}};l=r([o.observable],l),t.DateTimeItem=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(1),s=n(0),l=o(n(2));let u=class extends l.default{constructor(e,t){super(e,t),this.type=a.ATTACHMENT,this.multipleFiles=!(!e||!e.multipleFiles)}updateItem(e){const t=s.getObservable(e);t&&t.mute(),this.multipleFiles=e.multipleFiles,t&&t.unmute(),super.updateItem(e)}};u=r([s.observable,i("design:paramtypes",[Object,Object])],u),t.AttachmentItem=u,t.default=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(1),s=n(0),l=o(n(5)),u=o(n(2));let c=class extends u.default{constructor(e,t){super(e,t),this.type=a.OPEN_CHOICE,this.optionIdMap=new Map,this.answerOptionFactory=new l.default(this),this.completeOptions(e),this.options.forEach(e=>this.optionIdMap.set(e.id,!0))}clearInitialAnswers(){this.defaultOption&&(this.defaultOption.defaultSelected=!1)}selectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(this.defaultOption&&(this.defaultOption.defaultSelected=!1),this.defaultOption=t,this.defaultOption.defaultSelected=!0)}unselectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(t.defaultSelected=!1,this.defaultOption=void 0)}completeOptions(e){e&&e.options&&0!==e.options.length?this.options=e.options.map(e=>this.answerOptionFactory.createAnswerOption(e)):this.options=[this.answerOptionFactory.createAnswerOption()]}addAnswerOption(e){this.optionIdMap.has(e.id)||(this.options.splice(this.options.length-1,0,e),this.optionIdMap.set(e.id,!0))}removeAnswerOption(e){e.position!==this.options.length-1&&(this.options.splice(e.position,1),this.optionIdMap.delete(e.id))}};r([s.observableProperty,i("design:type",Array)],c.prototype,"options",void 0),c=r([s.observable,i("design:paramtypes",[Object,Object])],c),t.OpenChoiceItem=c,t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(3)),l=n(0);let u=r=class{constructor(e,t){this.id=e&&e.id||s.default(),this.value=e&&e.value,this.parent=t,this.defaultSelected=!!e&&!!e.defaultSelected,Object.defineProperty(r.prototype,"position",{enumerable:!0,configurable:!0,get(){if(!this.parent)return;let e;return this.parent.options.find((t,n)=>{if(t.id===this.id)return e=n,!0}),e}})}selectAsDefault(){this.parent&&this.parent.selectDefaultOption(this)}unselectAsDefault(){this.parent&&this.parent.unselectDefaultOption(this)}updateAnswerOption(e){this.id=e.id,this.value=e.value}setValue(e){this.value=e}remove(){this.parent&&this.parent.removeAnswerOption(this)}};u=r=i([l.observable,o("design:paramtypes",[Object,Object])],u),t.AnswerOption=u,t.default=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(0),s=o(n(2)),l=n(1),u=o(n(5));let c=class extends s.default{constructor(e,t){super(e,t),this.type=l.CHOICE,this.optionIdMap=new Map,this.answerOptionFactory=new u.default(this),this.completeOptions(e),this.options.forEach(e=>this.optionIdMap.set(e.id,!0))}completeOptions(e){e&&e.options?this.options=e.options.map(e=>this.answerOptionFactory.createAnswerOption(e)):this.options=[]}setSingleInitialAnswer(e){}addInitialAnswer(e){}clearInitialAnswers(){this.defaultOption&&(this.defaultOption.defaultSelected=!1)}selectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(this.defaultOption&&(this.defaultOption.defaultSelected=!1),this.defaultOption=t,this.defaultOption.defaultSelected=!0)}unselectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(t.defaultSelected=!1,this.defaultOption=void 0)}addAnswerOption(e){this.optionIdMap.has(e.id)||(this.options.push(e),this.optionIdMap.set(e.id,!0))}removeAnswerOption(e){this.options.splice(e.position,1),this.optionIdMap.delete(e.id)}};r([a.observableProperty,i("design:type",Array)],c.prototype,"options",void 0),c=r([a.observable,i("design:paramtypes",[Object,Object])],c),t.ChoiceItem=c,t.default=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(2)),s=n(1),l=n(0),u=o(n(5));let c=class extends a.default{constructor(e,t){super(e,t),this.type=s.MULTI_CHOICE,this.optionIdMap=new Map,this.answerOptionFactory=new u.default(this),this.completeOptions(e),this.options.forEach(e=>this.optionIdMap.set(e.id,!0))}clearInitialAnswers(){this.options.forEach(e=>{e.defaultSelected=!1})}selectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(t.defaultSelected=!0)}unselectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(t.defaultSelected=!1)}completeOptions(e){e&&e.options?this.options=e.options.map(e=>this.answerOptionFactory.createAnswerOption(e)):this.options=[]}addAnswerOption(e){this.optionIdMap.has(e.id)||(this.options.push(e),this.optionIdMap.set(e.id,!0))}removeAnswerOption(e){this.options.splice(e.position,1),this.optionIdMap.delete(e.id)}};r([l.observableProperty,i("design:type",Array)],c.prototype,"options",void 0),c=r([l.observable,i("design:paramtypes",[Object,Object])],c),t.MultiChoiceItem=c,t.default=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0);let a=class{constructor(e){this.answers=e||[]}updateResponseAnswers(e,t){const n=o.getObservable(this);n&&n.mute(),this.answers=this.answers.filter(t=>t.parentId!==e),t.forEach(t=>{this.answers.push({parentId:e,value:t.value})}),n&&n.unmute(),n&&n.emitChange()}};a=r([o.observable,i("design:paramtypes",[Array])],a),t.AnswerCollection=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),l=o(n(3)),u=o(n(31)),c=o(n(29)),f=o(n(42)),d=o(n(8)),p=a(n(6));let h=class{constructor(e,t,n,r,i){this.answerFactory=new u.default(this),this.errorMessages=[],this.isEnable=!0,this.itemIdMap=new Map,this.answerIdMap=new Map,this.id=e&&e.id||l.default(),this.questionId=t.id,this.text=t.text,this.answerCollection=i,this.fillAnswers(e,t),this.fillItems(e,t),this.validationRules=r,this.replyStrategy=n,this.questionItem=t,this.validate(),this.decideEnablingObservation(),this.answerCollection.updateResponseAnswers(this.questionId,this.answers),this.defineOwnProperties(),this.items.forEach(e=>this.itemIdMap.set(e.id,!0)),this.answers.forEach(e=>this.answerIdMap.set(e.id,!0))}defineOwnProperties(){Object.defineProperty(this,"isValid",{get(){return 0===this.errorMessages.length}})}fillAnswers(e,t){if(e&&e.answers)this.answers=e.answers.map(e=>this.answerFactory.createAnswer(e));else{const e=t.initialAnswers;e&&e.length?this.answers=e.map(e=>this.answerFactory.createAnswer(e)):t.options?this.answers=t.options.filter(e=>e.defaultSelected&&e).map(e=>this.answerFactory.createAnswer(e)):this.answers=[]}}fillItems(e,t){t.items?this.items=t.items.map(t=>{const n=e&&e.items&&e.items.find(e=>e.questionId===t.id);return d.default.createResponse(t,this.answerCollection,n)}):this.items=[]}decideEnablingObservation(){if(this.questionItem.enableWhen&&this.questionItem.enableWhen.length){const e=s.getObservable(this.answerCollection);e&&e.subscribe(this.evaluateEnableWhen.bind(this))}}initiateEnableWhen(){this.items.forEach(e=>e.initiateEnableWhen()),this.evaluateEnableWhen(this.answerCollection)}evaluateEnableWhen(e){if(void 0===this.questionItem.enableBehavior||!this.questionItem.enableWhen||this.questionItem.enableWhen.length<1)return;const t=e.answers,n=this.questionItem.enableWhen.filter(e=>!!e.questionId&&(void 0!==e.answer||e.operator===p.EXISTS)).map(e=>e.operator===p.EXISTS?void 0!==t.find(t=>t.parentId===e.questionId):t.filter(t=>t.parentId===e.questionId).some(t=>f.default.apply({[e.operator]:[""+t.value,""+e.answer]})));this.isEnable=f.default.apply({[this.questionItem.enableBehavior]:n})}setReplyStrategy(e){const t=s.getObservable(this);t&&t.mute(),this.replyStrategy=e,t&&t.unmute()}validate(){const e=[];this.validationRules.forEach(t=>{const n=t(this.answers[0]&&this.answers[0].value);n&&e.push(n)}),this.errorMessages=e}reply(e){if(!this.replyStrategy)return;const t=s.getObservable(this);t&&t.mute(),this.replyStrategy(e,this,this.answerFactory),this.validate(),t&&t.unmute(),t&&t.emitChange(),this.answerCollection.updateResponseAnswers(this.questionId,this.answers)}addQuestionnaireResponseItem(e){this.itemIdMap.has(e.id)||(e.answerCollection=this.answerCollection,this.items.push(e),this.itemIdMap.set(e.id,!0))}updateQuestionnaireResponseItem(e){Object.assign(this,e)}setSingleAnswer(e){this.answers.splice(0,this.answers.length,e),this.answerIdMap.clear(),this.answerIdMap.set(e.id,!0)}addAnswer(e,t){this.itemIdMap.has(e.id)||(t=void 0===t?this.answers.length:t,this.answers.splice(t,0,e),this.answerIdMap.set(e.id,!0))}removeAnswer(e){this.answers.splice(e.position,1),this.answerIdMap.delete(e.id)}};r([s.observableProperty,i("design:type",Array)],h.prototype,"items",void 0),r([s.observableProperty,i("design:type",Array)],h.prototype,"answers",void 0),h=r([s.observable,i("design:paramtypes",[Object,Object,Function,Array,c.default])],h),t.QuestionnaireResponseItem=h,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32);class i{constructor(e){this.parent=e}createAnswer(e){return new r.Answer(e,this.parent)}}t.AnswerFactory=i,t.default=i},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(3)),l=n(0);let u=r=class{constructor(e,t){this.itemIdMap=new Map,this.id=e&&e.id||s.default(),this.parent=t,this.items=[],this.value=e&&e.value,Object.defineProperty(r.prototype,"position",{enumerable:!0,configurable:!0,get(){if(!this.parent)return;let e;return this.parent.answers.find((t,n)=>{if(t.id===this.id)return e=n,!0}),e}}),this.items.forEach(e=>this.itemIdMap.set(e.id,!0))}addQuestionnaireResponseItem(e){this.itemIdMap.has(e.id)||(this.items.push(e),this.itemIdMap.set(e.id,!0))}updateAnswer(e){Object.assign(this,e)}setValue(e){this.value=e}remove(){this.parent&&this.parent.removeAnswer(this)}};i([l.observableProperty,o("design:type",Array)],u.prototype,"items",void 0),u=r=i([l.observable,o("design:paramtypes",[Object,Object])],u),t.Answer=u,t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.choiceStrategy=(e,t,n)=>{const r=t.answers[0]||n.createAnswer(),i=t.questionItem.options.find(t=>t.id===e);i&&r.updateAnswer(Object.assign(Object.assign({},r),{id:i.id,value:i.value})),t.setSingleAnswer(r)},t.default=t.choiceStrategy},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textInputStrategy=(e,t,n)=>{if(t.answers[0]){const n=t.answers[0];""!==e&&void 0!==e?n.setValue(e):n.remove()}else if(""!==e&&void 0!==e){const r=n.createAnswer({value:e});t.setSingleAnswer(r)}},t.default=t.textInputStrategy},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiChoiceStrategy=(e,t,n)=>{const r=t.questionItem.options.find(t=>t.id===e);if(!r)return;const i=t.answers.find(e=>e.id===r.id);i?i.remove():t.addAnswer(n.createAnswer({id:r.id,value:r.value}))},t.default=t.multiChoiceStrategy},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1)),r(n(9)),r(n(6)),r(n(10)),r(n(11)),r(n(4)),r(n(13)),r(n(2)),r(n(24)),r(n(18)),r(n(27)),r(n(22)),r(n(23)),r(n(20)),r(n(25)),r(n(19)),r(n(15)),r(n(21)),r(n(28)),r(n(40)),r(n(41)),r(n(30)),r(n(32)),r(n(17)),r(n(26)),r(n(14)),r(n(31)),r(n(16)),r(n(5)),r(n(8)),r(n(12)),r(n(7)),r(n(33)),r(n(35)),r(n(34))},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(3)),s=n(0),l=o(n(7));let u=class{constructor(e){this.itemIdMap=new Map,this.itemByTypeFactory=new l.default(this),this.id=e&&e.id||a.default(),this.description=e&&e.description,this.title=e&&e.title,this.completeItems(e),this.items.forEach(e=>this.itemIdMap.set(e.id,!0))}completeItems(e){e&&e.items?this.items=e.items.map(e=>this.itemByTypeFactory.createItem(e)):this.items=[]}addDescendantItemAfter(e,t){this.addItem(t,e.position+1)}updateQuestionnaire(e){const t=s.getObservable(this);t&&t.mute(),this.description=e.description,this.title=e.title,this.id=e.id,t&&t.unmute(),t&&t.emitChange()}addItem(e,t){this.itemIdMap.has(e.id)||(e.parent=this,t=void 0===t?this.items.length:t,this.items.splice(t,0,e),this.itemIdMap.set(e.id,!0))}removeItem(e){this.items.splice(e.position,1),this.itemIdMap.delete(e.id)}replaceItem(e,t){const n=e.position;this.items.splice(n,1,t),this.itemIdMap.delete(e.id),this.itemIdMap.set(t.id,!0)}};r([s.observableProperty,i("design:type",Array)],u.prototype,"items",void 0),u=r([s.observable,i("design:paramtypes",[Object])],u),t.Questionnaire=u,t.default=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(3)),s=n(0),l=o(n(29)),u=o(n(8));let c=class{constructor(e,t){this.answerCollection=new l.default,this.itemIdMap=new Map,this.id=t&&t.id||a.default(),this.questionnaireId=e.id,e.items?this.items=e.items.map(e=>{const n=t&&t.items&&t.items.find(t=>t.questionId===e.id);return u.default.createResponse(e,this.answerCollection,n)}):this.items=[],this.items.forEach(e=>this.itemIdMap.set(e.id,!0)),this.items.forEach(e=>e.initiateEnableWhen())}addQuestionnaireResponseItem(e){this.itemIdMap.has(e.id)||(e.answerCollection=this.answerCollection,this.items.push(e),this.itemIdMap.set(e.id,!0))}updateQuestionnaireResponse(e){this.id=e.id,this.questionnaireId=e.questionnaireId}};r([s.observableProperty,i("design:type",Array)],c.prototype,"items",void 0),c=r([s.observable,i("design:paramtypes",[Object,Object])],c),t.QuestionnaireResponse=c,t.default=c},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var e={},t={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t,n){return void 0===n?e<t:e<t&&t<n},"<=":function(e,t,n){return void 0===n?e<=t:e<=t&&t<=n},"!!":function(t){return e.truthy(t)},"!":function(t){return!e.truthy(t)},"%":function(e,t){return e%t},log:function(e){return console.log(e),e},in:function(e,t){return!(!t||void 0===t.indexOf)&&-1!==t.indexOf(e)},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(e,t,n){if(n<0){var r=String(e).substr(t);return r.substr(0,r.length+n)}return String(e).substr(t,n)},"+":function(){return Array.prototype.reduce.call(arguments,(function(e,t){return parseFloat(e,10)+parseFloat(t,10)}),0)},"*":function(){return Array.prototype.reduce.call(arguments,(function(e,t){return parseFloat(e,10)*parseFloat(t,10)}))},"-":function(e,t){return void 0===t?-e:e-t},"/":function(e,t){return e/t},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,(function(e,t){return e.concat(t)}),[])},var:function(e,t){var n=void 0===t?null:t,r=this;if(void 0===e||""===e||null===e)return r;for(var i=String(e).split("."),o=0;o<i.length;o++){if(null===r)return n;if(void 0===(r=r[i[o]]))return n}return r},missing:function(){for(var t=[],n=Array.isArray(arguments[0])?arguments[0]:arguments,r=0;r<n.length;r++){var i=n[r],o=e.apply({var:i},this);null!==o&&""!==o||t.push(i)}return t},missing_some:function(t,n){var r=e.apply({missing:n},this);return n.length-r.length>=t?[]:r},method:function(e,t,n){return e[t].apply(e,n)}};return e.is_logic=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length},e.truthy=function(e){return!(Array.isArray(e)&&0===e.length||!e)},e.get_operator=function(e){return Object.keys(e)[0]},e.get_values=function(t){return t[e.get_operator(t)]},e.apply=function(n,r){if(Array.isArray(n))return n.map((function(t){return e.apply(t,r)}));if(!e.is_logic(n))return n;r=r||{};var i,o,a,s,l,u=e.get_operator(n),c=n[u];if(Array.isArray(c)||(c=[c]),"if"===u||"?:"==u){for(i=0;i<c.length-1;i+=2)if(e.truthy(e.apply(c[i],r)))return e.apply(c[i+1],r);return c.length===i+1?e.apply(c[i],r):null}if("and"===u){for(i=0;i<c.length;i+=1)if(o=e.apply(c[i],r),!e.truthy(o))return o;return o}if("or"===u){for(i=0;i<c.length;i+=1)if(o=e.apply(c[i],r),e.truthy(o))return o;return o}if("filter"===u)return s=e.apply(c[0],r),a=c[1],Array.isArray(s)?s.filter((function(t){return e.truthy(e.apply(a,t))})):[];if("map"===u)return s=e.apply(c[0],r),a=c[1],Array.isArray(s)?s.map((function(t){return e.apply(a,t)})):[];if("reduce"===u)return s=e.apply(c[0],r),a=c[1],l=void 0!==c[2]?c[2]:null,Array.isArray(s)?s.reduce((function(t,n){return e.apply(a,{current:n,accumulator:t})}),l):l;if("all"===u){if(s=e.apply(c[0],r),a=c[1],!s.length)return!1;for(i=0;i<s.length;i+=1)if(!e.truthy(e.apply(a,s[i])))return!1;return!0}if("none"===u)return 0===e.apply({filter:c},r).length;if("some"===u)return e.apply({filter:c},r).length>0;if(c=c.map((function(t){return e.apply(t,r)})),"function"==typeof t[u])return t[u].apply(r,c);if(u.indexOf(".")>0){var f=String(u).split("."),d=t;for(i=0;i<f.length;i++)if(void 0===(d=d[f[i]]))throw new Error("Unrecognized operation "+u+" (failed at "+f.slice(0,i+1).join(".")+")");return d.apply(r,c)}throw new Error("Unrecognized operation "+u)},e.uses_data=function(t){var n=[];if(e.is_logic(t)){var r=e.get_operator(t),i=t[r];Array.isArray(i)||(i=[i]),"var"===r?n.push(i[0]):i.map((function(t){n.push.apply(n,e.uses_data(t))}))}return function(e){for(var t=[],n=0,r=e.length;n<r;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n)},e.add_operation=function(e,n){t[e]=n},e.rm_operation=function(e){delete t[e]},e.rule_like=function(t,n){if(n===t)return!0;if("@"===n)return!0;if("number"===n)return"number"==typeof t;if("string"===n)return"string"==typeof t;if("array"===n)return Array.isArray(t)&&!e.is_logic(t);if(e.is_logic(n)){if(e.is_logic(t)){var r=e.get_operator(n),i=e.get_operator(t);if("@"===r||r===i)return e.rule_like(e.get_values(t,!1),e.get_values(n,!1))}return!1}if(Array.isArray(n)){if(Array.isArray(t)){if(n.length!==t.length)return!1;for(var o=0;o<n.length;o+=1)if(!e.rule_like(t[o],n[o]))return!1;return!0}return!1}return!1},e})?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=/[ \r\n\t\S]+/,o=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][+-]?[0-9]+)?/,a=/true|false/,s=/([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?/,l=/([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\.[0-9]+)?/,u=/([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?/,c=(e,t)=>t.test(""+e)||""===e||void 0===e?void 0:r.REG_EXP;t.validators={stringRegExp:e=>c(e,i),textRegExp:e=>c(e,i),decimalRegExp:e=>c(e,o),booleanRegExp:e=>c(e,a),dateRegExp:e=>c(e,s),timeRegExp:e=>c(e,l),dateTimeRegExp:e=>c(e,u),required:e=>(e=>void 0!==e&&""!==e?void 0:r.REQUIRED)(e)},t.default=t.validators},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachmentStrategy=(e,t,n)=>{const r=t.answers.find(t=>t.value===e);r?r.remove():t.questionItem.multipleFiles?t.addAnswer(n.createAnswer({value:e})):t.setSingleAnswer(n.createAnswer({value:e}))},t.default=t.attachmentStrategy}]))},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2);const r=Symbol("subscribe"),i=Symbol("emitChange"),o=Symbol("subscribers"),a=Symbol("notify"),s=Symbol("isMuted"),l=Symbol("mute"),u=Symbol("unmute"),c=Symbol("observableProperty");function f(e){return e&&"object"==typeof e&&r in e&&i in e&&o in e&&a in e&&l in e&&u in e&&s in e}function d(e){if(f(e))return{subscribe:e[r].bind(e),emitChange:e[i].bind(e),mute:e[l].bind(e),unmute:e[u].bind(e)}}function p(e){return function(e){f(e)||"object"==typeof e&&!Reflect.isExtensible(e)||(Reflect.defineProperty(e,s,{value:!1,writable:!0}),Reflect.defineProperty(e,o,{value:new Set,writable:!0}),Reflect.defineProperty(e,r,{value:function(e){return this[o].add(e),{dispose:()=>{this[o].delete(e)}}}}),Reflect.defineProperty(e,a,{value:function(e){setTimeout(()=>{e(this)})}}),Reflect.defineProperty(e,i,{value:function(){this[s]||this[o].forEach(this[a].bind(this))}}),Reflect.defineProperty(e,l,{value:function(){this[s]=!0}}),Reflect.defineProperty(e,u,{value:function(){this[s]=!1}}))}(e),function(e){return new Proxy(e,h)}(e)}t.observable=function(e){return class extends e{constructor(...e){var t;return super(...e),t=this,Reflect.ownKeys(t).filter(e=>f(t[e])).forEach(e=>{d(t[e]).subscribe(()=>{const e=d(t);e&&e.emitChange()})}),p(this)}}},t.observableProperty=function(e,t){Reflect.defineProperty(e,t,{set(e){Reflect.defineProperty(this,t,{value:f(e)?e:p(e),enumerable:!0,writable:!0,configurable:!0})}}),Reflect.hasMetadata(c,e,t)||Reflect.defineMetadata(c,!0,e,t)},t.isObservable=f,t.getObservable=d,t.toObservable=p;const h={set(e,t,n){if(Reflect.getMetadata(c,e.__proto__,t))e[t]=f(n)?n:p(n),d(e[t]).subscribe(()=>{e[i]&&e[i]()});else{if(e[t]===n)return!0;e[t]=n}var h;return(h=t)===o||h===r||h===i||h===a||h===s||h===l||h===u||Array.isArray(e)&&"length"===t||e[i]&&e[i](),!0},deleteProperty:(e,t)=>Array.isArray(e)?(e.splice(+t,1),e[i]&&e[i](),!0):(delete e[t],e[i]&&e[i](),!0)}},function(e,t,n){(function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){!function(r){var i="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=a(n);function a(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===i.Reflect?i.Reflect=n:o=a(i.Reflect,o),function(t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,i=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,l=!a&&!s,u={create:a?function(){return F(Object.create(null))}:s?function(){return F({__proto__:null})}:function(){return F({})},has:l?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:l?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),f="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}():Map,p=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}():Set,h=new(f||"function"!=typeof WeakMap?function(){var e=16,t=u.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+s()}while(u.has(t,e));return t[e]=!0,e}function o(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(){var t,n=(t=e,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t):a(new Array(t),t));n[6]=79&n[6]|64,n[8]=191&n[8]|128;for(var r="",i=0;i<e;++i){var o=n[i];4!==i&&6!==i&&8!==i||(r+="-"),o<16&&(r+="0"),r+=o.toString(16).toLowerCase()}return r}}():WeakMap);function m(e,t,n){var r=h.get(e);if(O(r)){if(!n)return;r=new d,h.set(e,r)}var i=r.get(t);if(O(i)){if(!n)return;i=new d,r.set(t,i)}return i}function v(e,t,n){var r=m(t,n,!1);return!O(r)&&!!r.has(e)}function g(e,t,n){var r=m(t,n,!1);if(!O(r))return r.get(e)}function b(e,t,n,r){m(n,r,!0).set(e,t)}function y(e,t){var n=[],r=m(e,t,!1);if(O(r))return n;for(var i=function(e){var t=M(e,o);if(!I(t))throw new TypeError;var n=t.call(e);if(!E(n))throw new TypeError;return n}(r.keys()),a=0;;){var s=T(i);if(!s)return n.length=a,n;var l=s.value;try{n[a]=l}catch(e){try{j(i)}finally{throw e}}a++}}function _(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function O(e){return void 0===e}function w(e){return null===e}function E(e){return"object"==typeof e?null!==e:"function"==typeof e}function C(e){var t=function(e,t){switch(_(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=M(e,i);if(void 0!==r){var o=r.call(e,n);if(E(o))throw new TypeError;return o}return function(e,t){if("string"===t){var n=e.toString;if(I(n)&&!E(i=n.call(e)))return i;if(I(r=e.valueOf)&&!E(i=r.call(e)))return i}else{var r;if(I(r=e.valueOf)&&!E(i=r.call(e)))return i;var i,o=e.toString;if(I(o)&&!E(i=o.call(e)))return i}throw new TypeError}(e,"default"===n?"number":n)}(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function A(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function I(e){return"function"==typeof e}function S(e){return"function"==typeof e}function M(e,t){var n=e[t];if(null!=n){if(!I(n))throw new TypeError;return n}}function T(e){var t=e.next();return!t.done&&t}function j(e){var t=e.return;t&&t.call(e)}function x(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i?t:i===e?t:i}function F(e){return e.__=void 0,delete e.__,e}t("decorate",(function(e,t,n,r){if(O(n)){if(!A(e))throw new TypeError;if(!S(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!O(r)&&!w(r)){if(!S(r))throw new TypeError;t=r}}return t}(e,t)}if(!A(e))throw new TypeError;if(!E(t))throw new TypeError;if(!E(r)&&!O(r)&&!w(r))throw new TypeError;return w(r)&&(r=void 0),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!O(o)&&!w(o)){if(!E(o))throw new TypeError;r=o}}return r}(e,t,n=C(n),r)})),t("metadata",(function(e,t){return function(n,r){if(!E(n))throw new TypeError;if(!O(r)&&!function(e){switch(_(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;b(e,t,n,r)}})),t("defineMetadata",(function(e,t,n,r){if(!E(n))throw new TypeError;return O(r)||(r=C(r)),b(e,t,n,r)})),t("hasMetadata",(function(e,t,n){if(!E(t))throw new TypeError;return O(n)||(n=C(n)),function e(t,n,r){if(v(t,n,r))return!0;var i=x(n);return!w(i)&&e(t,i,r)}(e,t,n)})),t("hasOwnMetadata",(function(e,t,n){if(!E(t))throw new TypeError;return O(n)||(n=C(n)),v(e,t,n)})),t("getMetadata",(function(e,t,n){if(!E(t))throw new TypeError;return O(n)||(n=C(n)),function e(t,n,r){if(v(t,n,r))return g(t,n,r);var i=x(n);return w(i)?void 0:e(t,i,r)}(e,t,n)})),t("getOwnMetadata",(function(e,t,n){if(!E(t))throw new TypeError;return O(n)||(n=C(n)),g(e,t,n)})),t("getMetadataKeys",(function(e,t){if(!E(e))throw new TypeError;return O(t)||(t=C(t)),function e(t,n){var r=y(t,n),i=x(t);if(null===i)return r;var o=e(i,n);if(o.length<=0)return r;if(r.length<=0)return o;for(var a=new p,s=[],l=0,u=r;l<u.length;l++){var c=u[l];a.has(c)||(a.add(c),s.push(c))}for(var f=0,d=o;f<d.length;f++)c=d[f],a.has(c)||(a.add(c),s.push(c));return s}(e,t)})),t("getOwnMetadataKeys",(function(e,t){if(!E(e))throw new TypeError;return O(t)||(t=C(t)),y(e,t)})),t("deleteMetadata",(function(e,t,n){if(!E(t))throw new TypeError;O(n)||(n=C(n));var r=m(t,n,!1);if(O(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=h.get(t);return i.delete(n),i.size>0||(h.delete(t),!0)}))}(o)}()}(n||(n={}))}).call(this,n(3),n(4))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&p())}function p(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}])},function(e,t,n){var r,i;e.exports=(r=n(4),i=n(1),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(1))},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(2)),a=i(n(3)),s=n(6);function l(e){class t extends o.Component{constructor(e){super(e),this.subscriptions=[],this.wasNotUnmounted=!0,this.state={},this.subscribeOnObservable()}componentWillUnmount(){this.wasNotUnmounted=!1,super.componentWillUnmount&&super.componentWillUnmount.call(this),this.subscriptions.forEach(e=>setTimeout(()=>e.dispose()))}subscribeOnObservable(){Reflect.ownKeys(this.props).forEach(e=>{if("key"!==e&&s.isObservable(this.props[e])){const t=s.getObservable(this.props[e]);t&&this.subscriptions.push(t.subscribe(t=>{this.wasNotUnmounted&&this.setState({[e]:t})}))}})}getProps(){return Object.assign(Object.assign({},this.props),this.state)}render(){return o.createElement(e,Object.assign({},this.getProps()))}}return a.default(t,e),t}t.useObservableModel=l,t.default=l},function(e,t){e.exports=r},function(e,t,n){"use strict";var r=n(4),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=l(t),m=l(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||r&&r[g]||m&&m[g]||s&&s[g])){var b=d(n,g);try{u(t,g,b)}catch(e){}}}}return t}},function(e,t,n){"use strict";e.exports=n(5)},function(e,t,n){"use strict";
/** @license React v16.12.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function O(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case d:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case v:case u:return e;default:return t}}case o:return t}}}function w(e){return O(e)===d}t.typeOf=O,t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===y||e.$$typeof===_)},t.isAsyncMode=function(e){return w(e)||O(e)===f},t.isConcurrentMode=w,t.isContextConsumer=function(e){return O(e)===c},t.isContextProvider=function(e){return O(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return O(e)===p},t.isFragment=function(e){return O(e)===a},t.isLazy=function(e){return O(e)===g},t.isMemo=function(e){return O(e)===v},t.isPortal=function(e){return O(e)===o},t.isProfiler=function(e){return O(e)===l},t.isStrictMode=function(e){return O(e)===s},t.isSuspense=function(e){return O(e)===h}},function(e,t){e.exports=i}]))},function(e,t,n){var r;e.exports=(r=n(0),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t){e.exports=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(18)),o=r(n(19));t.questionnaireResponseItemConverter={toModel:e=>({id:e.id,text:e.text,questionId:e.linkId,items:e.item&&e.item.map(e=>t.questionnaireResponseItemConverter.toModel(e)),answers:e.answer&&e.answer.map(e=>i.default(e))}),fromModel:e=>({id:e.id,linkId:e.questionId,text:e.text,answer:e.answers&&e.answers.map(e=>o.default(e)),item:e.items&&e.items.map(e=>t.questionnaireResponseItemConverter.fromModel(e))})},t.default=t.questionnaireResponseItemConverter},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(3),a=n(5),s=n(8),l=n(10),u=n(11),c=n(12),f=n(13),d=n(14),p=n(16),h=n(17);t.questionnaireItemConverter={toModel:e=>({id:e.linkId,required:e.required,text:e.text,type:o.itemTypeToModelConverter(e.type,e.repeats),items:e.item&&e.item.map(e=>t.questionnaireItemConverter.toModel(e)),enableWhen:e.enableWhen&&e.enableWhen.map(e=>a.enableWhenToModelConverter(e)),enableBehavior:s.enableBehaviorToModelConverter(e.enableBehavior),initialAnswers:e.initial&&e.initial.map(e=>l.initialAnswerToModelConverter(e)),options:e.answerOption&&e.answerOption.map(e=>u.answerOptionToModelConverter(e)),multipleFiles:o.itemTypeToModelConverter(e.type,e.repeats)===i.ATTACHMENT&&e.repeats}),fromModel:e=>({linkId:e.id,required:e.required,text:e.text,type:c.itemTypeFromModelConverter(e.type),repeats:e.type===i.MULTI_CHOICE||e.multipleFiles,item:e.items&&e.items.map(e=>t.questionnaireItemConverter.fromModel(e)),enableWhen:e.enableWhen&&e.enableWhen.map(e=>d.enableWhenFromModelConverter(e)),enableBehavior:f.enableBehaviorFromModelConverter(e.enableBehavior),initial:e.initialAnswers&&e.initialAnswers.map(t=>h.initialAnswerFromModelConverter(t,e.type)),answerOption:e.options&&e.options.map(e=>p.answerOptionFromModelConverter(e))})},t.default=t.questionnaireItemConverter},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(4));t.itemTypeToModelConverter=(e,t)=>{if(e===o.CHOICE&&t)return i.MULTI_CHOICE;switch(e){case o.GROUP:return i.GROUP;case o.DISPLAY:return i.DISPLAY;case o.BOOLEAN:return i.BOOLEAN;case o.ATTACHMENT:return i.ATTACHMENT;case o.CHOICE:return i.CHOICE;case o.DATE:return i.DATE;case o.DATE_TIME:return i.DATE_TIME;case o.DECIMAL:return i.DECIMAL;case o.OPEN_CHOICE:return i.OPEN_CHOICE;case o.STRING:return i.STRING;case o.TIME:return i.TIME;case o.TEXT:return i.TEXT;default:return i.DISPLAY}},t.default=t.itemTypeToModelConverter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GROUP="group",t.DISPLAY="display",t.BOOLEAN="boolean",t.DECIMAL="decimal",t.DATE="date",t.DATE_TIME="dateTime",t.TIME="time",t.TEXT="text",t.CHOICE="choice",t.OPEN_CHOICE="open-choice",t.MULTI_CHOICE="multi-choice",t.ATTACHMENT="attachment",t.STRING="string"},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(6));t.enableWhenToModelConverter=e=>({id:e.id,questionId:e.question,answer:e.answerBoolean||e.answerDecimal||e.answerInteger||e.answerDate||e.answerDateTime||e.answerTime||e.answerString,operator:i.default(e.operator)}),t.default=t.enableWhenToModelConverter},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(7));t.operatorToModelConverter=e=>{switch(e){case o.EXISTS:return i.EXISTS;case o.EQUAL:return i.EQUAL;case o.LESS:return i.LESS;case o.LESS_OR_EQUAL:return i.LESS_OR_EQUAL;case o.MORE:return i.MORE;case o.MORE_OR_EQUAL:return i.MORE_OR_EQUAL;case o.NOT_EQUAL:return i.NOT_EQUAL;default:return i.EQUAL}},t.default=t.operatorToModelConverter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXISTS="exists",t.EQUAL="=",t.NOT_EQUAL="!=",t.MORE=">",t.LESS="<",t.MORE_OR_EQUAL=">=",t.LESS_OR_EQUAL="<="},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(9);t.enableBehaviorToModelConverter=e=>{switch(e){case o.ALL:return i.AND;case o.ANY:return i.OR;default:return i.AND}},t.default=t.enableBehaviorToModelConverter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALL="all",t.ANY="any"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialAnswerToModelConverter=e=>({id:e.id,value:e.valueBoolean||e.valueDecimal||e.valueInteger||e.valueDate||e.valueDateTime||e.valueTime||e.valueString}),t.default=t.initialAnswerToModelConverter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.answerOptionToModelConverter=e=>({id:e.id,value:e.valueInteger||e.valueDate||e.valueTime||e.valueString,defaultSelected:e.initialSelected}),t.default=t.answerOptionToModelConverter},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(4));t.itemTypeFromModelConverter=e=>{switch(e){case i.GROUP:return o.GROUP;case i.DISPLAY:return o.DISPLAY;case i.BOOLEAN:return o.BOOLEAN;case i.ATTACHMENT:return o.ATTACHMENT;case i.CHOICE:return o.CHOICE;case i.DATE:return o.DATE;case i.DATE_TIME:return o.DATE_TIME;case i.DECIMAL:return o.DECIMAL;case i.OPEN_CHOICE:return o.OPEN_CHOICE;case i.STRING:return o.STRING;case i.TIME:return o.TIME;case i.TEXT:return o.TEXT;case i.MULTI_CHOICE:return o.CHOICE;default:return o.DISPLAY}},t.default=t.itemTypeFromModelConverter},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(9));t.enableBehaviorFromModelConverter=e=>{switch(e){case i.AND:return o.ALL;case i.OR:return o.ANY;default:return o.ALL}},t.default=t.enableBehaviorFromModelConverter},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(15));t.enableWhenFromModelConverter=e=>({id:e.id,question:e.questionId,answerString:e.answer,operator:i.default(e.operator)}),t.default=t.enableWhenFromModelConverter},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(7));t.operatorFromModelConverter=e=>{switch(e){case i.EXISTS:return o.EXISTS;case i.EQUAL:return o.EQUAL;case i.LESS:return o.LESS;case i.LESS_OR_EQUAL:return o.LESS_OR_EQUAL;case i.MORE:return o.MORE;case i.MORE_OR_EQUAL:return o.MORE_OR_EQUAL;case i.NOT_EQUAL:return o.NOT_EQUAL;default:return o.EQUAL}},t.default=t.operatorFromModelConverter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.answerOptionFromModelConverter=e=>({id:e.id,valueString:e.value,initialSelected:e.defaultSelected}),t.default=t.answerOptionFromModelConverter},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.initialAnswerFromModelConverter=(e,t)=>{let n;switch(t){case i.TEXT:case i.STRING:n="valueString";break;case i.DECIMAL:n="valueDecimal";break;case i.BOOLEAN:n="valueBoolean";break;case i.TIME:n="valueTime";break;case i.DATE:n="valueDate";break;case i.DATE_TIME:n="valueDateTime";break;case i.ATTACHMENT:n="valueAttachment";break;default:n="valueString"}return{id:e.id,[n]:e.value}},t.default=t.initialAnswerFromModelConverter},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1));t.answerToModelConverter=e=>({id:e.id,items:e.item&&e.item.map(e=>i.default.toModel(e)),value:e.valueBoolean||e.valueDecimal||e.valueInteger||e.valueDate||e.valueDateTime||e.valueTime||e.valueString}),t.default=t.answerToModelConverter},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1));t.answerFromModelConverter=e=>({id:e.id,valueString:e.value,item:e.items&&e.items.map(e=>i.default.fromModel(e))}),t.default=t.answerFromModelConverter},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(21)),r(n(22)),r(n(2)),r(n(1)),r(n(18)),r(n(11)),r(n(8)),r(n(5)),r(n(10)),r(n(3)),r(n(6)),r(n(19)),r(n(16)),r(n(13)),r(n(14)),r(n(17)),r(n(12)),r(n(15))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.questionnaireConverter={toModel:e=>({description:e.description,title:e.title,id:e.id,items:e.item&&e.item.map(e=>r.questionnaireItemConverter.toModel(e))}),fromModel:e=>({resourceType:"Questionnaire",id:e.id,description:e.description,title:e.title,item:e.items&&e.items.map(e=>r.questionnaireItemConverter.fromModel(e))})},t.default=t.questionnaireConverter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.questionnaireResponseConverter={toModel:e=>({id:e.id,questionnaireId:e.resourceType.slice(14),items:e.item.map(e=>r.questionnaireResponseItemConverter.toModel(e))}),fromModel:e=>({id:e.id,questionnaire:`Questionnaire/${e.questionnaireId}`,resourceType:"QuestionnaireResponse",item:e.items&&e.items.map(e=>r.questionnaireResponseItemConverter.fromModel(e))})},t.default=t.questionnaireResponseConverter}]))},function(t,n){t.exports=e},function(e,t,n){var r,i,o;window,e.exports=(r=n(4),i=n(2),o=n(0),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t){e.exports=r},function(e,t){e.exports=i},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"Form",(function(){return $t})),n.d(t,"FormProvider",(function(){return Lt})),n.d(t,"withFormApi",(function(){return nn})),n.d(t,"withFormState",(function(){return rn})),n.d(t,"withFieldApi",(function(){return cn})),n.d(t,"withFieldState",(function(){return un})),n.d(t,"withRadioGroup",(function(){return fn})),n.d(t,"asField",(function(){return dn})),n.d(t,"useForm",(function(){return qt})),n.d(t,"useField",(function(){return Kt})),n.d(t,"useFieldApi",(function(){return an})),n.d(t,"useFieldState",(function(){return ln})),n.d(t,"useFormApi",(function(){return Gt})),n.d(t,"useFormState",(function(){return Ut})),n.d(t,"Text",(function(){return mn})),n.d(t,"Radio",(function(){return gn})),n.d(t,"TextArea",(function(){return yn})),n.d(t,"Select",(function(){return wn})),n.d(t,"Option",(function(){return En})),n.d(t,"Checkbox",(function(){return An})),n.d(t,"RadioGroup",(function(){return Sn})),n.d(t,"BasicText",(function(){return hn})),n.d(t,"BasicRadio",(function(){return vn})),n.d(t,"BasicRadioGroup",(function(){return In})),n.d(t,"BasicTextArea",(function(){return bn})),n.d(t,"BasicSelect",(function(){return On})),n.d(t,"BasicCheckbox",(function(){return Cn})),n.d(t,"Scope",(function(){return Ht})),n.d(t,"ArrayField",(function(){return tn})),n.d(t,"useArrayField",(function(){return en}));var i=n(0),o=n.n(i),a=n(11);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?v(e):t}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function O(e,t){return e(t={exports:{}},t.exports),t.exports}var w,E=O((function(e){function t(e,t){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t[Math.abs(n)%t.length]}function n(e,t){var n=t.namespace;if(t.useColors){var r=t.color,i="  ".concat("[3"+(r<8?r:"8;5;"+r),";1m").concat(n," [0m");e[0]=i+e[0].split("\n").join("\n"+i)}else e[0]=n+" "+e[0]}function i(e,t){if(e[0]=(t.useColors?"%c":"")+t.namespace,t.useColors){var n="color: "+t.color,r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),e.splice(i,0,n)}}var o=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e&&i.unshift(e);var a=n.namespaces.split(",").map((function(e){return"*"===e[e.length-1]?new RegExp("^"+e.slice(0,e.length-1)+".*$"):new RegExp("^"+e+"$")}));a.some((function(t){return t.test(e)})),t(e,n.colors),n.useColors}}void 0===r||"renderer"===r.type||!0===r.browser||r.__nwjs?e.exports=function(e){return a(e,function(){var e;try{e=localStorage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),{namespaces:e||"",colors:o,useColors:!0,formatArgs:i}}())}:e.exports=function(e){return a(e,{namespaces:r.env.DEBUG||"",colors:[6,2,3,4,5,1],useColors:!0,formatArgs:n})}})),C="object"==typeof _&&_&&_.Object===Object&&_,A="object"==typeof self&&self&&self.Object===Object&&self,I=C||A||Function("return this")(),S=I.Symbol,M=Object.prototype,T=M.hasOwnProperty,j=M.toString,x=S?S.toStringTag:void 0,F=Object.prototype.toString,R=S?S.toStringTag:void 0,P=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":R&&R in Object(e)?function(e){var t=T.call(e,x),n=e[x];try{e[x]=void 0;var r=!0}catch(e){}var i=j.call(e);return r&&(t?e[x]=n:delete e[x]),i}(e):function(e){return F.call(e)}(e)},D=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},N=function(e){if(!D(e))return!1;var t=P(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},k=I["__core-js_shared__"],L=(w=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",V=Function.prototype.toString,B=/^\[object .+?Constructor\]$/,q=Function.prototype,W=Object.prototype,$=q.toString,G=W.hasOwnProperty,U=RegExp("^"+$.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=function(e){return!(!D(e)||function(e){return!!L&&L in e}(e))&&(N(e)?U:B).test(function(e){if(null!=e){try{return V.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))},Q=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return H(n)?n:void 0},Y=function(){try{var e=Q(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),X=function(e,t){return e===t||e!=e&&t!=t},z=Object.prototype.hasOwnProperty,K=function(e,t,n){var r=e[t];z.call(e,t)&&X(r,n)&&(void 0!==n||t in e)||function(e,t,n){"__proto__"==t&&Y?Y(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}(e,t,n)},Z=Array.isArray,J=function(e){return null!=e&&"object"==typeof e},ee=function(e){return"symbol"==typeof e||J(e)&&"[object Symbol]"==P(e)},te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=Q(Object,"create"),ie=Object.prototype.hasOwnProperty,oe=Object.prototype.hasOwnProperty;function ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ae.prototype.clear=function(){this.__data__=re?re(null):{},this.size=0},ae.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ae.prototype.get=function(e){var t=this.__data__;if(re){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ie.call(t,e)?t[e]:void 0},ae.prototype.has=function(e){var t=this.__data__;return re?void 0!==t[e]:oe.call(t,e)},ae.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=re&&void 0===t?"__lodash_hash_undefined__":t,this};var se=ae,le=function(e,t){for(var n=e.length;n--;)if(X(e[n][0],t))return n;return-1},ue=Array.prototype.splice;function ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ce.prototype.clear=function(){this.__data__=[],this.size=0},ce.prototype.delete=function(e){var t=this.__data__,n=le(t,e);return!(n<0||(n==t.length-1?t.pop():ue.call(t,n,1),--this.size,0))},ce.prototype.get=function(e){var t=this.__data__,n=le(t,e);return n<0?void 0:t[n][1]},ce.prototype.has=function(e){return le(this.__data__,e)>-1},ce.prototype.set=function(e,t){var n=this.__data__,r=le(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var fe=ce,de=Q(I,"Map"),pe=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function he(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}he.prototype.clear=function(){this.size=0,this.__data__={hash:new se,map:new(de||fe),string:new se}},he.prototype.delete=function(e){var t=pe(this,e).delete(e);return this.size-=t?1:0,t},he.prototype.get=function(e){return pe(this,e).get(e)},he.prototype.has=function(e){return pe(this,e).has(e)},he.prototype.set=function(e,t){var n=pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var me=he,ve="Expected a function";function ge(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(ve);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ge.Cache||me),n}ge.Cache=me;var be=ge,ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/\\(\\)?/g,Oe=function(e){var t=be((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ye,(function(e,n,r,i){t.push(r?i.replace(_e,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),we=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Ee=S?S.prototype:void 0,Ce=Ee?Ee.toString:void 0,Ae=function(e){return null==e?"":function e(t){if("string"==typeof t)return t;if(Z(t))return we(t,e)+"";if(ee(t))return Ce?Ce.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}(e)},Ie=function(e,t){return Z(e)?e:function(e,t){if(Z(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ee(e))||ne.test(e)||!te.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:Oe(Ae(e))},Se=/^(?:0|[1-9]\d*)$/,Me=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Se.test(e))&&e>-1&&e%1==0&&e<t},Te=function(e){if("string"==typeof e||ee(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},je=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:function(e,t,n,r){if(!D(e))return e;for(var i=-1,o=(t=Ie(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l=Te(t[i]),u=n;if(i!=a){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=D(c)?c:Me(t[i+1])?[]:{})}K(s,l,u),s=s[l]}return e}(e,t,n,r)},xe=function(e,t){for(var n=0,r=(t=Ie(t,e)).length;null!=e&&n<r;)e=e[Te(t[n++])];return n&&n==r?e:void 0},Fe=function(e,t){return t.length<2?e:xe(e,function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}(t,0,-1))},Re=function(e,t){return t=Ie(t,e),null==(e=Fe(e,t))||delete e[Te(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}(t))]},Pe=function(e,t){return null==e||Re(e,t)},De=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Ne=function(e){return Z(e)?we(e,Te):ee(e)?[e]:De(Oe(Ae(e)))},ke=function(e,t,n){var r=null==e?void 0:xe(e,t);return void 0===r?n:r},Le=Object.prototype.hasOwnProperty,Ve=function(e,t){return null!=e&&Le.call(e,t)},Be=function(e){return J(e)&&"[object Arguments]"==P(e)},qe=Object.prototype,We=qe.hasOwnProperty,$e=qe.propertyIsEnumerable,Ge=Be(function(){return arguments}())?Be:function(e){return J(e)&&We.call(e,"callee")&&!$e.call(e,"callee")},Ue=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},He=function(e,t){return null!=e&&function(e,t,n){for(var r=-1,i=(t=Ie(t,e)).length,o=!1;++r<i;){var a=Te(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ue(i)&&Me(a,i)&&(Z(e)||Ge(e))}(e,t,Ve)},Qe=function(){return!1},Ye=O((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?I.Buffer:void 0,o=(i?i.isBuffer:void 0)||Qe;e.exports=o})),Xe={};Xe["[object Float32Array]"]=Xe["[object Float64Array]"]=Xe["[object Int8Array]"]=Xe["[object Int16Array]"]=Xe["[object Int32Array]"]=Xe["[object Uint8Array]"]=Xe["[object Uint8ClampedArray]"]=Xe["[object Uint16Array]"]=Xe["[object Uint32Array]"]=!0,Xe["[object Arguments]"]=Xe["[object Array]"]=Xe["[object ArrayBuffer]"]=Xe["[object Boolean]"]=Xe["[object DataView]"]=Xe["[object Date]"]=Xe["[object Error]"]=Xe["[object Function]"]=Xe["[object Map]"]=Xe["[object Number]"]=Xe["[object Object]"]=Xe["[object RegExp]"]=Xe["[object Set]"]=Xe["[object String]"]=Xe["[object WeakMap]"]=!1;var ze,Ke=function(e){return function(t){return e(t)}},Ze=O((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&C.process,o=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),Je=Ze&&Ze.isTypedArray,et=Je?Ke(Je):function(e){return J(e)&&Ue(e.length)&&!!Xe[P(e)]},tt=Object.prototype.hasOwnProperty,nt=function(e,t){var n=Z(e),r=!n&&Ge(e),i=!n&&!r&&Ye(e),o=!n&&!r&&!i&&et(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!tt.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Me(u,l))||s.push(u);return s},rt=Object.prototype,it=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ot=Object.prototype.hasOwnProperty,at=function(e){if(!function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||rt)}(e))return it(e);var t=[];for(var n in Object(e))ot.call(e,n)&&"constructor"!=n&&t.push(n);return t},st=function(e){return function(e){return null!=e&&Ue(e.length)&&!N(e)}(e)?nt(e):at(e)},lt=function(e){return null==e?[]:function(e,t){return we(t,(function(t){return e[t]}))}(e,st(e))},ut=Array.prototype.splice,ct=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=ee(e),a=void 0!==t,s=null===t,l=t==t,u=ee(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0},ft=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},dt=S?S.isConcatSpreadable:void 0,pt=function(e){return Z(e)||Ge(e)||!!(dt&&e&&e[dt])},ht=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},mt=Math.max,vt=function(e,t,n){return t=mt(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=mt(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),ht(e,this,s)}},gt=function(e){return function(){return e}},bt=function(e){return e},yt=Y?function(e,t){return Y(e,"toString",{configurable:!0,enumerable:!1,value:gt(t),writable:!0})}:bt,_t=Date.now,Ot=function(e){var t=0,n=0;return function(){var r=_t(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(yt);Ot(vt(ze=function(e,t){var n=null==e?0:e.length,r=function(e,t){for(var n=-1,r=t.length,i=Array(r),o=null==e;++n<r;)i[n]=o?void 0:ke(e,t[n]);return i}(e,t);return function(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Me(i)?ut.call(e,i,1):Re(e,i)}}}(e,we(t,(function(e){return Me(e,n)?+e:e})).sort(ct)),r},void 0,(function(e){return null!=e&&e.length?function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=pt),o||(o=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,i,o):ft(o,l):i||(o[o.length]=l)}return o}(e,1):[]})),ze+"");var wt=function(e){return e!=e},Et=function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,wt,n)},Ct=function(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1},At=Array.prototype.splice,It=function(e,t){return Ot(vt(e,t,bt),e+"")}((function(e,t){return e&&e.length&&t&&t.length?function(e,t,n,r){var i=r?Ct:Et,o=-1,a=t.length,s=e;for(e===t&&(t=De(t)),n&&(s=we(e,Ke(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&At.call(s,l,1),At.call(e,l,1);return e}(e,t):e})),St=E("informed:ObjMap\t"),Mt=function(e){var t=Ne(e);return Number.isInteger(+t[t.length-1])},Tt=function(){function e(){s(this,e)}return u(e,null,[{key:"empty",value:function(e){return 0===lt(e).length}},{key:"get",value:function(e,t){var n=ke(e,t);return St("GOT",t,n),n}},{key:"has",value:function(e,t){return He(e,t)}},{key:"set",value:function(t,n,r){if(void 0!==r)St("SETTING",n,r),je(t,n,r);else if(Mt(n)&&void 0!==e.get(t,n)){St("Special case SETTING",n,"to undefined"),je(t,n,void 0);var i=Ne(n);jt(t,i=i.slice(0,i.length-1),!1)}else Mt(n)||void 0===e.get(t,n)||(St("Special case REMOVING",n,"from object completley"),e.delete(t,n))}},{key:"delete",value:function(e,t){St("DELETE",t),Pe(e,t);var n=Ne(t);jt(e,n=n.slice(0,n.length-1))}}]),e}();function jt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0!==t.length){var r=ke(e,t);Array.isArray(r)&&n&&It(r,void 0),(Array.isArray(r)?r.every((function(e){return null==e})):"{}"===JSON.stringify(r))&&Pe(e,t),jt(e,t.slice(0,t.length-1))}}var xt=E("informed:Controller\t"),Ft=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(this,t),(e=g(this,h(t).call(this))).options=n,e.fields=new Map,e.registered={},e.expectedRemovals={},e.state={values:{},touched:{},errors:{},pristine:!0,dirty:!1,invalid:!1,submits:0},e.deregister=e.deregister.bind(v(e)),e.register=e.register.bind(v(e)),e.setValue=e.setValue.bind(v(e)),e.setTouched=e.setTouched.bind(v(e)),e.setError=e.setError.bind(v(e)),e.setFormError=e.setFormError.bind(v(e)),e.submitForm=e.submitForm.bind(v(e)),e.reset=e.reset.bind(v(e)),e.update=e.update.bind(v(e)),e.validate=e.validate.bind(v(e)),e.keyDown=e.keyDown.bind(v(e)),e.getField=e.getField.bind(v(e)),e.expectRemoval=e.expectRemoval.bind(v(e)),e.updater={register:e.register,deregister:e.deregister,setValue:e.setValue,setTouched:e.setTouched,setError:e.setError,update:e.update,getField:e.getField,expectRemoval:e.expectRemoval},e}return p(t,e),u(t,[{key:"setOptions",value:function(e){this.options=e}},{key:"getFormState",value:function(){return d({},this.state,{pristine:this.pristine(),dirty:this.dirty(),invalid:this.invalid()})}},{key:"getFormApi",value:function(){var e=this;return{setValue:function(t,n,r){return e.fields.get(t).fieldApi.setValue(n,null,d({allowEmptyString:e.options.allowEmptyStrings},r))},setTouched:function(t,n){return e.fields.get(t).fieldApi.setTouched(n)},setError:function(t,n){return e.fields.get(t).fieldApi.setError(n)},setValues:function(t){return e.setValues(t)},setInitialValue:function(t,n){return e.setInitialValue(t,n)},getValue:function(t){return e.getValue(t)},getTouched:function(t){return e.getTouched(t)},getError:function(t){return e.getError(t)},reset:function(){return e.reset()},submitForm:function(t){return e.submitForm(t)},getState:function(){return e.getFormState()},getValues:function(){return e.getFormState().values},getFullField:function(t){return e.getFullField(t)},fieldExists:function(t){return null!=e.fields.get(t)},getInitialValue:function(t){return e.getInitialValue(t)},setFormError:function(t){return e.setFormError(t)},validate:function(){return e.validate()},validateField:function(t){return e.fields.get(t).fieldApi.validate()},resetField:function(t){return e.fields.get(t).fieldApi.reset()},emitter:this,setFieldError:function(t,n){return e.setError(t,n)},getOptions:function(){return e.options}}}},{key:"setValue",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];xt("Setting ".concat(e," to ").concat(t)),Tt.set(this.state.values,e,t),delete this.state.error,this.emit("change"),this.emit("value",e,t),n&&this.notify(e)}},{key:"setTouched",value:function(e,t){Tt.set(this.state.touched,e,t),this.emit("change")}},{key:"setError",value:function(e,t){if(xt("Setting ".concat(e,"'s error to ").concat(t)),/\[[0-9]*\]$/.test(e)){var n=e.slice(0,e.lastIndexOf("[")),r=Tt.get(this.state.errors,n);if(xt("Array field ".concat(n,"'s error is ").concat(r)),r&&!Array.isArray(r))return void xt("Never set ".concat(e,"'s error to ").concat(t," becuase there is already array level validation with error ").concat(r))}Tt.set(this.state.errors,e,t),this.emit("change")}},{key:"setFormError",value:function(e){this.state.error=e,this.emit("change")}},{key:"setInitialValue",value:function(e,t){Tt.set(this.options.initialValues,e,t)}},{key:"notify",value:function(e){var t=this,n=this.fields.get(e);n.notify&&n.notify.forEach((function(e){var n=t.fields.get(e);if(n){xt("Notifying",n.field);var r=t.getValue(n.field);n.fieldApi.validate(r)}}))}},{key:"getValue",value:function(e){return xt("Getting value for",e,Tt.get(this.state.values,e)),Tt.get(this.state.values,e)}},{key:"getTouched",value:function(e){return Tt.get(this.state.touched,e)}},{key:"getError",value:function(e){return Tt.get(this.state.errors,e)}},{key:"getFullField",value:function(e){return e}},{key:"valid",value:function(){return!(!Tt.empty(this.state.errors)||this.state.error)}},{key:"invalid",value:function(){return!(Tt.empty(this.state.errors)&&!this.state.error)}},{key:"pristine",value:function(){return Tt.empty(this.state.touched)&&Tt.empty(this.state.values)}},{key:"dirty",value:function(){return!this.pristine()}},{key:"getInitialValue",value:function(e){return Tt.get(this.options.initialValues,e)}},{key:"reset",value:function(){var e=this;xt("Resetting"),this.fields.forEach((function(t){t.fieldApi.reset();var n=Tt.get(e.options.initialValues,t.field);void 0!==n&&e.getFormApi().setValue(t.field,n,{initial:!0})})),this.emit("change")}},{key:"setValues",value:function(e){var t=this;xt("Setting values"),this.fields.forEach((function(n){var r=Tt.get(e,n.field);void 0!==r&&t.getFormApi().setValue(n.field,r)})),this.emit("change")}},{key:"validate",value:function(){var e=this;if(xt("Validating all fields"),this.fields.forEach((function(t,n){var r=e.getValue(n);t.fieldApi.validate(r),t.fieldApi.setTouched(!0)})),this.options.validate){var t=this.options.validate(this.state.values);this.setFormError(t)}if(this.options.validateFields){var n=this.options.validateFields(this.state.values);this.fields.forEach((function(t){if(Tt.has(n,t.field)){var r=Tt.get(n,t.field);e.getFormApi().setError(t.field,r)}}))}}},{key:"keyDown",value:function(e){if(13==e.keyCode&&this.options.preventEnter)return e.preventDefault(e),!1}},{key:"submitForm",value:function(e){this.state.submits=this.state.submits+1,!this.options.dontPreventDefault&&e&&e.preventDefault(e),this.validate(),this.emit("change"),this.valid()?(xt("Submit",this.state),this.emit("submit")):(xt("Submit",this.state),this.emit("failure"))}},{key:"register",value:function(e,t,n){xt("Register",e,t);var r=this.registered[e];this.registered[e]=!0,this.fields.set(e,n);var i=e.slice(0,e.lastIndexOf("]")+1||e.length);if(delete this.expectedRemovals[i],!n.shadow){if(n.keepState){var o=Tt.get(this.state.values,e),a=Tt.get(this.options.initialValues,e);void 0!==o?this.getFormApi().setValue(e,o||t.value):void 0!==a?this.getFormApi().setValue(e,a):this.setValue(e,t.value,!1);var s=Tt.get(this.state.touched,e);this.getFormApi().setTouched(e,s)}else{var l=Tt.get(this.options.initialValues,e);void 0===l||r?this.setValue(e,t.value,!1):this.getFormApi().setValue(e,l,{initial:!0}),this.setTouched(e,t.touched)}this.setError(e,t.error)}}},{key:"deregister",value:function(e,t){xt("Deregister",e);var n=this.fields.get(e),r=e.slice(0,e.lastIndexOf("]")+1||e.length);n.keepState&&!this.expectedRemovals[r]||(Tt.delete(this.state.values,e),Tt.delete(this.state.touched,e),Tt.delete(this.state.errors,e)),this.fields.delete(e),this.emit("change"),this.emit("value",e)}},{key:"expectRemoval",value:function(e){xt("Expecting removal of",e),this.expectedRemovals[e]=!0}},{key:"update",value:function(e,t){xt("Update",e),this.fields.set(e,t)}},{key:"getField",value:function(e){return xt("Getting Field",e),this.fields.get(e)}}]),t}(a.EventEmitter),Rt=o.a.createContext({register:function(){},deregister:function(){},setValue:function(){},setTouched:function(){},setError:function(){},update:function(){},getField:function(){},expectRemoval:function(){}}),Pt=o.a.createContext({}),Dt=o.a.createContext({getFullField:function(){},getValues:function(){},getOptions:function(){return{}},setInitialValue:function(){},getInitialValue:function(){}}),Nt=o.a.createContext(),kt=(o.a.createContext(),E("informed:FormProvider\t\t")),Lt=function(e){var t=e.children,n=e.formApi,r=e.formController,i=e.formState,a=m(e,["children","formApi","formController","formState"]);if(kt("Render FormProvider"),n)return kt("Render FormProvider with given values"),o.a.createElement(Rt.Provider,{value:r.updater},o.a.createElement(Dt.Provider,{value:n},o.a.createElement(Pt.Provider,{value:i},t)));kt("Render FormProvider with generated values");var s=qt(a);return o.a.createElement(Rt.Provider,{value:s.formController.updater},o.a.createElement(Dt.Provider,{value:s.formApi},o.a.createElement(Pt.Provider,{value:s.formState},t)))},Vt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect,Bt=E("informed:useForm\t\t"),qt=function(e){var t=e.dontPreventDefault,n=e.initialValues,r=e.validate,a=e.validateFields,s=e.allowEmptyStrings,l=e.preventEnter,u=e.getApi,c=e.onChange,f=e.onSubmit,d=e.onValueChange,p=e.onSubmitFailure,h=m(e,["dontPreventDefault","initialValues","validate","validateFields","allowEmptyStrings","preventEnter","getApi","onChange","onSubmit","onValueChange","onSubmitFailure"]);Bt("Render useForm");var v=Object(i.useMemo)((function(){return{dontPreventDefault:t,initialValues:n,validate:r,validateFields:a,allowEmptyStrings:s,preventEnter:l}}),[t,n,r,a,s,l]),g=b(Object(i.useState)((function(){return new Ft(v)})),1)[0];Object(i.useEffect)((function(){g.setOptions(v)}),[v]);var y=b(Object(i.useState)((function(){return g.getFormState()})),2),_=y[0],O=y[1];Vt((function(){var e=function(){return c&&c(g.getFormState())},t=function(){return f&&f(g.getFormState().values)},n=function(){return d&&d(g.getFormState().values)},r=function(){return p&&p(g.getFormState().errors)};return g.on("change",e),g.on("submit",t),g.on("value",n),g.on("failure",r),function(){g.removeListener("change",e),g.removeListener("submit",t),g.removeListener("value",n),g.removeListener("failure",r)}}),[c,f,d,p]),Object(i.useState)((function(){g.on("change",(function(){return O(g.getFormState())})),u&&u(g.getFormApi())}));var w=b(Object(i.useState)((function(){return g.getFormApi()})),1)[0];return{formApi:w,formState:_,formController:g,render:function(e){return o.a.createElement(Lt,{formApi:w,formState:_,formController:g},e)},userProps:h}},Wt=E("informed:Form\t\t"),$t=function(e){var t=e.children,n=e.render,r=e.component,i=m(e,["children","render","component"]);Wt("Render FORM");var a,s=qt(i),l=s.formApi,u=s.formController,c=s.formState,d=s.render,p=s.userProps;return d(o.a.createElement("form",f({},p,{onReset:u.reset,onSubmit:u.submitForm,onKeyDown:u.keyDown}),(a={formState:c,formApi:l},r?o.a.createElement(r,a,t):n?n(a):"function"==typeof t?t(a):t)))};function Gt(){return Object(i.useContext)(Dt)}function Ut(){return Object(i.useContext)(Pt)}var Ht=function(e){var t=e.scope,n=e.children,r=Object(i.useContext)(Rt),a=Gt(),s=Ut(),l=Object(i.useMemo)((function(){return function(e,t){return d({},t,{getValue:function(n){return t.getValue("".concat(e,".").concat(n))},getTouched:function(n){return t.getTouched("".concat(e,".").concat(n))},getError:function(n){return t.getError("".concat(e,".").concat(n))},setValue:function(n,r){return t.setValue("".concat(e,".").concat(n),r)},setTouched:function(n,r){return t.setTouched("".concat(e,".").concat(n),r)},setError:function(n,r){return t.setError("".concat(e,".").concat(n),r)},getFullField:function(n){return"".concat(t.getFullField(e),".").concat(n)}})}(t,a)}),[t]),u=Object(i.useMemo)((function(){return function(e,t){var n=t.register,r=t.deregister,i=t.setValue,o=t.setTouched,a=t.setError,s=t.update,l=t.getField,u=t.expectRemoval;return{register:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return n.apply(void 0,["".concat(e,".").concat(t)].concat(i))},deregister:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r.apply(void 0,["".concat(e,".").concat(t)].concat(i))},update:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return s.apply(void 0,["".concat(e,".").concat(t)].concat(r))},setValue:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.apply(void 0,["".concat(e,".").concat(t)].concat(r))},setTouched:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return o.apply(void 0,["".concat(e,".").concat(t)].concat(r))},setError:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return a.apply(void 0,["".concat(e,".").concat(t)].concat(r))},getField:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l.apply(void 0,["".concat(e,".").concat(t)].concat(r))},expectRemoval:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return u.apply(void 0,["".concat(e,".").concat(t)].concat(r))}}}(t,r)}),[t]);return o.a.createElement(Rt.Provider,{value:u},o.a.createElement(Dt.Provider,{value:l},o.a.createElement(Pt.Provider,{value:s},n)))};function Qt(e){var t=Object(i.useRef)(),n=b(Object(i.useState)(e),2),r=n[0],o=n[1];return t.current=r,[r,function(e){t.current=e,o(e)},function(){return t.current}]}var Yt=E("informed:useField\t"),Xt=function(e,t){if(null!=e)return t?t(e):e},zt=function(e,t,n){return t&&n?t(e):e};function Kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.field,r=e.validate,a=e.mask,s=e.maskWithCursorOffset,l=e.format,u=e.parse,c=e.initialValue,f=e.validateOnChange,d=e.validateOnBlur,p=e.validateOnMount,h=e.maskOnBlur,v=e.allowEmptyString,g=e.onValueChange,_=e.notify,O=e.keepState,w=e.maintainCursor,E=e.debug,C=e.shadow,A=m(e,["field","validate","mask","maskWithCursorOffset","format","parse","initialValue","validateOnChange","validateOnBlur","validateOnMount","maskOnBlur","allowEmptyString","onValueChange","notify","keepState","maintainCursor","debug","shadow"]),I=Object(i.useContext)(Rt),S=Gt(),M=b(Qt(Xt(c,a)),3),T=M[0],j=M[1],x=M[2],F=b(Qt(p?r(T):void 0),3),R=F[0],P=F[1],D=F[2],N=b(Qt(),3),k=N[0],L=N[1],V=N[2],B=b(Qt(0),3),q=(B[0],B[1]),W=B[2],$=b(Qt(0),3),G=($[0],$[1]),U=$[2],H=b(Object(i.useState)(zt(T,l,u)),2),Q=H[0],Y=H[1],X=Object(i.useRef)(c);X.current=c;var z=function(e){Yt("Setting ".concat(n,"'s error to ").concat(e)),P(e),I.setError(n,e)},K=function(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=S.getOptions();Yt("Setting ".concat(n," to ").concat(t));var d=t;if(""!==t||v||o.allowEmptyString||c.allowEmptyStrings||(t=void 0),"number"===e.type&&void 0!==t&&(t=+t),a&&!h&&(d=a(t),t=a(t)),s&&!h){var p=s(t);d=p.value,t=p.value,G(p.offset)}l&&u&&(t=u(t),d=l(t)),r&&f&&!o.initial&&(Yt("Validating after change ".concat(n," ").concat(t)),z(r(t,S.getValues()))),i&&i.target&&i.target.selectionStart&&q(i.target.selectionStart),j(t),Y(d),g&&g(t),I.setValue(n,t)},Z=function(e,t){if(r&&d&&!t&&e&&(Yt("Validating after blur ".concat(n," ").concat(x())),z(r(x(),S.getValues()))),a&&h){var i=a(x());j(i),Y(i),g&&g(i),I.setValue(n,i)}if(s&&h){var o=s(x());G(o.offset),j(o.value),Y(o.value),g&&g(o.value),I.setValue(n,o.value)}L(e),I.setTouched(n,e)},J={setValue:K,setTouched:Z,setError:z,reset:function(){var e=Xt(X.current,a);K(X.current),z(p?r(e):void 0),Z(void 0,!0)},validate:function(e){r&&(Yt("Field validating ".concat(n," ").concat(x()||e)),z(r(x()||e,S.getValues())))},getValue:x,getTouched:V,getError:D},ee={value:T,error:R,touched:k,maskedValue:Q};C&&(ee={error:R,touched:k}),Object(i.useState)((function(){var e=S.getFullField(n);Yt("Initial Register",e),I.register(n,ee,{field:e,fieldApi:J,fieldState:ee,notify:_,keepState:O,shadow:C})})),Yt("Render",S.getFullField(n),ee);var te=Object(i.useRef)(null),ne=o.a.useMemo((function(){return t||te}),[]);Object(i.useEffect)((function(){var e=S.getFullField(n);return Yt("Register",e),I.register(n,ee,{field:e,fieldApi:J,fieldState:ee,notify:_,keepState:O,shadow:C}),function(){Yt("Deregister",e),I.deregister(n)}}),[n]),Object(i.useEffect)((function(){var e=S.getFullField(n);Yt("Update",n),I.update(n,{field:e,fieldApi:J,fieldState:ee,notify:_,keepState:O,shadow:C})}),[r,f,d,g]),Vt((function(){w&&null!=ne.current&&W()&&(ne.current.selectionEnd=W()+U())}),[T]),Vt((function(){E&&ne&&(ne.current.style.border="5px solid orange",setTimeout((function(){ne.current.style.borderWidth="2px",ne.current.style.borderStyle="inset",ne.current.style.borderColor="initial",ne.current.style.borderImage="initial"}),500))}));var re=[].concat(y(Object.values(ee)),y(Object.values(e)),y(Object.values(A)));return{fieldState:ee,fieldApi:J,render:function(e){return Object(i.useMemo)((function(){return e}),y(re))},ref:ne,userProps:A}}var Zt=E("informed:useArrayField\t"),Jt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},en=function(e){var t=e.field,n=e.initialValue,r=e.validate,o=m(e,["field","initialValue","validate"]),a=Gt(),s=Object(i.useContext)(Rt),l=a.getFullField(t),u=a.getInitialValue(l)||n||[],c=a.getValue(l),f=b(Object(i.useState)(c||u),2),p=f[0],h=f[1],v=b(Qt(p?p.map((function(){return Jt()})):[]),3),g=v[0],_=v[1],O=v[2],w=Object(i.useMemo)((function(){return function(e,t){var n=null==O()?0:O().length;return r?r(e,n,t):void 0}})),E=Kt(d({field:t,validate:w,shadow:!0},o)).fieldApi;return Vt((function(){var e=function(e){if(e!==l&&(Zt("".concat(l," changed")),RegExp("".concat(l,"\\[[0-9]+\\]")).test(e))){var n=a.getValue(t);Zt("setting array field ".concat(l," to ").concat(n)),E.setValue(n)}};return a.emitter.on("value",e),function(){a.emitter.removeListener("value",e)}}),[t]),{fields:g.map((function(e,n){return{key:e,field:"".concat(t,"[").concat(n,"]"),remove:function(){return function(e){s.expectRemoval("".concat(t,"[").concat(e,"]"));var n=g.slice(0,e).concat(g.slice(e+1,g.length));_(n);var r=p.slice(0,e).concat(p.slice(e+1,p.length));h(r),a.setInitialValue(t,r)}(n)},initialValue:p&&p[n]}})),add:function(){g.push(Jt()),_(y(g))},addWithInitialValue:function(e){g.push(Jt()),_(y(g));var t=y(p);t[g.length-1]=e,h(t)}}},tn=function(e){var t=e.children,n=m(e,["children"]);return t(en(n))},nn=function(e){return o.a.forwardRef((function(t,n){return o.a.createElement(Dt.Consumer,null,(function(r){return o.a.createElement(e,f({formApi:r,ref:n},t))}))}))},rn=function(e){return o.a.forwardRef((function(t,n){return o.a.createElement(Pt.Consumer,null,(function(r){return o.a.createElement(e,f({formState:r,ref:n},t))}))}))},on=function(e,t){return{getValue:function(){return e.getValue(t)},setValue:function(n){return e.setValue(t,n)},getTouched:function(){return e.getTouched(t)},setTouched:function(n){return e.setTouched(t,n)},getError:function(){return e.getError(t)},setError:function(n){return e.setError(t,n)},reset:function(){return e.resetField(t)},validate:function(){return e.validateField(t)},exists:function(){return e.fieldExists(t)}}};function an(e){var t=Gt();return Object(i.useMemo)((function(){return on(t,e)}),[e])}var sn=function(e){return{value:e.getValue(),touched:e.getTouched(),error:e.getError()}};function ln(e){var t=an(e);return Ut(),sn(t)}var un=function(e){return function(t){return function(n){var r=ln(e);return o.a.createElement(t,f({fieldState:r},n))}}},cn=function(e){return function(t){return function(n){var r=an(e);return o.a.createElement(t,f({fieldApi:r},n))}}},fn=function(e){return o.a.forwardRef((function(t,n){return o.a.createElement(Nt.Consumer,null,(function(r){var i=r.radioGroupApi,a=r.radioGroupState;return o.a.createElement(e,f({radioGroupApi:i,radioGroupState:a,ref:n},t))}))}))},dn=function(e){var t,n=o.a.forwardRef((function(t,n){var r=Kt(t,n),i=r.fieldState,a=r.fieldApi,s=r.render,l=r.ref,u=r.userProps;return s(o.a.createElement(e,f({fieldApi:a,fieldState:i,field:t.field,forwardedRef:l,debug:t.debug,type:t.type},u)))}));return n.displayName="asField(".concat((t=e).type&&t.type.name?t.type.name:t.displayName||t.name||"Component",")"),n},pn=E("informed:Text\t"),hn=function(e){var t=e.fieldApi,n=e.fieldState,r=m(e,["fieldApi","fieldState"]),i=n.maskedValue,a=t.setValue,s=t.setTouched,l=r.onChange,u=r.onBlur,c=r.field,d=(r.initialValue,r.forwardedRef),p=r.debug,h=m(r,["onChange","onBlur","field","initialValue","forwardedRef","debug"]);return pn("Render",c),Vt((function(){p&&d&&(d.current.style.background="red",setTimeout((function(){d.current.style.background="white"}),500))})),o.a.createElement("input",f({},h,{name:c,ref:d,value:i||0===i?i:"",onChange:function(e){a(e.target.value,e),l&&l(e)},onBlur:function(e){s(!0),u&&u(e)}}))},mn=dn(hn),vn=function(e){var t=e.radioGroupApi,n=e.radioGroupState,r=m(e,["radioGroupApi","radioGroupState"]),i=n.value,a=t.setValue,s=t.setTouched,l=t.onChange,u=t.onBlur,c=r.value,d=r.onChange,p=r.onBlur,h=r.field,v=(r.initialValue,r.forwardedRef),g=m(r,["value","onChange","onBlur","field","initialValue","forwardedRef"]);return o.a.createElement("input",f({},g,{name:h,ref:v,value:c,checked:i===c,onChange:function(e){e.target.checked&&(a(c),d&&d(e),l&&l(e))},onBlur:function(e){s(!0),p&&p(e),u&&u(e)},type:"radio"}))},gn=fn(vn),bn=function(e){var t=e.fieldApi,n=e.fieldState,r=m(e,["fieldApi","fieldState"]),i=n.maskedValue,a=t.setValue,s=t.setTouched,l=r.onChange,u=r.onBlur,c=r.field,d=(r.initialValue,r.forwardedRef),p=r.debug,h=m(r,["onChange","onBlur","field","initialValue","forwardedRef","debug"]);return Vt((function(){p&&d&&(d.current.style.background="red",setTimeout((function(){d.current.style.background="white"}),500))})),o.a.createElement("textarea",f({},h,{name:c,ref:d,value:i||"",onChange:function(e){a(e.target.value,e),l&&l(e)},onBlur:function(e){s(!0),u&&u(e)}}))},yn=dn(bn),_n=E("informed:Select\t"),On=function(e){var t=e.fieldApi,n=e.fieldState,r=m(e,["fieldApi","fieldState"]),a=n.value,s=t.setTouched,l=r.onChange,u=r.onBlur,c=r.field,d=(r.initialValue,r.children),p=r.forwardedRef,h=r.debug,v=r.multiple,g=m(r,["onChange","onBlur","field","initialValue","children","forwardedRef","debug","multiple"]),b=Object(i.useRef)();return Vt((function(){h&&p&&(p.current.style.background="red",setTimeout((function(){p.current.style.background="white"}),500))})),_n("Render",c,a),o.a.createElement("select",f({},g,{multiple:v,name:c,ref:p||b,value:a||(v?[]:""),onChange:function(e){var n=Array.from((p||b).current).filter((function(e){return e.selected})).map((function(e){return e.value}));t.setValue(v?n:n[0]||""),l&&e&&l(e)},onBlur:function(e){s(!0),u&&u(e)}}),d)},wn=dn(On),En=function(e){var t=e.value,n=e.forwardedRef,r=e.children,i=m(e,["value","forwardedRef","children"]);return o.a.createElement("option",f({ref:n,value:t,key:t},i),r)},Cn=function(e){var t=e.fieldApi,n=e.fieldState,r=m(e,["fieldApi","fieldState"]),i=n.value,a=t.setValue,s=t.setTouched,l=r.onChange,u=r.onBlur,c=r.field,d=(r.initialValue,r.debug,r.forwardedRef),p=m(r,["onChange","onBlur","field","initialValue","debug","forwardedRef"]);return o.a.createElement("input",f({},p,{name:c,ref:d,checked:!!i,onChange:function(e){a(e.target.checked),l&&l(e)},onBlur:function(e){s(!0),u&&u(e)},type:"checkbox"}))},An=dn(Cn),In=function(e){function t(){return s(this,t),g(this,h(t).apply(this,arguments))}return p(t,e),u(t,[{key:"render",value:function(){return o.a.createElement(Nt.Provider,{value:this.groupContext},this.props.children)}},{key:"groupContext",get:function(){return{radioGroupApi:d({},this.props.fieldApi,{onChange:this.props.onChange,onBlur:this.props.onBlur}),radioGroupState:this.props.fieldState}}}]),t}(i.Component),Sn=dn(In)}.call(this,n(18),n(19))},function(e,t){e.exports=o},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(3));class a extends i.Component{constructor(){super(...arguments),this.initialAnswerFactory=new o.InitialAnswerFactory(this.props.item)}submitForm(){this.formApi&&this.formApi.submitForm()}getFormApi(e){this.formApi=e}handleSubmit(e){const{item:t}=this.props;t.setSingleInitialAnswer(this.initialAnswerFactory.createInitialAnswer({value:e.value}))}componentDidUpdate(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;this.formApi&&this.formApi.setValue("value",t)}}t.QuestionItem=a,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HumanReadableGuid=function(){let e;return{getHumanReadableGuid:()=>(e||(e=(()=>{let e=1;const t=new Map;return{getHumanReadableId:n=>(n=>(t.has(n)||t.set(n,e++),((e,t)=>{if(void 0===e)return;let n=""+e;for(;n.length<3;)n="0"+n;return n})(t.get(n))||""))(n),updateKey(e,n){((e,n)=>{if(!t.has(e))return;const r=t.get(e);t.set(n,r),t.delete(e)})(e,n)}}})()),e)}}(),t.default=t.HumanReadableGuid},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.rightPanel="RIGHT_PANEL",e.insideItem="INSIDE_ITEM"}(r=t.SETTINGS_DISPLAY_MODE||(t.SETTINGS_DISPLAY_MODE={})),t.default=r},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(3));class a extends i.Component{constructor(){super(...arguments),this.itemFactory=new o.ItemFactory(this.props.item)}addItem(){const{item:e,selectTargetItem:t}=this.props,n=this.itemFactory.createItem();e.addItem(n),t&&t(n)}addGroupItem(){const{item:e,selectTargetItem:t}=this.props,n=this.itemFactory.createGroupItem();e.addItem(n),t&&t(n)}addChoiceItem(){const{item:e,selectTargetItem:t}=this.props,n=this.itemFactory.createChoiceItem(),r=new o.AnswerOptionFactory(n);n.addAnswerOption(r.createAnswerOption({value:"Option 1"})),e.addItem(n),t&&t(n)}render(){return i.createElement("div",{className:"item-collection-menu btn-group"},i.createElement("button",{className:"btn btn-secondary",title:"Add text",onClick:this.addItem.bind(this)},i.createElement("i",{className:"fas fa-font"})),i.createElement("button",{className:"btn btn-secondary",title:"Add group",onClick:this.addGroupItem.bind(this)},i.createElement("i",{className:"fas fa-layer-group"})),i.createElement("button",{className:"btn btn-secondary",title:"Add question",onClick:this.addChoiceItem.bind(this)},i.createElement("i",{className:"fas fa-plus"})))}}t.ItemCollectionMenu=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(20)),s=i(n(10));class l extends o.Component{componentDidMount(){const{subscribe:e}=this.props;e&&e()}render(){const{itemList:e,className:t="",nestingLevel:n,subscribe:r,isItemActive:i}=this.props;return o.createElement("div",{className:`questionnaire-item-list ${t}`,"data-nesting-level":n},e.map((e,t)=>o.createElement(s.default.Consumer,{key:e.id},s=>o.createElement(a.default,Object.assign({item:e,nestingLevel:`${n}:${t}`,subscribe:r,isItemActive:i},s)))))}}t.QuestionnaireItemList=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(1);class a extends i.Component{constructor(){super(...arguments),this.RadioRef=i.createRef()}onBlur(e){const{option:t}=this.props;t.setValue(e.target.value)}remove(){const{option:e}=this.props;e.remove()}onChange(e){const{option:t}=this.props;e.target.checked?t.selectAsDefault():t.unselectAsDefault()}onClick(e){const{option:t}=this.props;e.target.checked&&t.selectAsDefault()}render(){const{option:e}=this.props;return i.createElement("div",{className:"form-group"},i.createElement("div",{className:"input-group"},i.createElement("div",{className:"input-group-prepend"},i.createElement("div",{className:"input-group-text"},i.createElement("label",{htmlFor:`${e.id}-initial`,className:"mr-1 mb-0"},"By default"),i.createElement("input",{checked:e.defaultSelected,id:`${e.id}-initial`,type:"radio",onChange:this.onChange.bind(this),onClick:this.onClick.bind(this)}))),i.createElement("input",{autoComplete:"off",id:`${e.id}-option`,className:"form-control",defaultValue:e.value,onBlur:this.onBlur.bind(this)}),i.createElement("div",{className:"input-group-append"},i.createElement("button",{className:"btn btn-outline-secondary",onClick:this.remove.bind(this)},i.createElement("i",{className:"fas fa-trash"})))))}}t.ChoiceOption=a,t.default=o.useObservableModel(a)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(6));t.QuestionnaireContext=o.createContext({settingsDisplayMode:a.default.rightPanel}),t.default=t.QuestionnaireContext},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function f(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var u=l.length,c=m(l,u);for(n=0;n<u;++n)o(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(13))},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3));n(14);const s=n(2),l=n(1),u=i(n(7)),c=i(n(8)),f=i(n(48)),d=i(n(10)),p=n(6);class h extends o.Component{constructor(){super(...arguments),this.state={settingsDisplayModel:p.SETTINGS_DISPLAY_MODE.insideItem,targetItem:void 0,targetGroup:this.props.questionnaireModel},this.questionnaireItemListRef=o.createRef(),this.itemFactory=new a.ItemFactory(this.props.questionnaireModel),this.nestingLevel="0",this.itemListsMap=new Map,this.sortableOptions={group:"nested",animation:550,fallbackOnBody:!0,swapThreshold:.35,handle:".drag-handle",dragClass:"sortable-drag",onChoose:this.onDragChoose.bind(this),onUnchoose:this.onDragUnchoose.bind(this),onEnd:this.onDragEnd.bind(this),forceFallback:!0,filter:".no-drag",fallbackTolerance:1,emptyInsertThreshold:30},this.bodyListener=e=>{this.questionnaireItemListRef.current&&this.questionnaireItemListRef.current.contains(e.target)||this.clearTargetItem()}}handleSubmit(e){const{questionnaireModel:t}=this.props;t.updateQuestionnaire({...t,title:e.title,description:e.description})}submitForm(){this.formApi&&this.formApi.submitForm()}getFormApi(e){this.formApi=e}escListener(e){27===e.keyCode&&this.clearTargetItem()}componentDidMount(){this.makeItemsDraggable(),document.addEventListener("keydown",this.escListener.bind(this)),document.body.addEventListener("mousedown",this.bodyListener),this.clearTargetItem()}componentDidUpdate(){const{questionnaireModel:e}=this.props;this.formApi.setValues(e)}componentWillUnmount(){this.clearSortables(),document.removeEventListener("keydown",this.escListener.bind(this)),document.body.removeEventListener("mousedown",this.bodyListener)}clearSortables(){this.itemListsMap.forEach(e=>e.destroy())}makeItemsDraggable(){document.querySelectorAll("#drag-drop-nested .questionnaire-item-list").forEach(e=>{this.itemListsMap.has(e)||this.itemListsMap.set(e,new f.default(e,this.sortableOptions))})}onDragChoose(e){document.body.style.height=`${document.body.clientHeight}px`}fillQuestionList(e,t){t.items&&t.items.forEach(t=>{t.type===a.GROUP&&this.fillQuestionList(e,t),e.push(t)})}prepareQuestionList(){const{questionnaireModel:e}=this.props,t=[];return this.fillQuestionList(t,e),t}onDragUnchoose(e){document.body.style.height="";const t=this.prepareQuestionList().find(t=>t.id===e.item.dataset.id);this.selectTargetItem(t)}onDragEnd(e){const t=this.findNestedItemList(e.from.dataset.nestingLevel),n=this.findNestedItemList(e.to.dataset.nestingLevel);if(t===n&&e.oldIndex===e.newIndex||void 0===t||void 0===n)return;const r=t.items.find(t=>t.id===e.item.dataset.id);r&&(t!==n&&e.from.appendChild(e.item),r.remove(),n.addItem(r,e.newIndex))}findNestedItemList(e){if(void 0===e)return;const t=e.split(":");t.shift();const{questionnaireModel:n}=this.props;let r=n;return 0===e.length?r:(t.forEach(e=>{Array.isArray(r.items)&&(r=r.items[+e])}),r)}selectTargetItem(e){this.setState({targetItem:e,targetGroup:e.type===a.GROUP?e:e.parent})}clearTargetItem(){const{questionnaireModel:e}=this.props;this.setState({targetItem:void 0,targetGroup:e})}renderItemList(){const{questionnaireModel:e}=this.props,{targetItem:t,settingsDisplayModel:n,targetGroup:r}=this.state;return o.createElement("div",{id:"drag-drop-nested"},o.createElement(d.default.Provider,{value:{questionnaire:e,selectTargetItem:this.selectTargetItem.bind(this),targetItemId:t&&t.id,settingsDisplayMode:n,clearTargetItem:this.clearTargetItem.bind(this),targetGroupId:r&&r.id}},o.createElement(c.default,{itemList:e.items,nestingLevel:this.nestingLevel,subscribe:this.makeItemsDraggable.bind(this)})))}render(){const{questionnaireModel:e,className:t}=this.props;return o.createElement("div",{className:`questionnaire-designer media ${t}`},o.createElement("div",{className:"questionnaire-items media-body"},o.createElement("div",{className:"questionnaire card mb-3"},o.createElement("div",{className:"card-header d-flex justify-content-end"}),o.createElement("div",{className:"card-body"},o.createElement(s.Form,{getApi:this.getFormApi.bind(this),key:e.id,initialValues:e,onSubmit:this.handleSubmit.bind(this)},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:`${e.id}-title`},"Questionnaire Title"),o.createElement(s.Text,{autoComplete:"off",className:"form-control",id:`${e.id}-title`,field:"title",placeholder:"My Questionnaire",autoFocus:!0,onBlur:this.submitForm.bind(this)})),o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:`${e.id}-description`},"Questionnaire Description"),o.createElement(s.TextArea,{autoComplete:"off",className:"form-control",id:`${e.id}-description`,field:"description",placeholder:"My description",onBlur:this.submitForm.bind(this)}))))),0===e.items.length&&o.createElement("div",{className:"w-100 d-flex justify-content-center align-items-center"},o.createElement(u.default,{item:e,selectTargetItem:this.selectTargetItem.bind(this)})),o.createElement("div",{ref:this.questionnaireItemListRef},this.renderItemList())))}}t.Questionnaire=h,h.defaultProps={className:""};const m=l.useObservableModel(h);t.QuestionnaireDesigner=m,t.default=m},function(e,t,n){var r=n(15);"string"==typeof r&&(r=[[e.i,r,""]]),n(17)(r,{insert:"head",singleton:!1}),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(16)(!1)).push([e.i,".questionnaire-item {\n  position: relative; }\n\n.bottom-line {\n  display: flex;\n  flex-wrap: wrap;\n  position: absolute;\n  right: -27px;\n  width: calc(100% + 27px);\n  height: 16px;\n  bottom: -8px;\n  padding-right: 1px; }\n  .bottom-line button.toggle {\n    padding: 2px !important;\n    border: 0 !important;\n    width: 32px !important;\n    height: 32px !important;\n    flex: 0 0 auto;\n    z-index: 100; }\n  .bottom-line hr {\n    flex-basis: 0;\n    flex-grow: 1;\n    max-width: 100%; }\n  .bottom-line .dropdown-menu {\n    padding: 0;\n    border: 0;\n    min-width: 0; }\n  .bottom-line .btn-group-vertical {\n    position: absolute; }\n\n.bottom-line:not(:hover) hr {\n  opacity: 0; }\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",i=e[3];if(!i)return r;if(t&&"function"==typeof btoa){var o=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[r].concat(a).concat([o]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";var r,i={},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function a(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function s(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id],a=0;if(o){for(o.refs++;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(m(r.parts[a],t))}else{for(var s=[];a<r.parts.length;a++)s.push(m(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function l(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var r=n.nc;r&&(e.attributes.nonce=r)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i&&e.setAttribute("media",i),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,h=0;function m(e,t){var n,r,i;if(t.singleton){var o=h++;n=p||(p=l(t)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else n=l(t),r=d.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=a(e,t);return s(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var l=n[o],u=i[l.id];u&&(u.refs--,r.push(u))}e&&s(a(e,t),t);for(var c=0;c<r.length;c++){var f=r[c];if(0===f.refs){for(var d=0;d<f.parts.length;d++)f.parts[d]();delete i[f.id]}}}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&p())}function p(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=n(1),l=i(n(21)),u=n(2),c=i(n(36)),f=i(n(38)),d=i(n(5)),p=n(46),h=i(n(6)),m=i(n(47));class v extends o.PureComponent{constructor(){super(...arguments),this.state={bottomMenuShowed:!1},this.bottomLineRef=o.createRef(),this.inputRef=o.createRef(),this.itemRef=o.createRef(),this.humanReadableGuid=d.default.getHumanReadableGuid()}submitForm(){this.formApi&&this.formApi.submitForm()}submitForm_2(){this.formApi_2&&this.formApi_2.submitForm()}getFormApi(e){this.formApi=e}getFormApi_2(e){this.formApi_2=e}handleSubmit(e){const{item:t}=this.props;t.updateItem({...t,text:e.text})}handleSubmit_2(e){const{item:t}=this.props;t.updateItem({...t,...e})}componentDidUpdate(){const{item:e,targetItemId:t}=this.props;e.id===t&&(this.formApi&&this.formApi.setValues(e),this.formApi_2&&this.formApi_2.setValues(e))}componentWillUnmount(){this.clearTargetItem(),clearTimeout(this.closingBottomMenuTimeOutKey)}componentDidMount(){const e=this.inputRef.current;if(e){const t=window.pageXOffset,n=window.pageYOffset;e.focus(),window.scrollTo(t,n)}}toggleBottomMenu(){this.setState({bottomMenuShowed:!this.state.bottomMenuShowed})}closeBottomMenu(){this.state.bottomMenuShowed&&this.setState({bottomMenuShowed:!1})}prepareClosingBottomMenu(){this.closingBottomMenuTimeOutKey=setTimeout(()=>{this.closeBottomMenu()})}preventClosingBottomMenu(){clearTimeout(this.closingBottomMenuTimeOutKey)}clearTargetItem(){const{clearTargetItem:e}=this.props;e&&e()}makeItemTarget(){const{selectTargetItem:e,item:t}=this.props;e&&e(t)}toggleTargetItem(){const{item:e,targetItemId:t}=this.props;e.id===t?this.clearTargetItem():this.makeItemTarget()}selectTargetItem(e){const{item:t,targetItemId:n}=this.props,r=t.id===n;e.stopPropagation(),("click"!==e.type||!r||this.itemRef.current&&!this.itemRef.current.contains(e.target))&&(this.bottomLineRef.current&&this.bottomLineRef.current.contains(e.target)||this.makeItemTarget())}getHeadlineControl(){const{item:e}=this.props;return e.type===a.DISPLAY?o.createElement(u.TextArea,{forwardedRef:this.inputRef,autoComplete:"off",className:"form-control",id:`${e.id}-text`,field:"text",placeholder:"Static text",onBlur:this.submitForm.bind(this)}):o.createElement(u.Text,{forwardedRef:this.inputRef,autoComplete:"off",className:"form-control",id:`${e.id}-text`,field:"text",placeholder:e.type===a.GROUP?"Questions group":"Question text",onBlur:this.submitForm.bind(this)})}getHeadlineFromClassName(){const{item:e}=this.props;switch(e.type){case a.GROUP:return"questionnaire-group-item__headline form-group";case a.DISPLAY:return"questionnaire-display-item__headline";default:return"questionnaire-item__headline form-group"}}getHeadlineLogoText(){const{item:e}=this.props;switch(e.type){case a.GROUP:return"Group Title";case a.DISPLAY:return"Text";default:return"Question"}}getClassNameIdentifier(){const{item:e}=this.props;return e.type===a.GROUP?"questionnaire-item questionnaire-group-item":e.type===a.DISPLAY?"questionnaire-item questionnaire-display-item":"questionnaire-item questionnaire-question-item"}renderHeadlineLabelReplacerText(){const{item:e}=this.props;switch(e.type){case a.GROUP:return"Questions group";case a.DISPLAY:return"Text";default:return"Question"}}renderHeader(){const{item:e,targetItemId:t}=this.props,n=e.id===t;return o.createElement("div",{className:"row"},o.createElement("div",{className:"col-4 d-flex align-items-center"},o.createElement("button",{className:"btn btn-outline-secondary border-0 mr-2 no-drag",title:n?"collapse":"expand",onClick:this.toggleTargetItem.bind(this)},n?o.createElement("i",{className:"fas fa-angle-down"}):o.createElement("i",{className:"fas fa-angle-right"})),o.createElement("span",null,"#",this.humanReadableGuid.getHumanReadableId(e.id))),o.createElement("div",{className:"col-4 d-flex justify-content-center align-items-center"},o.createElement("i",{className:"fas fa-grip-horizontal text-muted"})),o.createElement("div",{className:"col-4 d-flex justify-content-end align-items-center"},o.createElement("div",{className:"btn-group no-drag"},t===e.id&&o.createElement("button",{className:"btn btn-outline-secondary border-0",onClick:e.remove.bind(e)},o.createElement("i",{className:"fas fa-trash"})))))}renderHeadline(){const{item:e,targetItemId:t,selectTargetItem:n}=this.props,r=e.id===t;return o.createElement("div",{className:`form-row ${this.getHeadlineFromClassName()}`},r?o.createElement("div",{className:"col"},o.createElement(u.Form,{getApi:this.getFormApi.bind(this),initialValues:e,onSubmit:this.handleSubmit.bind(this)},o.createElement("div",null,o.createElement("label",{htmlFor:`${e.id}-text`},this.getHeadlineLogoText()),this.getHeadlineControl()))):o.createElement("div",{className:"col"},o.createElement("label",{className:"labelReplacer"},e.text||this.renderHeadlineLabelReplacerText(),e.required&&o.createElement("span",{className:"text-danger"},"*"))),e.type!==a.DISPLAY&&e.type!==a.GROUP&&r&&o.createElement("div",{className:"col-md-4"},o.createElement(c.default,{selectTargetItem:n,title:"Question Type",item:e})))}renderFooter(){const{item:e,questionnaire:t}=this.props;return o.createElement("div",null,o.createElement("div",{className:"d-flex justify-content-start align-items-center"},o.createElement("div",null,e.type!==a.GROUP&&e.type!==a.DISPLAY&&o.createElement(u.Form,{className:"mr-3",getApi:this.getFormApi_2.bind(this),initialValues:e,onSubmit:this.handleSubmit_2.bind(this)},o.createElement("div",{className:"form-check"},o.createElement(u.Checkbox,{key:e.required+"",field:"required",type:"checkbox",className:"form-check-input",id:`${e.id}-required`,onChange:this.submitForm_2.bind(this)}),o.createElement("label",{className:"mb-0",htmlFor:`${e.id}-required`},"Required"))))),o.createElement("div",{className:"item-settings"},e.type!==a.GROUP&&e.type!==a.DISPLAY&&o.createElement("hr",null),t&&o.createElement(f.default,{questionnaire:t,item:e})))}render(){const{item:e,nestingLevel:t,className:n,subscribe:r,targetItemId:i,settingsDisplayMode:a,targetGroupId:s,selectTargetItem:u}=this.props,{bottomMenuShowed:c}=this.state,f=this.getClassNameIdentifier(),d=a===h.default.insideItem,v=i===e.id,g=v?p.activeItemClassName:"";return o.createElement("div",{className:`${f} card mb-3 ${g} ${n}`,"data-id":e.id,ref:this.itemRef,onFocus:this.selectTargetItem.bind(this),onClick:this.selectTargetItem.bind(this)},o.createElement("div",{className:"card-header drag-handle"},this.renderHeader()),o.createElement("div",{className:"card-body"},this.renderHeadline(),o.createElement("div",{className:"questionnaire-item__details"},o.createElement(l.default,{item:e,key:e.id,nestingLevel:t,subscribe:r,isItemActive:v}))),d&&v&&o.createElement("div",{className:"card-footer"},this.renderFooter()),e.parent&&e.parent.id===s&&o.createElement("div",{className:"bottom-line",onFocus:this.preventClosingBottomMenu.bind(this),onBlur:this.prepareClosingBottomMenu.bind(this),ref:this.bottomLineRef},o.createElement("hr",null),o.createElement("div",{className:"dropup d-flex"},o.createElement("button",{className:"toggle btn btn-outline-secondary",onClick:this.toggleBottomMenu.bind(this),title:"Add item"},o.createElement("i",{className:"fas fa-bars"})),c&&o.createElement(m.default,{close:this.closeBottomMenu.bind(this),selectTargetItem:u,item:e}))))}}t.ItemWrapper=v,v.defaultProps={className:""},t.default=s.useObservableModel(v)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(3)),a=n(22),s=n(23),l=n(24),u=n(25),c=n(26),f=n(27),d=n(28),p=n(29),h=n(30),m=n(31),v=n(32),g=n(34);t.ItemProvider=e=>{const{item:t}=e;switch(t.type){case o.GROUP:return i.createElement(a.GroupItem,Object.assign({},e));case o.TEXT:return i.createElement(s.TextItem,Object.assign({},e));case o.STRING:return i.createElement(l.StringItem,Object.assign({},e));case o.DECIMAL:return i.createElement(u.DecimalItem,Object.assign({},e));case o.BOOLEAN:return i.createElement(c.BooleanItem,Object.assign({},e));case o.TIME:return i.createElement(f.TimeItem,Object.assign({},e));case o.DATE:return i.createElement(d.DateItem,Object.assign({},e));case o.DATE_TIME:return i.createElement(p.DateTimeItem,Object.assign({},e));case o.ATTACHMENT:return i.createElement(h.AttachmentItem,Object.assign({},e));case o.CHOICE:return i.createElement(m.ChoiceItem,Object.assign({},e));case o.OPEN_CHOICE:return i.createElement(v.OpenChoiceItem,Object.assign({},e));case o.MULTI_CHOICE:return i.createElement(g.MultiChoiceItem,Object.assign({},e));default:return null}},t.default=t.ItemProvider},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(1),s=i(n(8)),l=i(n(7));class u extends o.Component{render(){const{item:e,nestingLevel:t,subscribe:n,isItemActive:r}=this.props;return o.createElement("div",null,0===e.items.length&&r&&o.createElement("div",{className:"w-100 d-flex justify-content-center align-items-center"},o.createElement(l.default,{item:e})),o.createElement(s.default,{itemList:e.items,nestingLevel:t,subscribe:n,isItemActive:r}))}}t.GroupItem=u,t.default=a.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("label",{htmlFor:`${e.id}-initial`,className:"question-item-label"},"Default answer"),o.createElement(a.TextArea,{autoComplete:"off",className:"form-control js-text-area",initialValue:t,field:"value",id:`${e.id}-initial`,placeholder:"Patient default answer",onBlur:this.submitForm.bind(this)}))}}t.TextItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("label",{htmlFor:`${e.id}-initial`,className:"question-item-label"},"Default answer"),o.createElement(a.Text,{autoComplete:"off",className:"form-control",initialValue:t,field:"value",id:`${e.id}-initial`,placeholder:"Patient default answer",onBlur:this.submitForm.bind(this)}))}}t.StringItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("label",{htmlFor:`${e.id}-initial`,className:"question-item-label"},"Default answer"),o.createElement(a.Text,{autoComplete:"off",className:"form-control",type:"number",initialValue:t,field:"value",id:`${e.id}-initial`,placeholder:"Patient default answer",onBlur:this.submitForm.bind(this)}))}}t.DecimalItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{reset(){const{item:e}=this.props;e.clearInitialAnswers()}render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("div",{className:"d-flex align-items-baseline"},o.createElement("label",{className:"question-item-label mr-3 mb-0"},"Default answer"),e.initialAnswers.length>0&&o.createElement("button",{type:"button",className:"btn btn-link text-secondary p-0",onClick:this.reset.bind(this)},"Remove default value")),o.createElement(a.RadioGroup,{initialValue:t,field:"value"},o.createElement("div",null,o.createElement("div",{className:"form-check"},o.createElement(a.Radio,{className:"form-check-input",id:`${e.id}-true`,value:!0,onChange:this.submitForm.bind(this)}),o.createElement("label",{className:"form-check-label",htmlFor:`${e.id}-true`},"Yes")),o.createElement("div",{className:"form-check"},o.createElement(a.Radio,{className:"form-check-input",id:`${e.id}-false`,value:!1,onChange:this.submitForm.bind(this)}),o.createElement("label",{className:"form-check-label",htmlFor:`${e.id}-false`},"No")))))}}t.BooleanItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("label",{htmlFor:`${e.id}-initial`,className:"question-item-label"},"Default answer"),o.createElement(a.Text,{autoComplete:"off",className:"form-control",type:"time",initialValue:t,field:"value",id:`${e.id}-initial`,onBlur:this.submitForm.bind(this)}))}}t.TimeItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("label",{htmlFor:`${e.id}-initial`,className:"question-item-label"},"Default answer"),o.createElement(a.Text,{autoComplete:"off",className:"form-control",type:"date",initialValue:t,field:"value",id:`${e.id}-initial`,onBlur:this.submitForm.bind(this)}))}}t.DateItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("label",{htmlFor:`${e.id}-initial`,className:"question-item-label"},"Default answer"),o.createElement(a.Text,{autoComplete:"off",className:"form-control",type:"datetime-local",initialValue:t,field:"value",id:`${e.id}-initial`,onBlur:this.submitForm.bind(this)}))}}t.DateTimeItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(1),s=n(2),l=i(n(4));class u extends l.default{getFormApi(e){this.formApi=e}handleSubmit(e){const{item:t}=this.props;t.updateItem({...t,multipleFiles:!!e.multipleFiles})}componentDidUpdate(){const{item:e}=this.props;this.formApi&&this.formApi.setValue("multipleFiles",e.multipleFiles)}render(){const{item:e}=this.props;return o.createElement(s.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"file",className:"form-control-file",id:`${e.id}-initial`,disabled:!0})),o.createElement("div",null,o.createElement("div",{className:"form-check"},o.createElement(s.Checkbox,{className:"form-check-input",initialValue:e.multipleFiles,field:"multipleFiles",id:`${e.id}-multipleFiles`,onChange:this.submitForm.bind(this)}),o.createElement("label",{className:"form-check-label",htmlFor:`${e.id}-multipleFiles`},"Allow multiple upload"))))}}t.AttachmentItem=u,t.default=a.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=n(1),l=i(n(9)),u=n(2),c=i(n(4));class f extends c.default{constructor(){super(...arguments),this.answerOptionFactory=new a.AnswerOptionFactory(this.props.item)}reset(){const{item:e}=this.props;e.clearInitialAnswers()}addOption(){const{item:e}=this.props;e.addAnswerOption(this.answerOptionFactory.createAnswerOption())}renderChoiceOptions(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement("div",{className:"option-list"},o.createElement(u.Form,{getApi:this.getFormApi.bind(this),onSubmit:this.handleSubmit.bind(this)},o.createElement(u.RadioGroup,{initialValue:t,field:"value"},e.options.map(e=>o.createElement(l.default,{key:e.id,option:e})))))}render(){return o.createElement("div",null,o.createElement("button",{className:"btn btn-link text-secondary pl-0",onClick:this.reset.bind(this)},"Remove default value"),this.renderChoiceOptions(),o.createElement("div",null,o.createElement("button",{className:"btn btn-outline-secondary border-0",onClick:this.addOption.bind(this)},o.createElement("i",{className:"fas fa-plus mr-1"}),o.createElement("span",null,"Add option"))))}}t.ChoiceItem=f,t.default=s.useObservableModel(f)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=n(1),l=i(n(9)),u=n(2),c=i(n(4)),f=n(33);class d extends c.default{constructor(){super(...arguments),this.answerOptionFactory=new a.AnswerOptionFactory(this.props.item)}reset(){const{item:e}=this.props;e.clearInitialAnswers()}addOption(){const{item:e}=this.props;e.addAnswerOption(this.answerOptionFactory.createAnswerOption())}renderChoiceOptions(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement("div",{className:"option-list"},o.createElement(u.Form,{getApi:this.getFormApi.bind(this),onSubmit:this.handleSubmit.bind(this)},o.createElement(u.RadioGroup,{initialValue:t,field:"value"},e.options.map((t,n)=>n===e.options.length-1?o.createElement(f.ChoiceOptionOther,{key:t.id,option:t}):o.createElement(l.default,{key:t.id,option:t})))))}render(){return o.createElement("div",null,o.createElement("button",{className:"btn btn-link text-secondary pl-0",onClick:this.reset.bind(this)},"Remove default value"),this.renderChoiceOptions(),o.createElement("div",null,o.createElement("button",{className:"btn btn-outline-secondary border-0",onClick:this.addOption.bind(this)},o.createElement("i",{className:"fas fa-plus mr-1"}),o.createElement("span",null,"Add option"))))}}t.OpenChoiceItem=d,t.default=s.useObservableModel(d)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(1);class a extends i.Component{constructor(){super(...arguments),this.RadioRef=i.createRef()}onBlur(e){const{option:t}=this.props;t.setValue(e.target.value)}remove(){const{option:e}=this.props;e.remove()}onChange(e){const{option:t}=this.props;e.target.checked?t.selectAsDefault():t.unselectAsDefault()}render(){const{option:e}=this.props,t=!e.defaultSelected;return i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:`${e.id}-option`},"Other"),i.createElement("div",{className:"input-group"},i.createElement("div",{className:"input-group-prepend"},i.createElement("div",{className:"input-group-text"},i.createElement("label",{htmlFor:`${e.id}-initial`,className:"mr-1 mb-0"},"By default"),i.createElement("input",{checked:e.defaultSelected,id:`${e.id}-initial`,type:"radio",onChange:this.onChange.bind(this)}))),i.createElement("input",{autoComplete:"off",id:`${e.id}-option`,className:"form-control",disabled:t,defaultValue:e.value,onBlur:this.onBlur.bind(this)})))}}t.ChoiceOptionOther=a,t.default=o.useObservableModel(a)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=n(1),l=i(n(35));class u extends o.Component{constructor(){super(...arguments),this.answerOptionFactory=new a.AnswerOptionFactory(this.props.item)}addOption(){const{item:e}=this.props;e.addAnswerOption(this.answerOptionFactory.createAnswerOption())}renderChoiceOptions(){const{item:e}=this.props;return o.createElement("div",{className:"option-list"},e.options.map(t=>o.createElement(l.default,{key:t.id,option:t,item:e})))}render(){return o.createElement("div",null,this.renderChoiceOptions(),o.createElement("div",null,o.createElement("button",{className:"btn btn-outline-secondary border-0",onClick:this.addOption.bind(this)},o.createElement("i",{className:"fas fa-plus mr-1"}),o.createElement("span",null,"Add option"))))}}t.MultiChoiceItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(1);class a extends i.Component{onBlur(e){const{option:t}=this.props;t.setValue(e.target.value)}remove(){const{option:e}=this.props;e.remove()}onChange(e){const{option:t}=this.props;e.target.checked?t.selectAsDefault():t.unselectAsDefault()}renderCheckbox(){const{option:e}=this.props;return i.createElement("div",{className:"input-group-text"},i.createElement("label",{className:"mr-1 mb-0",htmlFor:`${e.id}-checkbox`},"By default"),i.createElement("input",{id:`${e.id}-checkbox`,type:"checkbox",checked:e.defaultSelected,onChange:this.onChange.bind(this)}))}render(){const{option:e}=this.props;return i.createElement("div",{className:"form-group"},i.createElement("div",{className:"input-group"},i.createElement("div",{className:"input-group-prepend"},this.renderCheckbox()),i.createElement("input",{autoComplete:"off",className:"form-control",defaultValue:e.value,onBlur:this.onBlur.bind(this)}),i.createElement("div",{className:"input-group-append"},i.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:this.remove.bind(this)},i.createElement("i",{className:"fas fa-trash"})))))}}t.MultiChoiceOption=a,t.default=o.useObservableModel(a)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=i(n(5)),l=n(37);class u extends o.Component{constructor(e){super(e),this.options=l.questionTypes,this.humanReadableGuide=s.default.getHumanReadableGuid(),this.item=e.item,this.factory=new a.ItemFactory(this.item.parent)}onChange(e){switch(e.target.value){case a.STRING:this.changeItemToString();break;case a.TEXT:this.changeItemToText();break;case a.BOOLEAN:this.changeItemToBoolean();break;case a.DECIMAL:this.changeItemToDecimal();break;case a.TIME:this.changeItemToTime();break;case a.DATE:this.changeItemToDate();break;case a.DATE_TIME:this.changeItemToDateTime();break;case a.CHOICE:this.changeItemToChoice();break;case a.OPEN_CHOICE:this.changeItemToOpenChoice();break;case a.ATTACHMENT:this.changeItemToAttachment();break;case a.MULTI_CHOICE:this.changeItemToMultiChoice();break;default:return}}changeItemToString(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createStringItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToText(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createTextItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToBoolean(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createBooleanItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToDecimal(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createDecimalItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToTime(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createTimeItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToDate(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createDateItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToDateTime(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createDateTimeItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToChoice(){const{item:e,selectTargetItem:t}=this.props,n=new a.AnswerOptionFactory;let r;void 0===e.options||0===e.options.length||e.type===a.OPEN_CHOICE&&1===e.options.length?r=[n.createAnswerOption({value:"Option 1"})]:(r=e.options.slice(),e.type===a.OPEN_CHOICE&&r.pop());const i=this.factory.createChoiceItem({text:e.text,options:r,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});i.options.forEach(e=>{e.parent=i}),e.replace(i),t&&t(i),this.humanReadableGuide.updateKey(e.id,i.id)}changeItemToOpenChoice(){const{item:e,selectTargetItem:t}=this.props,n=new a.AnswerOptionFactory;let r;r=void 0===e.options?[n.createAnswerOption({value:"Option 1"})]:0===e.options.length?[n.createAnswerOption({value:"Option 1"})]:e.options.slice(),r.push(n.createAnswerOption());const i=this.factory.createOpenChoiceItem({text:e.text,options:r,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});i.options.forEach(e=>{e.parent=i}),e.replace(i),t&&t(i),this.humanReadableGuide.updateKey(e.id,i.id)}changeItemToMultiChoice(){const{item:e,selectTargetItem:t}=this.props,n=new a.AnswerOptionFactory;let r;void 0===e.options||0===e.options.length||e.type===a.OPEN_CHOICE&&1===e.options.length?r=[n.createAnswerOption({value:"Option 1"})]:(r=e.options.slice(),e.type===a.OPEN_CHOICE&&r.pop());const i=this.factory.createMultiChoiceItem({text:e.text,options:r,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});i.options.forEach(e=>{e.parent=i}),e.replace(i),t&&t(i),this.humanReadableGuide.updateKey(e.id,i.id)}changeItemToAttachment(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createAttachmentItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}render(){const{item:e,title:t}=this.props;return o.createElement("div",null,o.createElement("label",{htmlFor:`${e.id}-select-menu`},t),o.createElement("select",{id:`${e.id}-select-menu`,className:"form-control",defaultValue:e.type,onChange:this.onChange.bind(this)},this.options.map(t=>o.createElement("option",{key:`${e.id}-${t.value}`,value:t.value},t.title))))}}t.QuestionTypeMenu=u,t.default=u},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(3));t.questionTypes=[{title:"String (one row)",value:i.STRING},{title:"Text (several rows)",value:i.TEXT},{title:"Number",value:i.DECIMAL},{title:"Date",value:i.DATE},{title:"Time",value:i.TIME},{title:"Date-time",value:i.DATE_TIME},{title:"Yes/No question",value:i.BOOLEAN},{title:"Single choice",value:i.CHOICE},{title:"Open choice",value:i.OPEN_CHOICE},{title:"Multiple choice",value:i.MULTI_CHOICE},{title:"Attachment",value:i.ATTACHMENT}]},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=n(2),l=i(n(39)),u=n(1);class c extends o.Component{constructor(e){super(e),this.enableWhenFactory=new a.EnableWhenFactory(e.item)}getFormApi(e){this.formApi=e}componentDidUpdate(){const{item:e}=this.props;this.formApi&&this.formApi.setValues(e)}fillQuestionList(e,t){t.items&&t.items.forEach(t=>{t.type===a.GROUP?this.fillQuestionList(e,t):t.type!==a.DISPLAY&&t.type!==a.ATTACHMENT&&e.push(t)})}prepareQuestionList(){const{questionnaire:e}=this.props,t=[];return this.fillQuestionList(t,e),t}addEnableWhen(){const{item:e}=this.props,t=this.enableWhenFactory.createEnableWhen({operator:a.EQUAL});e.addEnableWhen(t)}removeAllEnableWhen(){const{item:e}=this.props;e.enableWhen=[]}setEnableBehavior(){const{item:e}=this.props;this.formApi&&(e.enableBehavior=this.formApi.getValue("enableBehavior"))}render(){const{item:e}=this.props,t=this.prepareQuestionList();return o.createElement("div",{className:"enable-when"},o.createElement(s.Form,{initialValues:e,getApi:this.getFormApi.bind(this)},o.createElement("div",{className:"d-flex"},o.createElement("label",{htmlFor:`enableWhenBehavior-${e.id}`,className:"mr-3"},o.createElement("span",null,"This component should Display if "),o.createElement(s.Select,{id:`enableWhenBehavior-${e.id}`,className:"form-control w-auto d-inline ml-2",field:"enableBehavior",onChange:this.setEnableBehavior.bind(this)},o.createElement(s.Option,{value:a.AND},"all the rules are consistent"),o.createElement(s.Option,{value:a.OR},"one of the rules is consistent")))),o.createElement("div",null,o.createElement("div",{className:"list-group list-group-flush form-group"},!!e.enableWhen.length&&o.createElement("div",{className:"list-group-item list-group-item-action"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col col-3"},"Question"),o.createElement("div",{className:"col col-3"},"Operator"),o.createElement("div",{className:"col col-5"},"Answer"),o.createElement("div",{className:"col col-1"}))),o.createElement(s.Scope,{scope:"enableWhen"},e.enableWhen.map((n,r)=>{const i=t.filter(t=>t.id!==e.id);return o.createElement(o.Fragment,{key:n.id},o.createElement(l.default,{questionList:i,enableWhen:n,index:r}))})))),o.createElement("div",null,o.createElement("button",{className:"btn btn-outline-secondary border-0",onClick:this.addEnableWhen.bind(this)},o.createElement("i",{className:"fas fa-plus mr-1"}),"Add Rule"))))}}t.EnableSettings=c,t.default=u.useObservableModel(c)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=n(2),l=i(n(40)),u=n(1),c=i(n(5));class f extends o.Component{constructor(e){super(e),this.state={},this.operators=[{value:a.EQUAL,text:"Equal( == )"},{value:a.NOT_EQUAL,text:"Not equal( != )"},{value:a.EXISTS,text:"Exists( not null )"},{value:a.MORE,text:"More( > )"},{value:a.LESS,text:"Less( < )"},{value:a.MORE_OR_EQUAL,text:"More or equal( >= )"},{value:a.LESS_OR_EQUAL,text:"Less or equal( <= )"}],this.humanReadableGuid=c.default.getHumanReadableGuid();const t=e.enableWhen.questionId,n=e.questionList.find(e=>e.id===t);this.state={selectedQuestion:n}}selectQuestion(e){const{questionList:t,enableWhen:n,formApi:r,index:i}=this.props,o=r.getValue(`${i}][questionId`),a=t.find(e=>e.id===o);n.questionId=o,this.setState({selectedQuestion:a})}removeEnableWhen(){const{enableWhen:e}=this.props;e.remove()}setOperator(e){const{enableWhen:t}=this.props,n=e.target.value;t.operator=n}renderQuestionSelect(){const{questionList:e,index:t}=this.props;return o.createElement(s.Select,{className:"form-control",field:`${t}][questionId`,onChange:this.selectQuestion.bind(this)},o.createElement(s.Option,{value:"",disabled:!0},"Select question"),e.map(e=>o.createElement(s.Option,{key:`${e.id}-enableWhenQuestion`,value:e.id},`#${this.humanReadableGuid.getHumanReadableId(e.id)} ${void 0===e.text?"":e.text}`)))}renderOperatorSelect(){const{index:e}=this.props;return o.createElement(s.Select,{className:"form-control",field:`${e}][operator`,onChange:this.setOperator.bind(this)},o.createElement(s.Option,{value:"",disabled:!0},"Select operator"),this.operators.map((e,t)=>o.createElement(s.Option,{key:t,value:e.value},e.text)))}render(){const{index:e,enableWhen:t}=this.props,{selectedQuestion:n}=this.state;return o.createElement("div",{className:"list-group-item list-group-item-action"},o.createElement("div",{className:"row align-items-center"},o.createElement("div",{className:"col col-3"},this.renderQuestionSelect()),o.createElement("div",{className:"col col-3"},this.renderOperatorSelect()),o.createElement("div",{className:"col"},o.createElement(l.default,{item:n,index:e,enableWhen:t})),o.createElement("div",{className:"col col-auto"},o.createElement("button",{className:"btn btn-outline-secondary border-0",onClick:this.removeEnableWhen.bind(this)},o.createElement("i",{className:"fas fa-trash"})))))}}t.EnableWhen=f,t.default=s.withFormApi(u.useObservableModel(f))},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=i(n(41)),l=i(n(42)),u=i(n(43)),c=i(n(44)),f=i(n(45));t.QuestionItemProvider=e=>{const{item:t={},index:n,enableWhen:r}=e;switch(t.type){case a.STRING:return o.createElement(s.default,{enableWhen:r,index:n,type:"text"});case a.TEXT:return o.createElement(s.default,{enableWhen:r,index:n,type:"textarea"});case a.TIME:return o.createElement(s.default,{enableWhen:r,index:n,type:"time"});case a.DATE:return o.createElement(s.default,{enableWhen:r,index:n,type:"date"});case a.DATE_TIME:return o.createElement(s.default,{enableWhen:r,index:n,type:"datetime-local"});case a.DECIMAL:return o.createElement(s.default,{enableWhen:r,index:n,type:"number"});case a.CHOICE:case a.MULTI_CHOICE:return o.createElement(l.default,{enableWhen:r,index:n,item:t});case a.OPEN_CHOICE:return o.createElement(u.default,{enableWhen:r,index:n,item:t});case a.BOOLEAN:return o.createElement(c.default,{enableWhen:r,index:n});default:return o.createElement(f.default,null)}},t.default=t.QuestionItemProvider},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(2);t.Input=e=>{const{type:t,index:n,enableWhen:r}=e,a=o.useFormApi(),s=()=>{const e=a.getValue(`${n}][answer`);r.answer=e};return i.createElement("div",null,"textarea"===t?i.createElement(o.TextArea,{className:"form-control",field:`${n}][answer`,id:"enableWhenAnswer",onBlur:s}):i.createElement(o.Text,{type:t,className:"form-control",field:`${n}][answer`,id:"enableWhenAnswer",onBlur:s}))},t.default=t.Input},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(2);t.Choice=e=>{const{item:t,index:n,enableWhen:r}=e,a=o.useFormApi();return i.createElement(o.Select,{className:"form-control",field:`${n}][answer`,onChange:()=>{const e=a.getValue(`${n}][answer`),i=t.options&&t.options.find(t=>t.id===e);i&&(r.answer=i.value)}},i.createElement(o.Option,{value:"",disabled:!0},"Select answer"),t.options&&t.options.map((e,t)=>i.createElement(o.Option,{key:t,value:e.id},e.value)))},t.default=t.Choice},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(2);class a extends i.Component{constructor(e){super(e),this.otherAnswerInputRef=i.createRef(),e.item.options&&e.item.options.every(t=>t.value!==e.enableWhen.answer)&&0!==e.item.options.length&&(this.initialOtherOptionValue=e.enableWhen.answer,this.toggleToOtherOption())}onChange(){const{enableWhen:e,formApi:t,index:n,item:r}=this.props;let i=!1;const o=t.getValue(`${n}][answer`),a=r.options&&r.options.find((e,t)=>e.id===o&&(r.options&&t===r.options.length-1&&(i=!0),!0));i?this.toggleToOtherOption():(this.toggleToOptions(),a&&(e.answer=a.value))}toggleToOptions(){this.otherAnswerInputRef.current&&(this.otherAnswerInputRef.current.style.display="none")}toggleToOtherOption(){this.otherAnswerInputRef.current&&(this.otherAnswerInputRef.current.style.display=""),this.onBlur()}onBlur(){const{enableWhen:e}=this.props;this.otherAnswerInputRef.current&&(e.answer=this.otherAnswerInputRef.current.value)}render(){const{item:e,index:t}=this.props;return i.createElement("div",{className:"row"},i.createElement("div",{className:"col-5"},i.createElement(o.Select,{className:"form-control",field:`${t}][answer`,onChange:this.onChange.bind(this)},i.createElement(o.Option,{value:"",disabled:!0},"Select answer"),e.options&&e.options.map((t,n)=>i.createElement(o.Option,{key:n,value:t.id},e.options&&n===e.options.length-1?"Other":t.value)))),i.createElement("div",{className:"col-7"},i.createElement(o.Text,{field:`${t}][answer-other`,className:"form-control",forwardedRef:this.otherAnswerInputRef,onBlur:this.onBlur.bind(this),initialValue:this.initialOtherOptionValue,style:{display:"none"}})))}}t.OpenChoice=a,t.default=o.withFormApi(a)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(2);t.Boolean=e=>{const{index:t,enableWhen:n}=e,r=o.useFormApi();return i.createElement(o.Select,{className:"form-control",field:`${t}][answer`,onChange:()=>{const e=r.getValue(`${t}][answer`);n.answer="true"===e}},i.createElement(o.Option,{value:"",disabled:!0},"Select answer"),i.createElement(o.Option,{value:!0},"Yes"),i.createElement(o.Option,{value:!1},"No"))},t.default=t.Boolean},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.DefaultAnswerInput=()=>i.createElement("input",{className:"form-control",disabled:!0}),t.default=t.DefaultAnswerInput},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activeItemClassName="card-active shadow"},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(3));class a extends i.Component{constructor(){super(...arguments),this.itemFactory=new o.ItemFactory}addItem(){const{item:e,selectTargetItem:t,close:n}=this.props,r=this.itemFactory.createItem();e.addSiblingItemAfter(r),t&&t(r),n&&n()}addGroupItem(){const{item:e,selectTargetItem:t,close:n}=this.props,r=this.itemFactory.createGroupItem();e.addSiblingItemAfter(r),t&&t(r),n&&n()}addChoiceItem(){const{item:e,selectTargetItem:t,close:n}=this.props,r=this.itemFactory.createChoiceItem(),i=new o.AnswerOptionFactory(r);r.addAnswerOption(i.createAnswerOption({value:"Option 1"})),e.addSiblingItemAfter(r),t&&t(r),n&&n()}render(){return i.createElement("div",{className:"dropdown-menu dropdown-menu-right btn-group-vertical"},i.createElement("button",{className:"btn btn-secondary",title:"Add text",onClick:this.addItem.bind(this)},i.createElement("i",{className:"fas fa-font"})),i.createElement("button",{className:"btn btn-secondary",title:"Add group",onClick:this.addGroupItem.bind(this)},i.createElement("i",{className:"fas fa-layer-group"})),i.createElement("button",{className:"btn btn-secondary",title:"Add question",onClick:this.addChoiceItem.bind(this)},i.createElement("i",{className:"fas fa-plus"})))}}t.BottomItemCollectionMenu=a,t.default=a},function(e,t,n){"use strict";
/**!
 * Sortable 1.10.1
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}n.r(t),n.d(t,"MultiDrag",(function(){return bt})),n.d(t,"Sortable",(function(){return Ve})),n.d(t,"Swap",(function(){return st}));var c=u(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),f=u(/Edge/i),d=u(/firefox/i),p=u(/safari/i)&&!u(/chrome/i)&&!u(/android/i),h=u(/iP(ad|od|hone)/i),m=u(/chrome/i)&&u(/android/i),v={capture:!1,passive:!1};function g(e,t,n){e.addEventListener(t,n,!c&&v)}function b(e,t,n){e.removeEventListener(t,n,!c&&v)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function _(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function O(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&y(e,t):y(e,t))||r&&e===n)return e;if(e===n)break}while(e=_(e))}return null}var w,E=/\s+/g;function C(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(E," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(E," ")}}function A(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function I(e,t){var n="";if("string"==typeof e)n=e;else do{var r=A(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix;return i&&new i(n)}function S(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function M(){return c?document.documentElement:document.scrollingElement}function T(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,a,s,l,u,f,d;if(e!==window&&e!==M()?(a=(o=e.getBoundingClientRect()).top,s=o.left,l=o.bottom,u=o.right,f=o.height,d=o.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,f=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!c))do{if(i&&i.getBoundingClientRect&&("none"!==A(i,"transform")||n&&"static"!==A(i,"position"))){var p=i.getBoundingClientRect();a-=p.top+parseInt(A(i,"border-top-width")),s-=p.left+parseInt(A(i,"border-left-width")),l=a+o.height,u=s+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var h=I(i||e),m=h&&h.a,v=h&&h.d;h&&(l=(a/=v)+(f/=v),u=(s/=m)+(d/=m))}return{top:a,left:s,bottom:l,right:u,width:d,height:f}}}function j(e,t,n){for(var r=D(e,!0),i=T(e)[t];r;){var o=T(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===M())break;r=D(r,!1)}return!1}function x(e,t,n){for(var r=0,i=0,o=e.children;i<o.length;){if("none"!==o[i].style.display&&o[i]!==Ve.ghost&&o[i]!==Ve.dragged&&O(o[i],n.draggable,e,!1)){if(r===t)return o[i];r++}i++}return null}function F(e,t){for(var n=e.lastElementChild;n&&(n===Ve.ghost||"none"===A(n,"display")||t&&!y(n,t));)n=n.previousElementSibling;return n||null}function R(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ve.clone||t&&!y(e,t)||n++;return n}function P(e){var t=0,n=0,r=M();if(e)do{var i=I(e),o=i.a,a=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function D(e,t){if(!e||!e.getBoundingClientRect)return M();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=A(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return M();if(r||t)return n;r=!0}}}while(n=n.parentNode);return M()}function N(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function k(e,t){return function(){if(!w){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),w=setTimeout((function(){w=void 0}),t)}}}function L(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function V(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function B(e,t){A(e,"position","absolute"),A(e,"top",t.top),A(e,"left",t.left),A(e,"width",t.width),A(e,"height",t.height)}function q(e){A(e,"position",""),A(e,"top",""),A(e,"left",""),A(e,"width",""),A(e,"height","")}var W="Sortable"+(new Date).getTime(),$=[],G={initializeByDefault:!0},U={mount:function(e){for(var t in G)!G.hasOwnProperty(t)||t in e||(e[t]=G[t]);$.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";$.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](a({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](a({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in $.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var a=new r(e,t,e.options);a.sortable=e,a.options=e.options,e[i]=a,o(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);void 0!==a&&(e.options[i]=a)}},getEventProperties:function(e,t){var n={};return $.forEach((function(r){"function"==typeof r.eventProperties&&o(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return $.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function H(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,s=e.toEl,l=e.fromEl,u=e.oldIndex,d=e.newIndex,p=e.oldDraggableIndex,h=e.newDraggableIndex,m=e.originalEvent,v=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[W]){var b,y=t.options,_="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||c||f?(b=document.createEvent("Event")).initEvent(r,!0,!0):b=new CustomEvent(r,{bubbles:!0,cancelable:!0}),b.to=s||n,b.from=l||n,b.item=i||n,b.clone=o,b.oldIndex=u,b.newIndex=d,b.oldDraggableIndex=p,b.newDraggableIndex=h,b.originalEvent=m,b.pullMode=v?v.lastPutMode:void 0;var O=a({},g,U.getEventProperties(r,t));for(var w in O)b[w]=O[w];n&&n.dispatchEvent(b),y[_]&&y[_].call(t,b)}}var Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=s(n,["evt"]);U.pluginEvent.bind(Ve)(e,t,a({dragEl:X,parentEl:z,ghostEl:K,rootEl:Z,nextEl:J,lastDownEl:ee,cloneEl:te,cloneHidden:ne,dragStarted:me,putSortable:le,activeSortable:Ve.active,originalEvent:r,oldIndex:re,oldDraggableIndex:oe,newIndex:ie,newDraggableIndex:ae,hideGhostForTarget:De,unhideGhostForTarget:Ne,cloneNowHidden:function(){ne=!0},cloneNowShown:function(){ne=!1},dispatchSortableEvent:function(e){Y({sortable:t,name:e,originalEvent:r})}},i))};function Y(e){H(a({putSortable:le,cloneEl:te,targetEl:X,rootEl:Z,oldIndex:re,oldDraggableIndex:oe,newIndex:ie,newDraggableIndex:ae},e))}var X,z,K,Z,J,ee,te,ne,re,ie,oe,ae,se,le,ue,ce,fe,de,pe,he,me,ve,ge,be,ye,_e=!1,Oe=!1,we=[],Ee=!1,Ce=!1,Ae=[],Ie=!1,Se=[],Me="undefined"!=typeof document,Te=h,je=f||c?"cssFloat":"float",xe=Me&&!m&&!h&&"draggable"in document.createElement("div"),Fe=function(){if(Me){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Re=function(e,t){var n=A(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=x(e,0,t),o=x(e,1,t),a=i&&A(i),s=o&&A(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+T(i).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+T(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){var c="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[je]||o&&"none"===n[je]&&l+u>r)?"vertical":"horizontal"},Pe=function(e){function t(e,n){return function(r,i,o,a){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,i,o,a),n)(r,i,o,a);var l=(n?r:i).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==r(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},De=function(){!Fe&&K&&A(K,"display","none")},Ne=function(){!Fe&&K&&A(K,"display","")};Me&&document.addEventListener("click",(function(e){if(Oe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Oe=!1,!1}),!0);var ke=function(e){if(X){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,o=e.clientY,we.some((function(e){if(!F(e)){var t=T(e),n=e[W].options.emptyInsertThreshold,r=i>=t.left-n&&i<=t.right+n,s=o>=t.top-n&&o<=t.bottom+n;return n&&r&&s?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[W]._onDragOver(n)}}var i,o,a},Le=function(e){X&&X.parentNode[W]._isOutsideThisEl(e.target)};function Ve(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=o({},t),e[W]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Re(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ve.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in U.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in Pe(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&xe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?g(e,"pointerdown",this._onTapStart):(g(e,"mousedown",this._onTapStart),g(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(g(e,"dragover",this),g(e,"dragenter",this)),we.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),o(this,function(){var e,t=[];return{captureAnimationState:function(){t=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==A(e,"display")&&e!==Ve.ghost){t.push({target:e,rect:T(e)});var n=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=I(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,o=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=T(n),l=n.prevFromRect,u=n.prevToRect,c=e.rect,f=I(n,!0);f&&(s.top-=f.f,s.left-=f.e),n.toRect=s,n.thisAnimationDuration&&N(l,s)&&!N(a,s)&&(c.top-s.top)/(c.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(c,l,u,r.options)),N(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,c,s,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof n&&n()}),o):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){A(e,"transition",""),A(e,"transform","");var i=I(this.el),o=i&&i.a,a=i&&i.d,s=(t.left-n.left)/(o||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,A(e,"transform","translate3d("+s+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),A(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),A(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){A(e,"transition",""),A(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}())}function Be(e,t,n,r,i,o,a,s){var l,u,d=e[W],p=d.options.onMove;return!window.CustomEvent||c||f?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||T(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),p&&(u=p.call(d,l,a)),u}function qe(e){e.draggable=!1}function We(){Ie=!1}function $e(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Ge(e){return setTimeout(e,0)}function Ue(e){return clearTimeout(e)}Ve.prototype={constructor:Ve,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ve=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,X):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,u=r.filter;if(function(e){Se.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Se.push(r)}}(n),!X&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled||l.isContentEditable||(s=O(s,r.draggable,n,!1))&&s.animated||ee===s)){if(re=R(s),oe=R(s,r.draggable),"function"==typeof u){if(u.call(this,e,s,this))return Y({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),Q("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=O(l,r.trim(),n,!1))return Y({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),Q("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!O(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,a=i.options,s=o.ownerDocument;if(n&&!X&&n.parentNode===o){var l=T(n);if(Z=o,z=(X=n).parentNode,J=X.nextSibling,ee=n,se=a.group,Ve.dragged=X,ue={target:X,clientX:(t||e).clientX,clientY:(t||e).clientY},pe=ue.clientX-l.left,he=ue.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,X.style["will-change"]="all",r=function(){Q("delayEnded",i,{evt:e}),Ve.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!d&&i.nativeDraggable&&(X.draggable=!0),i._triggerDragStart(e,t),Y({sortable:i,name:"choose",originalEvent:e}),C(X,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){S(X,e.trim(),qe)})),g(s,"dragover",ke),g(s,"mousemove",ke),g(s,"touchmove",ke),g(s,"mouseup",i._onDrop),g(s,"touchend",i._onDrop),g(s,"touchcancel",i._onDrop),d&&this.nativeDraggable&&(this.options.touchStartThreshold=4,X.draggable=!0),Q("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(f||c))r();else{if(Ve.eventCanceled)return void this._onDrop();g(s,"mouseup",i._disableDelayedDrag),g(s,"touchend",i._disableDelayedDrag),g(s,"touchcancel",i._disableDelayedDrag),g(s,"mousemove",i._delayedDragTouchMoveHandler),g(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&g(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){X&&qe(X),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?g(document,"pointermove",this._onTouchMove):g(document,t?"touchmove":"mousemove",this._onTouchMove):(g(X,"dragend",this),g(Z,"dragstart",this._onDragStart));try{document.selection?Ge((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(_e=!1,Z&&X){Q("dragStarted",this,{evt:t}),this.nativeDraggable&&g(document,"dragover",Le);var n=this.options;!e&&C(X,n.dragClass,!1),C(X,n.ghostClass,!0),Ve.active=this,e&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ce){this._lastX=ce.clientX,this._lastY=ce.clientY,De();for(var e=document.elementFromPoint(ce.clientX,ce.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ce.clientX,ce.clientY))!==t;)t=e;if(X.parentNode[W]._isOutsideThisEl(e),t)do{if(t[W]&&t[W]._onDragOver({clientX:ce.clientX,clientY:ce.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Ne()}},_onTouchMove:function(e){if(ue){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=K&&I(K),a=K&&o&&o.a,s=K&&o&&o.d,l=Te&&ye&&P(ye),u=(i.clientX-ue.clientX+r.x)/(a||1)+(l?l[0]-Ae[0]:0)/(a||1),c=(i.clientY-ue.clientY+r.y)/(s||1)+(l?l[1]-Ae[1]:0)/(s||1);if(!Ve.active&&!_e){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(K){o?(o.e+=u-(fe||0),o.f+=c-(de||0)):o={a:1,b:0,c:0,d:1,e:u,f:c};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");A(K,"webkitTransform",f),A(K,"mozTransform",f),A(K,"msTransform",f),A(K,"transform",f),fe=u,de=c,ce=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!K){var e=this.options.fallbackOnBody?document.body:Z,t=T(X,!0,Te,!0,e),n=this.options;if(Te){for(ye=e;"static"===A(ye,"position")&&"none"===A(ye,"transform")&&ye!==document;)ye=ye.parentNode;ye!==document.body&&ye!==document.documentElement?(ye===document&&(ye=M()),t.top+=ye.scrollTop,t.left+=ye.scrollLeft):ye=M(),Ae=P(ye)}C(K=X.cloneNode(!0),n.ghostClass,!1),C(K,n.fallbackClass,!0),C(K,n.dragClass,!0),A(K,"transition",""),A(K,"transform",""),A(K,"box-sizing","border-box"),A(K,"margin",0),A(K,"top",t.top),A(K,"left",t.left),A(K,"width",t.width),A(K,"height",t.height),A(K,"opacity","0.8"),A(K,"position",Te?"absolute":"fixed"),A(K,"zIndex","100000"),A(K,"pointerEvents","none"),Ve.ghost=K,e.appendChild(K),A(K,"transform-origin",pe/parseInt(K.style.width)*100+"% "+he/parseInt(K.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;Q("dragStart",this,{evt:e}),Ve.eventCanceled?this._onDrop():(Q("setupClone",this),Ve.eventCanceled||((te=V(X)).draggable=!1,te.style["will-change"]="",this._hideClone(),C(te,this.options.chosenClass,!1),Ve.clone=te),n.cloneId=Ge((function(){Q("clone",n),Ve.eventCanceled||(n.options.removeCloneOnHide||Z.insertBefore(te,X),n._hideClone(),Y({sortable:n,name:"clone"}))})),!t&&C(X,i.dragClass,!0),t?(Oe=!0,n._loopId=setInterval(n._emulateDragOver,50)):(b(document,"mouseup",n._onDrop),b(document,"touchend",n._onDrop),b(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,X)),g(document,"drop",n),A(X,"transform","translateZ(0)")),_e=!0,n._dragStartId=Ge(n._dragStarted.bind(n,t,e)),g(document,"selectstart",n),me=!0,p&&A(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,o=this.el,s=e.target,l=this.options,u=l.group,c=Ve.active,f=se===u,d=l.sort,p=le||c,h=this,m=!1;if(!Ie){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=O(s,l.draggable,o,!0),N("dragOver"),Ve.eventCanceled)return m;if(X.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||h._ignoreWhileAnimating===s)return V(!1);if(Oe=!1,c&&!l.disabled&&(f?d||(r=!Z.contains(X)):le===this||(this.lastPutMode=se.checkPull(this,c,X,e))&&u.checkPut(this,c,X,e))){if(i="vertical"===this._getDirection(e,s),t=T(X),N("dragOverValid"),Ve.eventCanceled)return m;if(r)return z=Z,k(),this._hideClone(),N("revert"),Ve.eventCanceled||(J?Z.insertBefore(X,J):Z.appendChild(X)),V(!0);var v=F(o,l.draggable);if(!v||function(e,t,n){var r=T(F(n.el,n.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(e,i,this)&&!v.animated){if(v===X)return V(!1);if(v&&o===e.target&&(s=v),s&&(n=T(s)),!1!==Be(Z,o,X,t,s,n,e,!!s))return k(),o.appendChild(X),z=o,B(),V(!0)}else if(s.parentNode===o){n=T(s);var g,b,y,_=X.parentNode!==o,w=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===a||i===s||r+o/2===a+l/2}(X.animated&&X.toRect||t,s.animated&&s.toRect||n,i),E=i?"top":"left",I=j(s,"top","top")||j(X,"top","top"),S=I?I.scrollTop:void 0;if(ve!==s&&(b=n[E],Ee=!1,Ce=!w&&l.invertSwap||_),0!==(g=function(e,t,n,r,i,o,a,s){var l=r?e.clientY:e.clientX,u=r?n.height:n.width,c=r?n.top:n.left,f=r?n.bottom:n.right,d=!1;if(!a)if(s&&be<u*i){if(!Ee&&(1===ge?l>c+u*o/2:l<f-u*o/2)&&(Ee=!0),Ee)d=!0;else if(1===ge?l<c+be:l>f-be)return-ge}else if(l>c+u*(1-i)/2&&l<f-u*(1-i)/2)return function(e){return R(X)<R(e)?1:-1}(t);return(d=d||a)&&(l<c+u*o/2||l>f-u*o/2)?l>c+u/2?1:-1:0}(e,s,n,i,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ce,ve===s))){var M=R(X);do{M-=g,y=z.children[M]}while(y&&("none"===A(y,"display")||y===K))}if(0===g||y===s)return V(!1);ve=s,ge=g;var x=s.nextElementSibling,P=!1,D=Be(Z,o,X,t,s,n,e,P=1===g);if(!1!==D)return 1!==D&&-1!==D||(P=1===D),Ie=!0,setTimeout(We,30),k(),P&&!x?o.appendChild(X):s.parentNode.insertBefore(X,P?x:s),I&&L(I,0,S-I.scrollTop),z=X.parentNode,void 0===b||Ce||(be=Math.abs(b-T(s)[E])),B(),V(!0)}if(o.contains(X))return V(!1)}return!1}function N(l,u){Q(l,h,a({evt:e,isOwner:f,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:p,target:s,completed:V,onMove:function(n,r){return Be(Z,o,X,t,n,T(n),e,r)},changed:B},u))}function k(){N("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function V(t){return N("dragOverCompleted",{insertion:t}),t&&(f?c._hideClone():c._showClone(h),h!==p&&(C(X,le?le.options.ghostClass:c.options.ghostClass,!1),C(X,l.ghostClass,!0)),le!==h&&h!==Ve.active?le=h:h===Ve.active&&le&&(le=null),p===h&&(h._ignoreWhileAnimating=s),h.animateAll((function(){N("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(s===X&&!X.animated||s===o&&!s.animated)&&(ve=null),l.dragoverBubble||e.rootEl||s===document||(X.parentNode[W]._isOutsideThisEl(e.target),!t&&ke(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function B(){ie=R(X),ae=R(X,l.draggable),Y({sortable:h,name:"change",toEl:o,newIndex:ie,newDraggableIndex:ae,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",ke),b(document,"mousemove",ke),b(document,"touchmove",ke)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ie=R(X),ae=R(X,n.draggable),Q("drop",this,{evt:e}),z=X&&X.parentNode,ie=R(X),ae=R(X,n.draggable),Ve.eventCanceled?this._nulling():(_e=!1,Ce=!1,Ee=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ue(this.cloneId),Ue(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&A(document.body,"user-select",""),e&&(me&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),K&&K.parentNode&&K.parentNode.removeChild(K),(Z===z||le&&"clone"!==le.lastPutMode)&&te&&te.parentNode&&te.parentNode.removeChild(te),X&&(this.nativeDraggable&&b(X,"dragend",this),qe(X),X.style["will-change"]="",me&&!_e&&C(X,le?le.options.ghostClass:this.options.ghostClass,!1),C(X,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:z,newIndex:null,newDraggableIndex:null,originalEvent:e}),Z!==z?(ie>=0&&(Y({rootEl:z,name:"add",toEl:z,fromEl:Z,originalEvent:e}),Y({sortable:this,name:"remove",toEl:z,originalEvent:e}),Y({rootEl:z,name:"sort",toEl:z,fromEl:Z,originalEvent:e}),Y({sortable:this,name:"sort",toEl:z,originalEvent:e})),le&&le.save()):ie!==re&&ie>=0&&(Y({sortable:this,name:"update",toEl:z,originalEvent:e}),Y({sortable:this,name:"sort",toEl:z,originalEvent:e})),Ve.active&&(null!=ie&&-1!==ie||(ie=re,ae=oe),Y({sortable:this,name:"end",toEl:z,originalEvent:e}),this.save()))),this._nulling())},_nulling:function(){Q("nulling",this),Z=X=z=K=J=te=ee=ne=ue=ce=me=ie=ae=re=oe=ve=ge=le=se=Ve.dragged=Ve.ghost=Ve.clone=Ve.active=null,Se.forEach((function(e){e.checked=!0})),Se.length=fe=de=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":X&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)O(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||$e(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,r){var i=n.children[r];O(i,this.options.draggable,n,!1)&&(t[e]=i)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return O(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=U.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Pe(n)},destroy:function(){Q("destroy",this);var e=this.el;e[W]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),we.splice(we.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ne){if(Q("hideClone",this),Ve.eventCanceled)return;A(te,"display","none"),this.options.removeCloneOnHide&&te.parentNode&&te.parentNode.removeChild(te),ne=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ne){if(Q("showClone",this),Ve.eventCanceled)return;Z.contains(X)&&!this.options.group.revertClone?Z.insertBefore(te,X):J?Z.insertBefore(te,J):Z.appendChild(te),this.options.group.revertClone&&this.animate(X,te),A(te,"display",""),ne=!1}}else this._hideClone()}},Me&&g(document,"touchmove",(function(e){(Ve.active||_e)&&e.cancelable&&e.preventDefault()})),Ve.utils={on:g,off:b,css:A,find:S,is:function(e,t){return!!O(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:k,closest:O,toggleClass:C,clone:V,index:R,nextTick:Ge,cancelNextTick:Ue,detectDirection:Re,getChild:x},Ve.get=function(e){return e[W]},Ve.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ve.utils=a({},Ve.utils,e.utils)),U.mount(e)}))},Ve.create=function(e,t){return new Ve(e,t)},Ve.version="1.10.1";var He,Qe,Ye,Xe,ze,Ke,Ze=[],Je=!1;function et(){Ze.forEach((function(e){clearInterval(e.pid)})),Ze=[]}function tt(){clearInterval(Ke)}var nt,rt=k((function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,u=M(),c=!1;Qe!==n&&(Qe=n,et(),He=t.scroll,i=t.scrollFn,!0===He&&(He=D(n,!0)));var f=0,d=He;do{var p=d,h=T(p),m=h.top,v=h.bottom,g=h.left,b=h.right,y=h.width,_=h.height,O=void 0,w=void 0,E=p.scrollWidth,C=p.scrollHeight,I=A(p),S=p.scrollLeft,j=p.scrollTop;p===u?(O=y<E&&("auto"===I.overflowX||"scroll"===I.overflowX||"visible"===I.overflowX),w=_<C&&("auto"===I.overflowY||"scroll"===I.overflowY||"visible"===I.overflowY)):(O=y<E&&("auto"===I.overflowX||"scroll"===I.overflowX),w=_<C&&("auto"===I.overflowY||"scroll"===I.overflowY));var x=O&&(Math.abs(b-o)<=s&&S+y<E)-(Math.abs(g-o)<=s&&!!S),F=w&&(Math.abs(v-a)<=s&&j+_<C)-(Math.abs(m-a)<=s&&!!j);if(!Ze[f])for(var R=0;R<=f;R++)Ze[R]||(Ze[R]={});Ze[f].vx==x&&Ze[f].vy==F&&Ze[f].el===p||(Ze[f].el=p,Ze[f].vx=x,Ze[f].vy=F,clearInterval(Ze[f].pid),0==x&&0==F||(c=!0,Ze[f].pid=setInterval(function(){r&&0===this.layer&&Ve.active._onTouchMove(ze);var t=Ze[this.layer].vy?Ze[this.layer].vy*l:0,n=Ze[this.layer].vx?Ze[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(Ve.dragged.parentNode[W],n,t,e,ze,Ze[this.layer].el)||L(Ze[this.layer].el,n,t)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&d!==u&&(d=D(d,!1)));Je=c}}),30),it=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||i;a();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(u.clientX,u.clientY);s(),l&&!l.el.contains(c)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function ot(){}function at(){}function st(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;nt=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,i=e.activeSortable,o=e.changed,a=e.cancel;if(i.options.swap){var s=this.sortable.el,l=this.options;if(n&&n!==s){var u=nt;!1!==r(n)?(C(n,l.swapClass,!0),nt=n):nt=null,u&&u!==nt&&C(u,l.swapClass,!1)}o(),t(!0),a()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,i=n||this.sortable,o=this.options;nt&&C(nt,o.swapClass,!1),nt&&(o.swap||n&&n.options.swap)&&r!==nt&&(i.captureAnimationState(),i!==t&&t.captureAnimationState(),function(e,t){var n,r,i=e.parentNode,o=t.parentNode;i&&o&&!i.isEqualNode(t)&&!o.isEqualNode(e)&&(n=R(e),r=R(t),i.isEqualNode(o)&&n<r&&r++,i.insertBefore(t,i.children[n]),o.insertBefore(e,o.children[r]))}(r,nt),i.animateAll(),i!==t&&t.animateAll())},nulling:function(){nt=null}},o(e,{pluginName:"swap",eventProperties:function(){return{swapItem:nt}}})}ot.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=x(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:it},o(ot,{pluginName:"revertOnSpill"}),at.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:it},o(at,{pluginName:"removeOnSpill"});var lt,ut,ct,ft,dt,pt=[],ht=[],mt=!1,vt=!1,gt=!1;function bt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?g(document,"pointerup",this._deselectMultiDrag):(g(document,"mouseup",this._deselectMultiDrag),g(document,"touchend",this._deselectMultiDrag)),g(document,"keydown",this._checkKeyDown),g(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";pt.length&&ut===e?pt.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;ct=t},delayEnded:function(){this.isMultiDrag=~pt.indexOf(ct)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<pt.length;r++)ht.push(V(pt[r])),ht[r].sortableIndex=pt[r].sortableIndex,ht[r].draggable=!1,ht[r].style["will-change"]="",C(ht[r],this.options.selectedClass,!1),pt[r]===ct&&C(ht[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,i=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||pt.length&&ut===t&&(yt(!0,n),r("clone"),i()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(yt(!1,n),ht.forEach((function(e){A(e,"display","")})),t(),dt=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(ht.forEach((function(e){A(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),dt=!0,r())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&ut&&ut.multiDrag._deselectMultiDrag(),pt.forEach((function(e){e.sortableIndex=R(e)})),pt=pt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),gt=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){pt.forEach((function(e){e!==ct&&A(e,"position","absolute")}));var r=T(ct,!1,!0,!0);pt.forEach((function(e){e!==ct&&B(e,r)})),vt=!0,mt=!0}n.animateAll((function(){vt=!1,mt=!1,t.options.animation&&pt.forEach((function(e){q(e)})),t.options.sort&&_t()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;vt&&~pt.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,i=e.dragRect;pt.length>1&&(pt.forEach((function(e){r.addAnimationState({target:e,rect:vt?T(e):i}),q(e),e.fromRect=i,t.removeAnimationState(e)})),vt=!1,function(e,t){pt.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,i=e.activeSortable,o=e.parentEl,a=e.putSortable,s=this.options;if(r){if(n&&i._hideClone(),mt=!1,s.animation&&pt.length>1&&(vt||!n&&!i.options.sort&&!a)){var l=T(ct,!1,!0,!0);pt.forEach((function(e){e!==ct&&(B(e,l),o.appendChild(e))})),vt=!0}if(!n)if(vt||_t(),pt.length>1){var u=dt;i._showClone(t),i.options.animation&&!dt&&u&&ht.forEach((function(e){i.addAnimationState({target:e,rect:ft}),e.fromRect=ft,e.thisAnimationDuration=null}))}else i._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(pt.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){ft=o({},t);var i=I(ct,!0);ft.top-=i.f,ft.left-=i.e}},dragOverAnimationComplete:function(){vt&&(vt=!1,_t())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,i=e.sortable,o=e.dispatchSortableEvent,a=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var u=this.options,c=r.children;if(!gt)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),C(ct,u.selectedClass,!~pt.indexOf(ct)),~pt.indexOf(ct))pt.splice(pt.indexOf(ct),1),lt=null,H({sortable:i,rootEl:n,name:"deselect",targetEl:ct,originalEvt:t});else{if(pt.push(ct),H({sortable:i,rootEl:n,name:"select",targetEl:ct,originalEvt:t}),t.shiftKey&&lt&&i.el.contains(lt)){var f,d,p=R(lt),h=R(ct);if(~p&&~h&&p!==h)for(h>p?(d=p,f=h):(d=h,f=p+1);d<f;d++)~pt.indexOf(c[d])||(C(c[d],u.selectedClass,!0),pt.push(c[d]),H({sortable:i,rootEl:n,name:"select",targetEl:c[d],originalEvt:t}))}else lt=ct;ut=l}if(gt&&this.isMultiDrag){if((r[W].options.sort||r!==n)&&pt.length>1){var m=T(ct),v=R(ct,":not(."+this.options.selectedClass+")");if(!mt&&u.animation&&(ct.thisAnimationDuration=null),l.captureAnimationState(),!mt&&(u.animation&&(ct.fromRect=m,pt.forEach((function(e){if(e.thisAnimationDuration=null,e!==ct){var t=vt?T(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),_t(),pt.forEach((function(e){c[v]?r.insertBefore(e,c[v]):r.appendChild(e),v++})),a===R(ct))){var g=!1;pt.forEach((function(e){e.sortableIndex===R(e)||(g=!0)})),g&&o("update")}pt.forEach((function(e){q(e)})),l.animateAll()}ut=l}(n===r||s&&"clone"!==s.lastPutMode)&&ht.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=gt=!1,ht.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!gt&&ut===this.sortable&&!(e&&O(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;pt.length;){var t=pt[0];C(t,this.options.selectedClass,!1),pt.shift(),H({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},o(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[W];t&&t.options.multiDrag&&!~pt.indexOf(e)&&(ut&&ut!==t&&(ut.multiDrag._deselectMultiDrag(),ut=t),C(e,t.options.selectedClass,!0),pt.push(e))},deselect:function(e){var t=e.parentNode[W],n=pt.indexOf(e);t&&t.options.multiDrag&&~n&&(C(e,t.options.selectedClass,!1),pt.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return pt.forEach((function(r){var i;t.push({multiDragElement:r,index:r.sortableIndex}),i=vt&&r!==ct?-1:vt?R(r,":not(."+e.options.selectedClass+")"):R(r),n.push({multiDragElement:r,index:i})})),{items:l(pt),clones:[].concat(ht),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function yt(e,t){ht.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function _t(){pt.forEach((function(e){e!==ct&&e.parentNode&&e.parentNode.removeChild(e)}))}Ve.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):this.options.supportPointer?g(document,"pointermove",this._handleFallbackAutoScroll):t.touches?g(document,"touchmove",this._handleFallbackAutoScroll):g(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),tt(),et(),clearTimeout(w),w=void 0},nulling:function(){ze=Qe=He=Je=Ke=Ye=Xe=null,Ze.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(ze=e,t||f||c||p){rt(e,this.options,o,t);var a=D(o,!0);!Je||Ke&&r===Ye&&i===Xe||(Ke&&tt(),Ke=setInterval((function(){var o=D(document.elementFromPoint(r,i),!0);o!==a&&(a=o,et()),rt(e,n.options,o,t)}),10),Ye=r,Xe=i)}else{if(!this.options.bubbleScroll||D(o,!0)===M())return void et();rt(e,this.options,D(o,!1),!1)}}},o(e,{pluginName:"scroll",initializeByDefault:!0})}),Ve.mount(at,ot),t.default=Ve}]))},function(e,t,n){var r,i,o;window,e.exports=(r=n(4),i=n(2),o=n(0),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t){e.exports=r},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"Form",(function(){return $t})),n.d(t,"FormProvider",(function(){return Lt})),n.d(t,"withFormApi",(function(){return nn})),n.d(t,"withFormState",(function(){return rn})),n.d(t,"withFieldApi",(function(){return cn})),n.d(t,"withFieldState",(function(){return un})),n.d(t,"withRadioGroup",(function(){return fn})),n.d(t,"asField",(function(){return dn})),n.d(t,"useForm",(function(){return qt})),n.d(t,"useField",(function(){return Kt})),n.d(t,"useFieldApi",(function(){return an})),n.d(t,"useFieldState",(function(){return ln})),n.d(t,"useFormApi",(function(){return Gt})),n.d(t,"useFormState",(function(){return Ut})),n.d(t,"Text",(function(){return mn})),n.d(t,"Radio",(function(){return gn})),n.d(t,"TextArea",(function(){return yn})),n.d(t,"Select",(function(){return wn})),n.d(t,"Option",(function(){return En})),n.d(t,"Checkbox",(function(){return An})),n.d(t,"RadioGroup",(function(){return Sn})),n.d(t,"BasicText",(function(){return hn})),n.d(t,"BasicRadio",(function(){return vn})),n.d(t,"BasicRadioGroup",(function(){return In})),n.d(t,"BasicTextArea",(function(){return bn})),n.d(t,"BasicSelect",(function(){return On})),n.d(t,"BasicCheckbox",(function(){return Cn})),n.d(t,"Scope",(function(){return Ht})),n.d(t,"ArrayField",(function(){return tn})),n.d(t,"useArrayField",(function(){return en}));var i=n(0),o=n.n(i),a=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?v(e):t}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function O(e,t){return e(t={exports:{}},t.exports),t.exports}var w,E=O((function(e){function t(e,t){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t[Math.abs(n)%t.length]}function n(e,t){var n=t.namespace;if(t.useColors){var r=t.color,i="  ".concat("[3"+(r<8?r:"8;5;"+r),";1m").concat(n," [0m");e[0]=i+e[0].split("\n").join("\n"+i)}else e[0]=n+" "+e[0]}function i(e,t){if(e[0]=(t.useColors?"%c":"")+t.namespace,t.useColors){var n="color: "+t.color,r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),e.splice(i,0,n)}}var o=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e&&i.unshift(e);var a=n.namespaces.split(",").map((function(e){return"*"===e[e.length-1]?new RegExp("^"+e.slice(0,e.length-1)+".*$"):new RegExp("^"+e+"$")}));a.some((function(t){return t.test(e)})),t(e,n.colors),n.useColors}}void 0===r||"renderer"===r.type||!0===r.browser||r.__nwjs?e.exports=function(e){return a(e,function(){var e;try{e=localStorage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),{namespaces:e||"",colors:o,useColors:!0,formatArgs:i}}())}:e.exports=function(e){return a(e,{namespaces:r.env.DEBUG||"",colors:[6,2,3,4,5,1],useColors:!0,formatArgs:n})}})),C="object"==typeof _&&_&&_.Object===Object&&_,A="object"==typeof self&&self&&self.Object===Object&&self,I=C||A||Function("return this")(),S=I.Symbol,M=Object.prototype,T=M.hasOwnProperty,j=M.toString,x=S?S.toStringTag:void 0,F=Object.prototype.toString,R=S?S.toStringTag:void 0,P=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":R&&R in Object(e)?function(e){var t=T.call(e,x),n=e[x];try{e[x]=void 0;var r=!0}catch(e){}var i=j.call(e);return r&&(t?e[x]=n:delete e[x]),i}(e):function(e){return F.call(e)}(e)},D=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},N=function(e){if(!D(e))return!1;var t=P(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},k=I["__core-js_shared__"],L=(w=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",V=Function.prototype.toString,B=/^\[object .+?Constructor\]$/,q=Function.prototype,W=Object.prototype,$=q.toString,G=W.hasOwnProperty,U=RegExp("^"+$.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=function(e){return!(!D(e)||function(e){return!!L&&L in e}(e))&&(N(e)?U:B).test(function(e){if(null!=e){try{return V.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))},Q=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return H(n)?n:void 0},Y=function(){try{var e=Q(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),X=function(e,t){return e===t||e!=e&&t!=t},z=Object.prototype.hasOwnProperty,K=function(e,t,n){var r=e[t];z.call(e,t)&&X(r,n)&&(void 0!==n||t in e)||function(e,t,n){"__proto__"==t&&Y?Y(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}(e,t,n)},Z=Array.isArray,J=function(e){return null!=e&&"object"==typeof e},ee=function(e){return"symbol"==typeof e||J(e)&&"[object Symbol]"==P(e)},te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=Q(Object,"create"),ie=Object.prototype.hasOwnProperty,oe=Object.prototype.hasOwnProperty;function ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ae.prototype.clear=function(){this.__data__=re?re(null):{},this.size=0},ae.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ae.prototype.get=function(e){var t=this.__data__;if(re){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ie.call(t,e)?t[e]:void 0},ae.prototype.has=function(e){var t=this.__data__;return re?void 0!==t[e]:oe.call(t,e)},ae.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=re&&void 0===t?"__lodash_hash_undefined__":t,this};var se=ae,le=function(e,t){for(var n=e.length;n--;)if(X(e[n][0],t))return n;return-1},ue=Array.prototype.splice;function ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ce.prototype.clear=function(){this.__data__=[],this.size=0},ce.prototype.delete=function(e){var t=this.__data__,n=le(t,e);return!(n<0||(n==t.length-1?t.pop():ue.call(t,n,1),--this.size,0))},ce.prototype.get=function(e){var t=this.__data__,n=le(t,e);return n<0?void 0:t[n][1]},ce.prototype.has=function(e){return le(this.__data__,e)>-1},ce.prototype.set=function(e,t){var n=this.__data__,r=le(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var fe=ce,de=Q(I,"Map"),pe=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function he(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}he.prototype.clear=function(){this.size=0,this.__data__={hash:new se,map:new(de||fe),string:new se}},he.prototype.delete=function(e){var t=pe(this,e).delete(e);return this.size-=t?1:0,t},he.prototype.get=function(e){return pe(this,e).get(e)},he.prototype.has=function(e){return pe(this,e).has(e)},he.prototype.set=function(e,t){var n=pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var me=he,ve="Expected a function";function ge(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(ve);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ge.Cache||me),n}ge.Cache=me;var be=ge,ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/\\(\\)?/g,Oe=function(e){var t=be((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ye,(function(e,n,r,i){t.push(r?i.replace(_e,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),we=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Ee=S?S.prototype:void 0,Ce=Ee?Ee.toString:void 0,Ae=function(e){return null==e?"":function e(t){if("string"==typeof t)return t;if(Z(t))return we(t,e)+"";if(ee(t))return Ce?Ce.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}(e)},Ie=function(e,t){return Z(e)?e:function(e,t){if(Z(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ee(e))||ne.test(e)||!te.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:Oe(Ae(e))},Se=/^(?:0|[1-9]\d*)$/,Me=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Se.test(e))&&e>-1&&e%1==0&&e<t},Te=function(e){if("string"==typeof e||ee(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},je=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:function(e,t,n,r){if(!D(e))return e;for(var i=-1,o=(t=Ie(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l=Te(t[i]),u=n;if(i!=a){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=D(c)?c:Me(t[i+1])?[]:{})}K(s,l,u),s=s[l]}return e}(e,t,n,r)},xe=function(e,t){for(var n=0,r=(t=Ie(t,e)).length;null!=e&&n<r;)e=e[Te(t[n++])];return n&&n==r?e:void 0},Fe=function(e,t){return t.length<2?e:xe(e,function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}(t,0,-1))},Re=function(e,t){return t=Ie(t,e),null==(e=Fe(e,t))||delete e[Te(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}(t))]},Pe=function(e,t){return null==e||Re(e,t)},De=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Ne=function(e){return Z(e)?we(e,Te):ee(e)?[e]:De(Oe(Ae(e)))},ke=function(e,t,n){var r=null==e?void 0:xe(e,t);return void 0===r?n:r},Le=Object.prototype.hasOwnProperty,Ve=function(e,t){return null!=e&&Le.call(e,t)},Be=function(e){return J(e)&&"[object Arguments]"==P(e)},qe=Object.prototype,We=qe.hasOwnProperty,$e=qe.propertyIsEnumerable,Ge=Be(function(){return arguments}())?Be:function(e){return J(e)&&We.call(e,"callee")&&!$e.call(e,"callee")},Ue=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},He=function(e,t){return null!=e&&function(e,t,n){for(var r=-1,i=(t=Ie(t,e)).length,o=!1;++r<i;){var a=Te(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ue(i)&&Me(a,i)&&(Z(e)||Ge(e))}(e,t,Ve)},Qe=function(){return!1},Ye=O((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?I.Buffer:void 0,o=(i?i.isBuffer:void 0)||Qe;e.exports=o})),Xe={};Xe["[object Float32Array]"]=Xe["[object Float64Array]"]=Xe["[object Int8Array]"]=Xe["[object Int16Array]"]=Xe["[object Int32Array]"]=Xe["[object Uint8Array]"]=Xe["[object Uint8ClampedArray]"]=Xe["[object Uint16Array]"]=Xe["[object Uint32Array]"]=!0,Xe["[object Arguments]"]=Xe["[object Array]"]=Xe["[object ArrayBuffer]"]=Xe["[object Boolean]"]=Xe["[object DataView]"]=Xe["[object Date]"]=Xe["[object Error]"]=Xe["[object Function]"]=Xe["[object Map]"]=Xe["[object Number]"]=Xe["[object Object]"]=Xe["[object RegExp]"]=Xe["[object Set]"]=Xe["[object String]"]=Xe["[object WeakMap]"]=!1;var ze,Ke=function(e){return function(t){return e(t)}},Ze=O((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&C.process,o=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),Je=Ze&&Ze.isTypedArray,et=Je?Ke(Je):function(e){return J(e)&&Ue(e.length)&&!!Xe[P(e)]},tt=Object.prototype.hasOwnProperty,nt=function(e,t){var n=Z(e),r=!n&&Ge(e),i=!n&&!r&&Ye(e),o=!n&&!r&&!i&&et(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!tt.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Me(u,l))||s.push(u);return s},rt=Object.prototype,it=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ot=Object.prototype.hasOwnProperty,at=function(e){if(!function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||rt)}(e))return it(e);var t=[];for(var n in Object(e))ot.call(e,n)&&"constructor"!=n&&t.push(n);return t},st=function(e){return function(e){return null!=e&&Ue(e.length)&&!N(e)}(e)?nt(e):at(e)},lt=function(e){return null==e?[]:function(e,t){return we(t,(function(t){return e[t]}))}(e,st(e))},ut=Array.prototype.splice,ct=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=ee(e),a=void 0!==t,s=null===t,l=t==t,u=ee(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0},ft=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},dt=S?S.isConcatSpreadable:void 0,pt=function(e){return Z(e)||Ge(e)||!!(dt&&e&&e[dt])},ht=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},mt=Math.max,vt=function(e,t,n){return t=mt(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=mt(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),ht(e,this,s)}},gt=function(e){return function(){return e}},bt=function(e){return e},yt=Y?function(e,t){return Y(e,"toString",{configurable:!0,enumerable:!1,value:gt(t),writable:!0})}:bt,_t=Date.now,Ot=function(e){var t=0,n=0;return function(){var r=_t(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(yt);Ot(vt(ze=function(e,t){var n=null==e?0:e.length,r=function(e,t){for(var n=-1,r=t.length,i=Array(r),o=null==e;++n<r;)i[n]=o?void 0:ke(e,t[n]);return i}(e,t);return function(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Me(i)?ut.call(e,i,1):Re(e,i)}}}(e,we(t,(function(e){return Me(e,n)?+e:e})).sort(ct)),r},void 0,(function(e){return null!=e&&e.length?function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=pt),o||(o=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,i,o):ft(o,l):i||(o[o.length]=l)}return o}(e,1):[]})),ze+"");var wt=function(e){return e!=e},Et=function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,wt,n)},Ct=function(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1},At=Array.prototype.splice,It=function(e,t){return Ot(vt(e,t,bt),e+"")}((function(e,t){return e&&e.length&&t&&t.length?function(e,t,n,r){var i=r?Ct:Et,o=-1,a=t.length,s=e;for(e===t&&(t=De(t)),n&&(s=we(e,Ke(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&At.call(s,l,1),At.call(e,l,1);return e}(e,t):e})),St=E("informed:ObjMap\t"),Mt=function(e){var t=Ne(e);return Number.isInteger(+t[t.length-1])},Tt=function(){function e(){s(this,e)}return u(e,null,[{key:"empty",value:function(e){return 0===lt(e).length}},{key:"get",value:function(e,t){var n=ke(e,t);return St("GOT",t,n),n}},{key:"has",value:function(e,t){return He(e,t)}},{key:"set",value:function(t,n,r){if(void 0!==r)St("SETTING",n,r),je(t,n,r);else if(Mt(n)&&void 0!==e.get(t,n)){St("Special case SETTING",n,"to undefined"),je(t,n,void 0);var i=Ne(n);jt(t,i=i.slice(0,i.length-1),!1)}else Mt(n)||void 0===e.get(t,n)||(St("Special case REMOVING",n,"from object completley"),e.delete(t,n))}},{key:"delete",value:function(e,t){St("DELETE",t),Pe(e,t);var n=Ne(t);jt(e,n=n.slice(0,n.length-1))}}]),e}();function jt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0!==t.length){var r=ke(e,t);Array.isArray(r)&&n&&It(r,void 0),(Array.isArray(r)?r.every((function(e){return null==e})):"{}"===JSON.stringify(r))&&Pe(e,t),jt(e,t.slice(0,t.length-1))}}var xt=E("informed:Controller\t"),Ft=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(this,t),(e=g(this,h(t).call(this))).options=n,e.fields=new Map,e.registered={},e.expectedRemovals={},e.state={values:{},touched:{},errors:{},pristine:!0,dirty:!1,invalid:!1,submits:0},e.deregister=e.deregister.bind(v(e)),e.register=e.register.bind(v(e)),e.setValue=e.setValue.bind(v(e)),e.setTouched=e.setTouched.bind(v(e)),e.setError=e.setError.bind(v(e)),e.setFormError=e.setFormError.bind(v(e)),e.submitForm=e.submitForm.bind(v(e)),e.reset=e.reset.bind(v(e)),e.update=e.update.bind(v(e)),e.validate=e.validate.bind(v(e)),e.keyDown=e.keyDown.bind(v(e)),e.getField=e.getField.bind(v(e)),e.expectRemoval=e.expectRemoval.bind(v(e)),e.updater={register:e.register,deregister:e.deregister,setValue:e.setValue,setTouched:e.setTouched,setError:e.setError,update:e.update,getField:e.getField,expectRemoval:e.expectRemoval},e}return p(t,e),u(t,[{key:"setOptions",value:function(e){this.options=e}},{key:"getFormState",value:function(){return d({},this.state,{pristine:this.pristine(),dirty:this.dirty(),invalid:this.invalid()})}},{key:"getFormApi",value:function(){var e=this;return{setValue:function(t,n,r){return e.fields.get(t).fieldApi.setValue(n,null,d({allowEmptyString:e.options.allowEmptyStrings},r))},setTouched:function(t,n){return e.fields.get(t).fieldApi.setTouched(n)},setError:function(t,n){return e.fields.get(t).fieldApi.setError(n)},setValues:function(t){return e.setValues(t)},setInitialValue:function(t,n){return e.setInitialValue(t,n)},getValue:function(t){return e.getValue(t)},getTouched:function(t){return e.getTouched(t)},getError:function(t){return e.getError(t)},reset:function(){return e.reset()},submitForm:function(t){return e.submitForm(t)},getState:function(){return e.getFormState()},getValues:function(){return e.getFormState().values},getFullField:function(t){return e.getFullField(t)},fieldExists:function(t){return null!=e.fields.get(t)},getInitialValue:function(t){return e.getInitialValue(t)},setFormError:function(t){return e.setFormError(t)},validate:function(){return e.validate()},validateField:function(t){return e.fields.get(t).fieldApi.validate()},resetField:function(t){return e.fields.get(t).fieldApi.reset()},emitter:this,setFieldError:function(t,n){return e.setError(t,n)},getOptions:function(){return e.options}}}},{key:"setValue",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];xt("Setting ".concat(e," to ").concat(t)),Tt.set(this.state.values,e,t),delete this.state.error,this.emit("change"),this.emit("value",e,t),n&&this.notify(e)}},{key:"setTouched",value:function(e,t){Tt.set(this.state.touched,e,t),this.emit("change")}},{key:"setError",value:function(e,t){if(xt("Setting ".concat(e,"'s error to ").concat(t)),/\[[0-9]*\]$/.test(e)){var n=e.slice(0,e.lastIndexOf("[")),r=Tt.get(this.state.errors,n);if(xt("Array field ".concat(n,"'s error is ").concat(r)),r&&!Array.isArray(r))return void xt("Never set ".concat(e,"'s error to ").concat(t," becuase there is already array level validation with error ").concat(r))}Tt.set(this.state.errors,e,t),this.emit("change")}},{key:"setFormError",value:function(e){this.state.error=e,this.emit("change")}},{key:"setInitialValue",value:function(e,t){Tt.set(this.options.initialValues,e,t)}},{key:"notify",value:function(e){var t=this,n=this.fields.get(e);n.notify&&n.notify.forEach((function(e){var n=t.fields.get(e);if(n){xt("Notifying",n.field);var r=t.getValue(n.field);n.fieldApi.validate(r)}}))}},{key:"getValue",value:function(e){return xt("Getting value for",e,Tt.get(this.state.values,e)),Tt.get(this.state.values,e)}},{key:"getTouched",value:function(e){return Tt.get(this.state.touched,e)}},{key:"getError",value:function(e){return Tt.get(this.state.errors,e)}},{key:"getFullField",value:function(e){return e}},{key:"valid",value:function(){return!(!Tt.empty(this.state.errors)||this.state.error)}},{key:"invalid",value:function(){return!(Tt.empty(this.state.errors)&&!this.state.error)}},{key:"pristine",value:function(){return Tt.empty(this.state.touched)&&Tt.empty(this.state.values)}},{key:"dirty",value:function(){return!this.pristine()}},{key:"getInitialValue",value:function(e){return Tt.get(this.options.initialValues,e)}},{key:"reset",value:function(){var e=this;xt("Resetting"),this.fields.forEach((function(t){t.fieldApi.reset();var n=Tt.get(e.options.initialValues,t.field);void 0!==n&&e.getFormApi().setValue(t.field,n,{initial:!0})})),this.emit("change")}},{key:"setValues",value:function(e){var t=this;xt("Setting values"),this.fields.forEach((function(n){var r=Tt.get(e,n.field);void 0!==r&&t.getFormApi().setValue(n.field,r)})),this.emit("change")}},{key:"validate",value:function(){var e=this;if(xt("Validating all fields"),this.fields.forEach((function(t,n){var r=e.getValue(n);t.fieldApi.validate(r),t.fieldApi.setTouched(!0)})),this.options.validate){var t=this.options.validate(this.state.values);this.setFormError(t)}if(this.options.validateFields){var n=this.options.validateFields(this.state.values);this.fields.forEach((function(t){if(Tt.has(n,t.field)){var r=Tt.get(n,t.field);e.getFormApi().setError(t.field,r)}}))}}},{key:"keyDown",value:function(e){if(13==e.keyCode&&this.options.preventEnter)return e.preventDefault(e),!1}},{key:"submitForm",value:function(e){this.state.submits=this.state.submits+1,!this.options.dontPreventDefault&&e&&e.preventDefault(e),this.validate(),this.emit("change"),this.valid()?(xt("Submit",this.state),this.emit("submit")):(xt("Submit",this.state),this.emit("failure"))}},{key:"register",value:function(e,t,n){xt("Register",e,t);var r=this.registered[e];this.registered[e]=!0,this.fields.set(e,n);var i=e.slice(0,e.lastIndexOf("]")+1||e.length);if(delete this.expectedRemovals[i],!n.shadow){if(n.keepState){var o=Tt.get(this.state.values,e),a=Tt.get(this.options.initialValues,e);void 0!==o?this.getFormApi().setValue(e,o||t.value):void 0!==a?this.getFormApi().setValue(e,a):this.setValue(e,t.value,!1);var s=Tt.get(this.state.touched,e);this.getFormApi().setTouched(e,s)}else{var l=Tt.get(this.options.initialValues,e);void 0===l||r?this.setValue(e,t.value,!1):this.getFormApi().setValue(e,l,{initial:!0}),this.setTouched(e,t.touched)}this.setError(e,t.error)}}},{key:"deregister",value:function(e,t){xt("Deregister",e);var n=this.fields.get(e),r=e.slice(0,e.lastIndexOf("]")+1||e.length);n.keepState&&!this.expectedRemovals[r]||(Tt.delete(this.state.values,e),Tt.delete(this.state.touched,e),Tt.delete(this.state.errors,e)),this.fields.delete(e),this.emit("change"),this.emit("value",e)}},{key:"expectRemoval",value:function(e){xt("Expecting removal of",e),this.expectedRemovals[e]=!0}},{key:"update",value:function(e,t){xt("Update",e),this.fields.set(e,t)}},{key:"getField",value:function(e){return xt("Getting Field",e),this.fields.get(e)}}]),t}(a.EventEmitter),Rt=o.a.createContext({register:function(){},deregister:function(){},setValue:function(){},setTouched:function(){},setError:function(){},update:function(){},getField:function(){},expectRemoval:function(){}}),Pt=o.a.createContext({}),Dt=o.a.createContext({getFullField:function(){},getValues:function(){},getOptions:function(){return{}},setInitialValue:function(){},getInitialValue:function(){}}),Nt=o.a.createContext(),kt=(o.a.createContext(),E("informed:FormProvider\t\t")),Lt=function(e){var t=e.children,n=e.formApi,r=e.formController,i=e.formState,a=m(e,["children","formApi","formController","formState"]);if(kt("Render FormProvider"),n)return kt("Render FormProvider with given values"),o.a.createElement(Rt.Provider,{value:r.updater},o.a.createElement(Dt.Provider,{value:n},o.a.createElement(Pt.Provider,{value:i},t)));kt("Render FormProvider with generated values");var s=qt(a);return o.a.createElement(Rt.Provider,{value:s.formController.updater},o.a.createElement(Dt.Provider,{value:s.formApi},o.a.createElement(Pt.Provider,{value:s.formState},t)))},Vt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect,Bt=E("informed:useForm\t\t"),qt=function(e){var t=e.dontPreventDefault,n=e.initialValues,r=e.validate,a=e.validateFields,s=e.allowEmptyStrings,l=e.preventEnter,u=e.getApi,c=e.onChange,f=e.onSubmit,d=e.onValueChange,p=e.onSubmitFailure,h=m(e,["dontPreventDefault","initialValues","validate","validateFields","allowEmptyStrings","preventEnter","getApi","onChange","onSubmit","onValueChange","onSubmitFailure"]);Bt("Render useForm");var v=Object(i.useMemo)((function(){return{dontPreventDefault:t,initialValues:n,validate:r,validateFields:a,allowEmptyStrings:s,preventEnter:l}}),[t,n,r,a,s,l]),g=b(Object(i.useState)((function(){return new Ft(v)})),1)[0];Object(i.useEffect)((function(){g.setOptions(v)}),[v]);var y=b(Object(i.useState)((function(){return g.getFormState()})),2),_=y[0],O=y[1];Vt((function(){var e=function(){return c&&c(g.getFormState())},t=function(){return f&&f(g.getFormState().values)},n=function(){return d&&d(g.getFormState().values)},r=function(){return p&&p(g.getFormState().errors)};return g.on("change",e),g.on("submit",t),g.on("value",n),g.on("failure",r),function(){g.removeListener("change",e),g.removeListener("submit",t),g.removeListener("value",n),g.removeListener("failure",r)}}),[c,f,d,p]),Object(i.useState)((function(){g.on("change",(function(){return O(g.getFormState())})),u&&u(g.getFormApi())}));var w=b(Object(i.useState)((function(){return g.getFormApi()})),1)[0];return{formApi:w,formState:_,formController:g,render:function(e){return o.a.createElement(Lt,{formApi:w,formState:_,formController:g},e)},userProps:h}},Wt=E("informed:Form\t\t"),$t=function(e){var t=e.children,n=e.render,r=e.component,i=m(e,["children","render","component"]);Wt("Render FORM");var a,s=qt(i),l=s.formApi,u=s.formController,c=s.formState,d=s.render,p=s.userProps;return d(o.a.createElement("form",f({},p,{onReset:u.reset,onSubmit:u.submitForm,onKeyDown:u.keyDown}),(a={formState:c,formApi:l},r?o.a.createElement(r,a,t):n?n(a):"function"==typeof t?t(a):t)))};function Gt(){return Object(i.useContext)(Dt)}function Ut(){return Object(i.useContext)(Pt)}var Ht=function(e){var t=e.scope,n=e.children,r=Object(i.useContext)(Rt),a=Gt(),s=Ut(),l=Object(i.useMemo)((function(){return function(e,t){return d({},t,{getValue:function(n){return t.getValue("".concat(e,".").concat(n))},getTouched:function(n){return t.getTouched("".concat(e,".").concat(n))},getError:function(n){return t.getError("".concat(e,".").concat(n))},setValue:function(n,r){return t.setValue("".concat(e,".").concat(n),r)},setTouched:function(n,r){return t.setTouched("".concat(e,".").concat(n),r)},setError:function(n,r){return t.setError("".concat(e,".").concat(n),r)},getFullField:function(n){return"".concat(t.getFullField(e),".").concat(n)}})}(t,a)}),[t]),u=Object(i.useMemo)((function(){return function(e,t){var n=t.register,r=t.deregister,i=t.setValue,o=t.setTouched,a=t.setError,s=t.update,l=t.getField,u=t.expectRemoval;return{register:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return n.apply(void 0,["".concat(e,".").concat(t)].concat(i))},deregister:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r.apply(void 0,["".concat(e,".").concat(t)].concat(i))},update:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return s.apply(void 0,["".concat(e,".").concat(t)].concat(r))},setValue:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.apply(void 0,["".concat(e,".").concat(t)].concat(r))},setTouched:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return o.apply(void 0,["".concat(e,".").concat(t)].concat(r))},setError:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return a.apply(void 0,["".concat(e,".").concat(t)].concat(r))},getField:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l.apply(void 0,["".concat(e,".").concat(t)].concat(r))},expectRemoval:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return u.apply(void 0,["".concat(e,".").concat(t)].concat(r))}}}(t,r)}),[t]);return o.a.createElement(Rt.Provider,{value:u},o.a.createElement(Dt.Provider,{value:l},o.a.createElement(Pt.Provider,{value:s},n)))};function Qt(e){var t=Object(i.useRef)(),n=b(Object(i.useState)(e),2),r=n[0],o=n[1];return t.current=r,[r,function(e){t.current=e,o(e)},function(){return t.current}]}var Yt=E("informed:useField\t"),Xt=function(e,t){if(null!=e)return t?t(e):e},zt=function(e,t,n){return t&&n?t(e):e};function Kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.field,r=e.validate,a=e.mask,s=e.maskWithCursorOffset,l=e.format,u=e.parse,c=e.initialValue,f=e.validateOnChange,d=e.validateOnBlur,p=e.validateOnMount,h=e.maskOnBlur,v=e.allowEmptyString,g=e.onValueChange,_=e.notify,O=e.keepState,w=e.maintainCursor,E=e.debug,C=e.shadow,A=m(e,["field","validate","mask","maskWithCursorOffset","format","parse","initialValue","validateOnChange","validateOnBlur","validateOnMount","maskOnBlur","allowEmptyString","onValueChange","notify","keepState","maintainCursor","debug","shadow"]),I=Object(i.useContext)(Rt),S=Gt(),M=b(Qt(Xt(c,a)),3),T=M[0],j=M[1],x=M[2],F=b(Qt(p?r(T):void 0),3),R=F[0],P=F[1],D=F[2],N=b(Qt(),3),k=N[0],L=N[1],V=N[2],B=b(Qt(0),3),q=(B[0],B[1]),W=B[2],$=b(Qt(0),3),G=($[0],$[1]),U=$[2],H=b(Object(i.useState)(zt(T,l,u)),2),Q=H[0],Y=H[1],X=Object(i.useRef)(c);X.current=c;var z=function(e){Yt("Setting ".concat(n,"'s error to ").concat(e)),P(e),I.setError(n,e)},K=function(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=S.getOptions();Yt("Setting ".concat(n," to ").concat(t));var d=t;if(""!==t||v||o.allowEmptyString||c.allowEmptyStrings||(t=void 0),"number"===e.type&&void 0!==t&&(t=+t),a&&!h&&(d=a(t),t=a(t)),s&&!h){var p=s(t);d=p.value,t=p.value,G(p.offset)}l&&u&&(t=u(t),d=l(t)),r&&f&&!o.initial&&(Yt("Validating after change ".concat(n," ").concat(t)),z(r(t,S.getValues()))),i&&i.target&&i.target.selectionStart&&q(i.target.selectionStart),j(t),Y(d),g&&g(t),I.setValue(n,t)},Z=function(e,t){if(r&&d&&!t&&e&&(Yt("Validating after blur ".concat(n," ").concat(x())),z(r(x(),S.getValues()))),a&&h){var i=a(x());j(i),Y(i),g&&g(i),I.setValue(n,i)}if(s&&h){var o=s(x());G(o.offset),j(o.value),Y(o.value),g&&g(o.value),I.setValue(n,o.value)}L(e),I.setTouched(n,e)},J={setValue:K,setTouched:Z,setError:z,reset:function(){var e=Xt(X.current,a);K(X.current),z(p?r(e):void 0),Z(void 0,!0)},validate:function(e){r&&(Yt("Field validating ".concat(n," ").concat(x()||e)),z(r(x()||e,S.getValues())))},getValue:x,getTouched:V,getError:D},ee={value:T,error:R,touched:k,maskedValue:Q};C&&(ee={error:R,touched:k}),Object(i.useState)((function(){var e=S.getFullField(n);Yt("Initial Register",e),I.register(n,ee,{field:e,fieldApi:J,fieldState:ee,notify:_,keepState:O,shadow:C})})),Yt("Render",S.getFullField(n),ee);var te=Object(i.useRef)(null),ne=o.a.useMemo((function(){return t||te}),[]);Object(i.useEffect)((function(){var e=S.getFullField(n);return Yt("Register",e),I.register(n,ee,{field:e,fieldApi:J,fieldState:ee,notify:_,keepState:O,shadow:C}),function(){Yt("Deregister",e),I.deregister(n)}}),[n]),Object(i.useEffect)((function(){var e=S.getFullField(n);Yt("Update",n),I.update(n,{field:e,fieldApi:J,fieldState:ee,notify:_,keepState:O,shadow:C})}),[r,f,d,g]),Vt((function(){w&&null!=ne.current&&W()&&(ne.current.selectionEnd=W()+U())}),[T]),Vt((function(){E&&ne&&(ne.current.style.border="5px solid orange",setTimeout((function(){ne.current.style.borderWidth="2px",ne.current.style.borderStyle="inset",ne.current.style.borderColor="initial",ne.current.style.borderImage="initial"}),500))}));var re=[].concat(y(Object.values(ee)),y(Object.values(e)),y(Object.values(A)));return{fieldState:ee,fieldApi:J,render:function(e){return Object(i.useMemo)((function(){return e}),y(re))},ref:ne,userProps:A}}var Zt=E("informed:useArrayField\t"),Jt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},en=function(e){var t=e.field,n=e.initialValue,r=e.validate,o=m(e,["field","initialValue","validate"]),a=Gt(),s=Object(i.useContext)(Rt),l=a.getFullField(t),u=a.getInitialValue(l)||n||[],c=a.getValue(l),f=b(Object(i.useState)(c||u),2),p=f[0],h=f[1],v=b(Qt(p?p.map((function(){return Jt()})):[]),3),g=v[0],_=v[1],O=v[2],w=Object(i.useMemo)((function(){return function(e,t){var n=null==O()?0:O().length;return r?r(e,n,t):void 0}})),E=Kt(d({field:t,validate:w,shadow:!0},o)).fieldApi;return Vt((function(){var e=function(e){if(e!==l&&(Zt("".concat(l," changed")),RegExp("".concat(l,"\\[[0-9]+\\]")).test(e))){var n=a.getValue(t);Zt("setting array field ".concat(l," to ").concat(n)),E.setValue(n)}};return a.emitter.on("value",e),function(){a.emitter.removeListener("value",e)}}),[t]),{fields:g.map((function(e,n){return{key:e,field:"".concat(t,"[").concat(n,"]"),remove:function(){return function(e){s.expectRemoval("".concat(t,"[").concat(e,"]"));var n=g.slice(0,e).concat(g.slice(e+1,g.length));_(n);var r=p.slice(0,e).concat(p.slice(e+1,p.length));h(r),a.setInitialValue(t,r)}(n)},initialValue:p&&p[n]}})),add:function(){g.push(Jt()),_(y(g))},addWithInitialValue:function(e){g.push(Jt()),_(y(g));var t=y(p);t[g.length-1]=e,h(t)}}},tn=function(e){var t=e.children,n=m(e,["children"]);return t(en(n))},nn=function(e){return o.a.forwardRef((function(t,n){return o.a.createElement(Dt.Consumer,null,(function(r){return o.a.createElement(e,f({formApi:r,ref:n},t))}))}))},rn=function(e){return o.a.forwardRef((function(t,n){return o.a.createElement(Pt.Consumer,null,(function(r){return o.a.createElement(e,f({formState:r,ref:n},t))}))}))},on=function(e,t){return{getValue:function(){return e.getValue(t)},setValue:function(n){return e.setValue(t,n)},getTouched:function(){return e.getTouched(t)},setTouched:function(n){return e.setTouched(t,n)},getError:function(){return e.getError(t)},setError:function(n){return e.setError(t,n)},reset:function(){return e.resetField(t)},validate:function(){return e.validateField(t)},exists:function(){return e.fieldExists(t)}}};function an(e){var t=Gt();return Object(i.useMemo)((function(){return on(t,e)}),[e])}var sn=function(e){return{value:e.getValue(),touched:e.getTouched(),error:e.getError()}};function ln(e){var t=an(e);return Ut(),sn(t)}var un=function(e){return function(t){return function(n){var r=ln(e);return o.a.createElement(t,f({fieldState:r},n))}}},cn=function(e){return function(t){return function(n){var r=an(e);return o.a.createElement(t,f({fieldApi:r},n))}}},fn=function(e){return o.a.forwardRef((function(t,n){return o.a.createElement(Nt.Consumer,null,(function(r){var i=r.radioGroupApi,a=r.radioGroupState;return o.a.createElement(e,f({radioGroupApi:i,radioGroupState:a,ref:n},t))}))}))},dn=function(e){var t,n=o.a.forwardRef((function(t,n){var r=Kt(t,n),i=r.fieldState,a=r.fieldApi,s=r.render,l=r.ref,u=r.userProps;return s(o.a.createElement(e,f({fieldApi:a,fieldState:i,field:t.field,forwardedRef:l,debug:t.debug,type:t.type},u)))}));return n.displayName="asField(".concat((t=e).type&&t.type.name?t.type.name:t.displayName||t.name||"Component",")"),n},pn=E("informed:Text\t"),hn=function(e){var t=e.fieldApi,n=e.fieldState,r=m(e,["fieldApi","fieldState"]),i=n.maskedValue,a=t.setValue,s=t.setTouched,l=r.onChange,u=r.onBlur,c=r.field,d=(r.initialValue,r.forwardedRef),p=r.debug,h=m(r,["onChange","onBlur","field","initialValue","forwardedRef","debug"]);return pn("Render",c),Vt((function(){p&&d&&(d.current.style.background="red",setTimeout((function(){d.current.style.background="white"}),500))})),o.a.createElement("input",f({},h,{name:c,ref:d,value:i||0===i?i:"",onChange:function(e){a(e.target.value,e),l&&l(e)},onBlur:function(e){s(!0),u&&u(e)}}))},mn=dn(hn),vn=function(e){var t=e.radioGroupApi,n=e.radioGroupState,r=m(e,["radioGroupApi","radioGroupState"]),i=n.value,a=t.setValue,s=t.setTouched,l=t.onChange,u=t.onBlur,c=r.value,d=r.onChange,p=r.onBlur,h=r.field,v=(r.initialValue,r.forwardedRef),g=m(r,["value","onChange","onBlur","field","initialValue","forwardedRef"]);return o.a.createElement("input",f({},g,{name:h,ref:v,value:c,checked:i===c,onChange:function(e){e.target.checked&&(a(c),d&&d(e),l&&l(e))},onBlur:function(e){s(!0),p&&p(e),u&&u(e)},type:"radio"}))},gn=fn(vn),bn=function(e){var t=e.fieldApi,n=e.fieldState,r=m(e,["fieldApi","fieldState"]),i=n.maskedValue,a=t.setValue,s=t.setTouched,l=r.onChange,u=r.onBlur,c=r.field,d=(r.initialValue,r.forwardedRef),p=r.debug,h=m(r,["onChange","onBlur","field","initialValue","forwardedRef","debug"]);return Vt((function(){p&&d&&(d.current.style.background="red",setTimeout((function(){d.current.style.background="white"}),500))})),o.a.createElement("textarea",f({},h,{name:c,ref:d,value:i||"",onChange:function(e){a(e.target.value,e),l&&l(e)},onBlur:function(e){s(!0),u&&u(e)}}))},yn=dn(bn),_n=E("informed:Select\t"),On=function(e){var t=e.fieldApi,n=e.fieldState,r=m(e,["fieldApi","fieldState"]),a=n.value,s=t.setTouched,l=r.onChange,u=r.onBlur,c=r.field,d=(r.initialValue,r.children),p=r.forwardedRef,h=r.debug,v=r.multiple,g=m(r,["onChange","onBlur","field","initialValue","children","forwardedRef","debug","multiple"]),b=Object(i.useRef)();return Vt((function(){h&&p&&(p.current.style.background="red",setTimeout((function(){p.current.style.background="white"}),500))})),_n("Render",c,a),o.a.createElement("select",f({},g,{multiple:v,name:c,ref:p||b,value:a||(v?[]:""),onChange:function(e){var n=Array.from((p||b).current).filter((function(e){return e.selected})).map((function(e){return e.value}));t.setValue(v?n:n[0]||""),l&&e&&l(e)},onBlur:function(e){s(!0),u&&u(e)}}),d)},wn=dn(On),En=function(e){var t=e.value,n=e.forwardedRef,r=e.children,i=m(e,["value","forwardedRef","children"]);return o.a.createElement("option",f({ref:n,value:t,key:t},i),r)},Cn=function(e){var t=e.fieldApi,n=e.fieldState,r=m(e,["fieldApi","fieldState"]),i=n.value,a=t.setValue,s=t.setTouched,l=r.onChange,u=r.onBlur,c=r.field,d=(r.initialValue,r.debug,r.forwardedRef),p=m(r,["onChange","onBlur","field","initialValue","debug","forwardedRef"]);return o.a.createElement("input",f({},p,{name:c,ref:d,checked:!!i,onChange:function(e){a(e.target.checked),l&&l(e)},onBlur:function(e){s(!0),u&&u(e)},type:"checkbox"}))},An=dn(Cn),In=function(e){function t(){return s(this,t),g(this,h(t).apply(this,arguments))}return p(t,e),u(t,[{key:"render",value:function(){return o.a.createElement(Nt.Provider,{value:this.groupContext},this.props.children)}},{key:"groupContext",get:function(){return{radioGroupApi:d({},this.props.fieldApi,{onChange:this.props.onChange,onBlur:this.props.onBlur}),radioGroupState:this.props.fieldState}}}]),t}(i.Component),Sn=dn(In)}.call(this,n(13),n(14))},function(e,t){e.exports=i},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));class o extends i.PureComponent{constructor(){super(...arguments),this.initialValue=this.props.questionnaireResponseItem.answers&&this.props.questionnaireResponseItem.answers[0]&&this.props.questionnaireResponseItem.answers[0].value}onBlur(){const{formApi:e,item:t,questionnaireResponseItem:n}=this.props;n.reply(e.getValue(t.id))}validate(){const{questionnaireResponseItem:e}=this.props;e.validate();const t=e.errorMessages.join(" ");return""===t?void 0:t}}t.InputLikeComponent=o,t.default=o},function(e,t){e.exports=o},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(4)),s=n(2),l=i(n(9)),u=n(1);t.ERROR_ITEM_CLASS_NAME="error-item";class c extends o.Component{renderErrorMessage(){const{formApi:e,item:t,questionnaireResponseItem:n}=this.props,r=n.errorMessages[0];if(e.getTouched(t.id)&&void 0!==r)return o.createElement("span",{className:"d-block mt-n2 text-danger"},r)}renderQuestionText(){const{item:e}=this.props;return e.type===a.GROUP?o.createElement("h2",null,e.text):e.type!==a.DISPLAY?o.createElement("label",{htmlFor:e.id},e.text,e.required&&o.createElement("span",{className:"text-danger"},"*")):void 0}render(){const{className:e,item:n,questionnaireResponseItem:r,formApi:i}=this.props,s=i.getTouched(n.id)&&!r.isValid,u=s?"is-invalid":"";let c;return c=n.type===a.GROUP?"response-group-item":n.type===a.DISPLAY?"response-display-item":"response-item",r.isEnable&&o.createElement("div",{className:`${c} ${s?t.ERROR_ITEM_CLASS_NAME:""} ${e}`},this.renderQuestionText(),this.renderErrorMessage(),o.createElement(l.default,{item:n,questionnaireResponseItem:r,validationStatus:u}))}}t.ItemWrapper=c,c.defaultProps={className:""},t.default=u.withFormApi(s.useObservableModel(c))},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function f(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var u=l.length,c=m(l,u);for(n=0;n<u;++n)o(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(8))},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(2),a=r(n(5)),s=n(1);class l extends i.Component{getFormApi(e){this.formApi=e}submitForm(){const{questionnaireResponseModel:e,onSubmit:t}=this.props;t&&t(e)}onSubmitFailure(e){const{onError:t}=this.props;this.forceUpdate(),setTimeout(()=>{const e=document.querySelector(`.${a.ERROR_ITEM_CLASS_NAME}`);if(e){let t=e.querySelector("input:not([type=radio]):not([type=checkbox]):not([type=file])");t||(t=e.querySelector("textarea")),t&&t.focus()}e.scrollIntoView()}),t&&t(e)}renderItemList(){const{questionnaire:e,questionnaireResponseModel:t,forwardRef:n}=this.props;return i.createElement("div",{className:"response-item-list"},i.createElement(s.Form,{ref:n,getApi:this.getFormApi.bind(this),onSubmit:this.submitForm.bind(this),onSubmitFailure:this.onSubmitFailure.bind(this)},e.items&&e.items.map(e=>{const n=t.items.find(t=>t.questionId===e.id);return n&&i.createElement(a.default,{key:e.id,item:e,questionnaireResponseItem:n})})))}render(){const{questionnaire:e,className:t=""}=this.props;return i.createElement("div",{className:`questionnaire-response ${t}`},i.createElement("div",{className:"header"},i.createElement("h1",null,e&&e.title),i.createElement("p",null,e&&e.description)),this.renderItemList())}}t.Questionnaire=l;const u=o.useObservableModel(l);t.QuestionnairePlayer=u,t.default=u},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(4)),s=i(n(10)),l=i(n(11)),u=i(n(12)),c=i(n(15)),f=i(n(16)),d=i(n(17)),p=i(n(18)),h=i(n(19)),m=i(n(20)),v=i(n(21)),g=i(n(23)),b=i(n(24)),y=i(n(25));t.ItemProvider=e=>{const{item:t}=e;switch(t.type){case a.DISPLAY:return o.createElement(s.default,Object.assign({},e));case a.GROUP:return o.createElement(l.default,Object.assign({},e));case a.TEXT:return o.createElement(u.default,Object.assign({},e));case a.STRING:return o.createElement(c.default,Object.assign({},e));case a.DECIMAL:return o.createElement(f.default,Object.assign({},e));case a.BOOLEAN:return o.createElement(d.default,Object.assign({},e));case a.TIME:return o.createElement(p.default,Object.assign({},e));case a.DATE:return o.createElement(h.default,Object.assign({},e));case a.DATE_TIME:return o.createElement(m.default,Object.assign({},e));case a.ATTACHMENT:return o.createElement(v.default,Object.assign({},e));case a.CHOICE:return o.createElement(g.default,Object.assign({},e));case a.OPEN_CHOICE:return o.createElement(b.default,Object.assign({},e));case a.MULTI_CHOICE:return o.createElement(y.default,Object.assign({},e));default:return null}},t.default=t.ItemProvider},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.Item=e=>i.createElement("p",null,e.item.text),t.default=t.Item},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=i(n(5));class l extends o.Component{render(){const{item:e,questionnaireResponseItem:t}=this.props;return o.createElement("div",{className:"response-item-list"},e.items&&e.items.map(e=>{const n=t.items.find(t=>t.questionId===e.id);return n&&o.createElement(s.default,{key:e.id,item:e,questionnaireResponseItem:n})}))}}t.GroupItem=l,t.default=a.useObservableModel(l)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(1),s=i(n(3));class l extends s.default{render(){const{item:e,validationStatus:t}=this.props;return o.createElement("div",{className:"form-group"},o.createElement(a.TextArea,{autoComplete:"off",id:e.id,className:`form-control ${t}`,field:e.id,onBlur:this.onBlur.bind(this),validateOnChange:!0,validate:this.validate.bind(this),initialValue:this.initialValue}))}}t.TextItem=l,t.default=a.withFormApi(l)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&p())}function p(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(1),s=i(n(3));class l extends s.default{render(){const{item:e,validationStatus:t}=this.props;return o.createElement("div",{className:"form-group"},o.createElement(a.Text,{autoComplete:"off",id:e.id,className:`form-control ${t}`,field:e.id,onBlur:this.onBlur.bind(this),validateOnChange:!0,validate:this.validate.bind(this),initialValue:this.initialValue}))}}t.StringItem=l,t.default=a.withFormApi(l)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(1),s=i(n(3));class l extends s.default{render(){const{item:e,validationStatus:t}=this.props;return o.createElement("div",{className:"form-group"},o.createElement(a.Text,{autoComplete:"off",id:e.id,type:"number",className:`form-control ${t}`,field:e.id,onBlur:this.onBlur.bind(this),validateOnChange:!0,validate:this.validate.bind(this),initialValue:this.initialValue}))}}t.DecimalItem=l,t.default=a.withFormApi(l)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(1),a=e=>"boolean"==typeof e?e:"false"!==e&&("true"===e||void 0);class s extends i.PureComponent{constructor(){super(...arguments),this.initialValue=this.props.questionnaireResponseItem.answers&&this.props.questionnaireResponseItem.answers[0]&&a(this.props.questionnaireResponseItem.answers[0].value)}onChange(){const{questionnaireResponseItem:e,item:t,formApi:n}=this.props;e.reply(n.getValue(t.id))}validate(){const{questionnaireResponseItem:e}=this.props;e.validate();const t=e.errorMessages.join(" ");return""===t?void 0:t}render(){const{item:e,validationStatus:t}=this.props;return i.createElement(o.RadioGroup,{field:e.id,validateOnChange:!0,validate:this.validate.bind(this),initialValue:this.initialValue},i.createElement("div",{className:"form-group"},i.createElement("div",{className:"form-check"},i.createElement(o.Radio,{className:`form-check-input ${t}`,id:`${e.id}-true`,value:!0,onChange:this.onChange.bind(this)}),i.createElement("label",{className:"form-check-label",htmlFor:`${e.id}-true`},"Yes")),i.createElement("div",{className:"form-check"},i.createElement(o.Radio,{className:`form-check-input ${t}`,id:`${e.id}-false`,value:!1,onChange:this.onChange.bind(this)}),i.createElement("label",{className:"form-check-label",htmlFor:`${e.id}-false`},"No"))))}}t.BooleanItem=s,t.default=o.withFormApi(s)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(1),s=i(n(3));class l extends s.default{onBlur(){const{formApi:e,item:t,questionnaireResponseItem:n}=this.props;let r=e.getValue(t.id);r=void 0===r?void 0:r+":00",n.reply(r)}render(){const{item:e,validationStatus:t}=this.props;return o.createElement("div",{className:"form-group"},o.createElement(a.Text,{autoComplete:"off",id:e.id,type:"time",className:`form-control ${t}`,field:e.id,onBlur:this.onBlur.bind(this),validateOnChange:!0,validate:this.validate.bind(this),initialValue:this.initialValue}))}}t.TimeItem=l,t.default=a.withFormApi(l)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(1),s=i(n(3));class l extends s.default{render(){const{item:e,validationStatus:t}=this.props;return o.createElement("div",{className:"form-group"},o.createElement(a.Text,{autoComplete:"off",id:e.id,type:"date",className:`form-control ${t}`,field:e.id,onBlur:this.onBlur.bind(this),validateOnChange:!0,validate:this.validate.bind(this),initialValue:this.initialValue}))}}t.DateItem=l,t.default=a.withFormApi(l)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(1),s=i(n(3));class l extends s.default{render(){const{item:e,validationStatus:t}=this.props;return o.createElement("div",{className:"form-group"},o.createElement(a.Text,{autoComplete:"off",id:e.id,type:"datetime-local",className:`form-control ${t}`,field:e.id,onBlur:this.onBlur.bind(this),validateOnChange:!0,validate:this.validate.bind(this),initialValue:this.initialValue}))}}t.DateTimeItem=l,t.default=a.withFormApi(l)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(2),a=n(22);class s extends i.Component{constructor(){super(...arguments),this.fileNameList=[],this.dataTransfer=new DataTransfer,this.fileInputRef=i.createRef()}handleChange(e){const{item:t,questionnaireResponseItem:n}=this.props,r=e.target,i=r.files;if(t.multipleFiles)for(let e of i)-1===this.fileNameList.indexOf(e.name)&&(this.fileNameList.push(e.name),this.dataTransfer.items.add(e),n.reply(e.name));else this.dataTransfer.items.clear(),this.dataTransfer.items.add(i[0]),this.fileNameList=[i[0].name],n.reply(i[0].name);r.files=this.dataTransfer.files}removeFile(e){const{questionnaireResponseItem:t}=this.props,n=this.fileNameList.indexOf(e);this.fileNameList.splice(n,1),this.dataTransfer.items.remove(n),this.fileInputRef.current&&(this.fileInputRef.current.files=this.dataTransfer.files),t.reply(e)}validate(){const{questionnaireResponseItem:e}=this.props;e.validate();const t=e.errorMessages.join(" ");return""===t?void 0:t}renderFileList(){const{questionnaireResponseItem:e}=this.props;return e.answers.length>0&&i.createElement("div",{className:"form-group"},i.createElement("ul",{className:"list-group list-group-flush"},e.answers.map(e=>i.createElement("li",{key:e.value,className:"list-group-item list-group-item-action"},i.createElement("div",{className:"d-flex justify-content-between align-items-center"},i.createElement("span",null,e.value),i.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:this.removeFile.bind(this,e.value)},i.createElement("i",{className:"fas fa-trash"})))))))}render(){const{item:e,validationStatus:t}=this.props;return i.createElement("div",null,i.createElement("div",{className:"form-group"},i.createElement(a.FileInput,{validate:this.validate.bind(this),multiple:e.multipleFiles,field:e.id,className:`form-control-file ${t}`,id:e.id,onChange:this.handleChange.bind(this),forwardedRef:this.fileInputRef})),this.renderFileList())}}t.AttachmentItem=s,t.default=o.useObservableModel(s)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(1);t.FileInput=o.asField(({fieldState:e,fieldApi:t,...n})=>{const{field:r,forwardedRef:o,onChange:a,...s}=n;return i.createElement("input",Object.assign({},s,{onBlur:function(){t.setTouched(!0)},type:"file",name:r,ref:o,onChange:function(e){t.setTouched(!0),a(e)}}))})},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(1);class a extends i.PureComponent{constructor(){super(...arguments),this.initialValue=this.props.questionnaireResponseItem.answers&&this.props.questionnaireResponseItem.answers[0]&&this.props.questionnaireResponseItem.answers[0].id}onChange(){const{questionnaireResponseItem:e,item:t,formApi:n}=this.props,r=t.options&&t.options.find(e=>e.id===n.getValue(t.id));r&&e.reply(r.id)}renderChoiceOptions(){const{item:e,validationStatus:t}=this.props;return i.createElement(o.RadioGroup,{field:e.id,validateOnChange:!0,validate:this.validate.bind(this),initialValue:this.initialValue},e.options&&e.options.map(e=>i.createElement("div",{className:"form-check",key:e.id},i.createElement(o.Radio,{className:`form-check-input ${t}`,id:e.id,value:e.id,onChange:this.onChange.bind(this)}),i.createElement("label",{className:"form-check-label",htmlFor:e.id},e.value))))}validate(){const{questionnaireResponseItem:e}=this.props;e.validate();const t=e.errorMessages.join(" ");return""===t?void 0:t}render(){return i.createElement("div",{className:"form-group"},this.renderChoiceOptions())}}t.ChoiceItem=a,t.default=o.withFormApi(a)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(4)),a=n(1),s=n(2);class l extends i.PureComponent{constructor(e){super(e),this.otherAnswerInputRef=i.createRef(),this.otherAnswerRadioRef=i.createRef();const t=e.questionnaireResponseItem.answers&&e.questionnaireResponseItem.answers[0]&&e.questionnaireResponseItem.answers[0].value;if(t){let n;const r=e.item.options&&e.item.options.find((e,r)=>e.value===t&&(n=r,!0));r&&(n===e.item.options.length-1?this.initialValue=r.value:this.initialOption=r)}}toggleToOtherAnswer(){const{formApi:e,item:t,questionnaireResponseItem:n}=this.props;e.setValue(t.id,void 0),n.setReplyStrategy(o.textInputStrategy),this.otherAnswerRadioRef.current&&this.otherAnswerRadioRef.current.checked&&this.otherAnswerInputRef.current&&(this.otherAnswerInputRef.current.disabled=!1,this.otherAnswerInputRef.current.focus())}toggleToOptions(){const{questionnaireResponseItem:e,item:t,formApi:n}=this.props;e.setReplyStrategy(o.choiceStrategy),this.otherAnswerRadioRef.current&&this.otherAnswerInputRef.current&&this.otherAnswerRadioRef.current.checked&&(this.otherAnswerRadioRef.current.checked=!1,this.otherAnswerInputRef.current.disabled=!0);const r=t.options&&t.options.find(e=>e.id===n.getValue(t.id));r&&e.reply(r.id)}onBlurFromOtherOption(){const{questionnaireResponseItem:e,formApi:t,item:n}=this.props,r=t.getValue(n.id+"-other");e.reply(r)}validate(){const{questionnaireResponseItem:e}=this.props;e.validate();const t=e.errorMessages.join(" ");return""===t?void 0:t}renderOptions(){const{item:e,validationStatus:t}=this.props;return i.createElement(a.RadioGroup,{field:e.id,onChange:this.toggleToOptions.bind(this),validateOnChange:!0,validate:this.validate.bind(this),initialValue:this.initialOption&&this.initialOption.id},e.options&&e.options.map((n,r)=>{if(r!==e.options.length-1)return i.createElement("div",{className:"form-check",key:n.id},i.createElement(a.Radio,{className:`form-check-input ${t}`,id:n.id,value:n.id}),i.createElement("label",{className:"form-check-label",htmlFor:n.id},n.value))}))}renderOtherOption(){const{item:e,validationStatus:t}=this.props;let n;n=e.options?e.options[e.options.length-1]:(new o.AnswerOptionFactory).createAnswerOption();const r=t?"is-valid"===t?"text-success":"text-danger":"";return i.createElement(i.Fragment,null,i.createElement("div",{className:"form-check"},i.createElement("input",{type:"radio",className:"form-check-input",id:n.id,onChange:this.toggleToOtherAnswer.bind(this),ref:this.otherAnswerRadioRef,defaultChecked:!!this.initialValue}),i.createElement("label",{className:`form-check-label ${r}`,htmlFor:n.id},"Other")),i.createElement(a.Text,{autoComplete:"off",field:`${e.id}-other`,className:`form-control ${t}`,onBlur:this.onBlurFromOtherOption.bind(this),disabled:!this.initialValue,forwardedRef:this.otherAnswerInputRef,validateOnChange:!0,validate:this.validate.bind(this),initialValue:this.initialValue}))}render(){return i.createElement("div",{className:"form-group"},this.renderOptions(),this.renderOtherOption())}}t.OpenChoiceItem=l,t.default=a.withFormApi(s.useObservableModel(l))},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=i(n(26)),l=n(1);class u extends o.PureComponent{render(){const{item:e,questionnaireResponseItem:t,formApi:n,validationStatus:r}=this.props;return o.createElement("div",{className:"form-group"},o.createElement(l.Scope,{scope:e.id},e.options&&e.options.map(i=>o.createElement(s.default,{key:i.id,item:e,formApi:n,option:i,questionnaireResponseItem:t,validationStatus:r}))))}}t.MultiChoiceItem=u,t.default=l.withFormApi(a.useObservableModel(u))},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(1);class a extends i.Component{constructor(e){super(e),e.questionnaireResponseItem.answers.find(t=>t.id===e.option.id&&(this.initialChecked=!0,!0))}onChange(){const{option:e,questionnaireResponseItem:t}=this.props;t.reply(e.id)}validate(){const{questionnaireResponseItem:e}=this.props;e.validate();const t=e.errorMessages.join(" ");return""===t?void 0:t}render(){const{option:e,validationStatus:t}=this.props;return i.createElement("div",{className:"form-check"},i.createElement(o.Checkbox,{className:`form-check-input ${t}`,field:e.id,id:`${e.id}-checkbox`,onChange:this.onChange.bind(this),validateOnChange:!0,validate:this.validate.bind(this),initialValue:this.initialChecked}),i.createElement("label",{className:"form-check-label",htmlFor:`${e.id}-checkbox`},e.value))}}t.MultiChoiceItemOption=a,t.default=a}]))},function(e,t,n){"use strict";n.r(t);var r=n(3);n.d(t,"questionnaireConverter",(function(){return r.questionnaireConverter})),n.d(t,"questionnaireResponseConverter",(function(){return r.questionnaireResponseConverter}));var i=n(1);n.d(t,"observable",(function(){return i.observable}));var o=n(2);n.d(t,"useObservableModel",(function(){return o.useObservableModel}));var a=n(0);n.d(t,"Questionnaire",(function(){return a.Questionnaire})),n.d(t,"QuestionnaireResponse",(function(){return a.QuestionnaireResponse}));var s=n(5);n.d(t,"QuestionnaireDesigner",(function(){return s.QuestionnaireDesigner}));var l=n(6);n.d(t,"QuestionnairePlayer",(function(){return l.QuestionnairePlayer}))}])}));