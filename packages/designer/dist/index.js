!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("@surveybuilder/observable-react"),require("@surveybuilder/observable")):"function"==typeof define&&define.amd?define(["react","@surveybuilder/observable-react","@surveybuilder/observable"],t):"object"==typeof exports?exports.Designer=t(require("react"),require("@surveybuilder/observable-react"),require("@surveybuilder/observable")):e.Designer=t(e.react,e["@surveybuilder/observable-react"],e["@surveybuilder/observable"])}(window,(function(e,t,n){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=16)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"Form",(function(){return fr})),n.d(t,"withFormApi",(function(){return br})),n.d(t,"withFormState",(function(){return yr})),n.d(t,"withFieldApi",(function(){return Cr})),n.d(t,"withFieldState",(function(){return Ir})),n.d(t,"withRadioGroup",(function(){return Ar})),n.d(t,"asField",(function(){return xr})),n.d(t,"useField",(function(){return Tr})),n.d(t,"useFieldApi",(function(){return wr})),n.d(t,"useFieldState",(function(){return Er})),n.d(t,"useFormApi",(function(){return pr})),n.d(t,"useFormState",(function(){return hr})),n.d(t,"Text",(function(){return Rr})),n.d(t,"Radio",(function(){return Pr})),n.d(t,"TextArea",(function(){return kr})),n.d(t,"Select",(function(){return Br})),n.d(t,"Option",(function(){return Vr})),n.d(t,"Checkbox",(function(){return Wr})),n.d(t,"RadioGroup",(function(){return Hr})),n.d(t,"BasicText",(function(){return Dr})),n.d(t,"BasicRadio",(function(){return Fr})),n.d(t,"BasicRadioGroup",(function(){return Gr})),n.d(t,"BasicTextArea",(function(){return Nr})),n.d(t,"BasicSelect",(function(){return Lr})),n.d(t,"BasicCheckbox",(function(){return qr})),n.d(t,"Scope",(function(){return mr})),n.d(t,"ArrayField",(function(){return gr}));var i=n(0),o=n.n(i),a=n(13),s=n.n(a),l=n(5),u=n.n(l),c=n(14),d=n.n(c),f=n(15);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?E(e):t}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function A(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var M=o.a.createContext({register:function(){},deregister:function(){},setValue:function(){},setTouched:function(){},setError:function(){},update:function(){}}),S=o.a.createContext({}),T=o.a.createContext({}),x=o.a.createContext(),j=(o.a.createContext(),"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{});function D(e,t){return e(t={exports:{}},t.exports),t.exports}var R="object"==typeof j&&j&&j.Object===Object&&j,F="object"==typeof self&&self&&self.Object===Object&&self,P=R||F||Function("return this")(),N=P.Symbol,k=Object.prototype,L=k.hasOwnProperty,B=k.toString,V=N?N.toStringTag:void 0;var q=function(e){var t=L.call(e,V),n=e[V];try{e[V]=void 0;var r=!0}catch(e){}var i=B.call(e);return r&&(t?e[V]=n:delete e[V]),i},W=Object.prototype.toString;var G=function(e){return W.call(e)},H="[object Null]",$="[object Undefined]",U=N?N.toStringTag:void 0;var Q=function(e){return null==e?void 0===e?$:H:U&&U in Object(e)?q(e):G(e)};var Y=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},X="[object AsyncFunction]",z="[object Function]",K="[object GeneratorFunction]",J="[object Proxy]";var Z,ee=function(e){if(!Y(e))return!1;var t=Q(e);return t==z||t==K||t==X||t==J},te=P["__core-js_shared__"],ne=(Z=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"";var re=function(e){return!!ne&&ne in e},ie=Function.prototype.toString;var oe=function(e){if(null!=e){try{return ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ae=/^\[object .+?Constructor\]$/,se=Function.prototype,le=Object.prototype,ue=se.toString,ce=le.hasOwnProperty,de=RegExp("^"+ue.call(ce).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var fe=function(e){return!(!Y(e)||re(e))&&(ee(e)?de:ae).test(oe(e))};var pe=function(e,t){return null==e?void 0:e[t]};var he=function(e,t){var n=pe(e,t);return fe(n)?n:void 0},me=function(){try{var e=he(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var ve=function(e,t,n){"__proto__"==t&&me?me(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var ge=function(e,t){return e===t||e!=e&&t!=t},be=Object.prototype.hasOwnProperty;var ye=function(e,t,n){var r=e[t];be.call(e,t)&&ge(r,n)&&(void 0!==n||t in e)||ve(e,t,n)},_e=Array.isArray;var we=function(e){return null!=e&&"object"==typeof e},Oe="[object Symbol]";var Ee=function(e){return"symbol"==typeof e||we(e)&&Q(e)==Oe},Ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/;var Ae=function(e,t){if(_e(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ee(e))||(Ce.test(e)||!Ie.test(e)||null!=t&&e in Object(t))},Me=he(Object,"create");var Se=function(){this.__data__=Me?Me(null):{},this.size=0};var Te=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},xe="__lodash_hash_undefined__",je=Object.prototype.hasOwnProperty;var De=function(e){var t=this.__data__;if(Me){var n=t[e];return n===xe?void 0:n}return je.call(t,e)?t[e]:void 0},Re=Object.prototype.hasOwnProperty;var Fe=function(e){var t=this.__data__;return Me?void 0!==t[e]:Re.call(t,e)},Pe="__lodash_hash_undefined__";var Ne=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Me&&void 0===t?Pe:t,this};function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ke.prototype.clear=Se,ke.prototype.delete=Te,ke.prototype.get=De,ke.prototype.has=Fe,ke.prototype.set=Ne;var Le=ke;var Be=function(){this.__data__=[],this.size=0};var Ve=function(e,t){for(var n=e.length;n--;)if(ge(e[n][0],t))return n;return-1},qe=Array.prototype.splice;var We=function(e){var t=this.__data__,n=Ve(t,e);return!(n<0)&&(n==t.length-1?t.pop():qe.call(t,n,1),--this.size,!0)};var Ge=function(e){var t=this.__data__,n=Ve(t,e);return n<0?void 0:t[n][1]};var He=function(e){return Ve(this.__data__,e)>-1};var $e=function(e,t){var n=this.__data__,r=Ve(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ue.prototype.clear=Be,Ue.prototype.delete=We,Ue.prototype.get=Ge,Ue.prototype.has=He,Ue.prototype.set=$e;var Qe=Ue,Ye=he(P,"Map");var Xe=function(){this.size=0,this.__data__={hash:new Le,map:new(Ye||Qe),string:new Le}};var ze=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ke=function(e,t){var n=e.__data__;return ze(t)?n["string"==typeof t?"string":"hash"]:n.map};var Je=function(e){var t=Ke(this,e).delete(e);return this.size-=t?1:0,t};var Ze=function(e){return Ke(this,e).get(e)};var et=function(e){return Ke(this,e).has(e)};var tt=function(e,t){var n=Ke(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function nt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}nt.prototype.clear=Xe,nt.prototype.delete=Je,nt.prototype.get=Ze,nt.prototype.has=et,nt.prototype.set=tt;var rt=nt,it="Expected a function";function ot(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(it);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ot.Cache||rt),n}ot.Cache=rt;var at=ot,st=500;var lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ut=/\\(\\)?/g,ct=function(e){var t=at(e,(function(e){return n.size===st&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(lt,(function(e,n,r,i){t.push(r?i.replace(ut,"$1"):n||e)})),t}));var dt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},ft=1/0,pt=N?N.prototype:void 0,ht=pt?pt.toString:void 0;var mt=function e(t){if("string"==typeof t)return t;if(_e(t))return dt(t,e)+"";if(Ee(t))return ht?ht.call(t):"";var n=t+"";return"0"==n&&1/t==-ft?"-0":n};var vt=function(e){return null==e?"":mt(e)};var gt=function(e,t){return _e(e)?e:Ae(e,t)?[e]:ct(vt(e))},bt=9007199254740991,yt=/^(?:0|[1-9]\d*)$/;var _t=function(e,t){var n=typeof e;return!!(t=null==t?bt:t)&&("number"==n||"symbol"!=n&&yt.test(e))&&e>-1&&e%1==0&&e<t},wt=1/0;var Ot=function(e){if("string"==typeof e||Ee(e))return e;var t=e+"";return"0"==t&&1/e==-wt?"-0":t};var Et=function(e,t,n,r){if(!Y(e))return e;for(var i=-1,o=(t=gt(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l=Ot(t[i]),u=n;if(i!=a){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=Y(c)?c:_t(t[i+1])?[]:{})}ye(s,l,u),s=s[l]}return e};var It=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Et(e,t,n,r)};var Ct=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var At=function(e,t){for(var n=0,r=(t=gt(t,e)).length;null!=e&&n<r;)e=e[Ot(t[n++])];return n&&n==r?e:void 0};var Mt=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var St=function(e,t){return t.length<2?e:At(e,Mt(t,0,-1))};var Tt=function(e,t){return t=gt(t,e),null==(e=St(e,t))||delete e[Ot(Ct(t))]};var xt=function(e,t){return null==e||Tt(e,t)};var jt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Dt=function(e){return _e(e)?dt(e,Ot):Ee(e)?[e]:jt(ct(vt(e)))};var Rt=function(e,t,n){var r=null==e?void 0:At(e,t);return void 0===r?n:r},Ft=Object.prototype.hasOwnProperty;var Pt=function(e,t){return null!=e&&Ft.call(e,t)},Nt="[object Arguments]";var kt=function(e){return we(e)&&Q(e)==Nt},Lt=Object.prototype,Bt=Lt.hasOwnProperty,Vt=Lt.propertyIsEnumerable,qt=kt(function(){return arguments}())?kt:function(e){return we(e)&&Bt.call(e,"callee")&&!Vt.call(e,"callee")},Wt=9007199254740991;var Gt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Wt};var Ht=function(e,t,n){for(var r=-1,i=(t=gt(t,e)).length,o=!1;++r<i;){var a=Ot(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Gt(i)&&_t(a,i)&&(_e(e)||qt(e))};var $t=function(e,t){return null!=e&&Ht(e,t,Pt)};var Ut=function(e,t){return dt(t,(function(t){return e[t]}))};var Qt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Yt=function(){return!1},Xt=D((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?P.Buffer:void 0,o=(i?i.isBuffer:void 0)||Yt;e.exports=o})),zt={};zt["[object Float32Array]"]=zt["[object Float64Array]"]=zt["[object Int8Array]"]=zt["[object Int16Array]"]=zt["[object Int32Array]"]=zt["[object Uint8Array]"]=zt["[object Uint8ClampedArray]"]=zt["[object Uint16Array]"]=zt["[object Uint32Array]"]=!0,zt["[object Arguments]"]=zt["[object Array]"]=zt["[object ArrayBuffer]"]=zt["[object Boolean]"]=zt["[object DataView]"]=zt["[object Date]"]=zt["[object Error]"]=zt["[object Function]"]=zt["[object Map]"]=zt["[object Number]"]=zt["[object Object]"]=zt["[object RegExp]"]=zt["[object Set]"]=zt["[object String]"]=zt["[object WeakMap]"]=!1;var Kt=function(e){return we(e)&&Gt(e.length)&&!!zt[Q(e)]};var Jt=function(e){return function(t){return e(t)}},Zt=D((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&R.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),en=Zt&&Zt.isTypedArray,tn=en?Jt(en):Kt,nn=Object.prototype.hasOwnProperty;var rn=function(e,t){var n=_e(e),r=!n&&qt(e),i=!n&&!r&&Xt(e),o=!n&&!r&&!i&&tn(e),a=n||r||i||o,s=a?Qt(e.length,String):[],l=s.length;for(var u in e)!t&&!nn.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||_t(u,l))||s.push(u);return s},on=Object.prototype;var an=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||on)};var sn=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ln=Object.prototype.hasOwnProperty;var un=function(e){if(!an(e))return sn(e);var t=[];for(var n in Object(e))ln.call(e,n)&&"constructor"!=n&&t.push(n);return t};var cn=function(e){return null!=e&&Gt(e.length)&&!ee(e)};var dn=function(e){return cn(e)?rn(e):un(e)};var fn=function(e){return null==e?[]:Ut(e,dn(e))};var pn=function(e,t){for(var n=-1,r=t.length,i=Array(r),o=null==e;++n<r;)i[n]=o?void 0:Rt(e,t[n]);return i},hn=Array.prototype.splice;var mn=function(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;_t(i)?hn.call(e,i,1):Tt(e,i)}}return e};var vn=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Ee(e),a=void 0!==t,s=null===t,l=t==t,u=Ee(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0};var gn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},bn=N?N.isConcatSpreadable:void 0;var yn=function(e){return _e(e)||qt(e)||!!(bn&&e&&e[bn])};var _n=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=yn),o||(o=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,i,o):gn(o,l):i||(o[o.length]=l)}return o};var wn=function(e){return(null==e?0:e.length)?_n(e,1):[]};var On=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},En=Math.max;var In=function(e,t,n){return t=En(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=En(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),On(e,this,s)}};var Cn=function(e){return function(){return e}};var An=function(e){return e},Mn=me?function(e,t){return me(e,"toString",{configurable:!0,enumerable:!1,value:Cn(t),writable:!0})}:An,Sn=800,Tn=16,xn=Date.now;var jn=function(e){var t=0,n=0;return function(){var r=xn(),i=Tn-(r-n);if(n=r,i>0){if(++t>=Sn)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Mn);var Dn=function(e){return jn(In(e,void 0,wn),e+"")}((function(e,t){var n=null==e?0:e.length,r=pn(e,t);return mn(e,dt(t,(function(e){return _t(e,n)?+e:e})).sort(vn)),r}));var Rn=function(e,t){return jn(In(e,t,An),e+"")};var Fn=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var Pn=function(e){return e!=e};var Nn=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var kn=function(e,t,n){return t==t?Nn(e,t,n):Fn(e,Pn,n)};var Ln=function(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1},Bn=Array.prototype.splice;var Vn=function(e,t,n,r){var i=r?Ln:kn,o=-1,a=t.length,s=e;for(e===t&&(t=jt(t)),n&&(s=dt(e,Jt(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Bn.call(s,l,1),Bn.call(e,l,1);return e};var qn=Rn((function(e,t){return e&&e.length&&t&&t.length?Vn(e,t):e})),Wn=1e3,Gn=60*Wn,Hn=60*Gn,$n=24*Hn,Un=7*$n,Qn=365.25*$n,Yn=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*Qn;case"weeks":case"week":case"w":return n*Un;case"days":case"day":case"d":return n*$n;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Hn;case"minutes":case"minute":case"mins":case"min":case"m":return n*Gn;case"seconds":case"second":case"secs":case"sec":case"s":return n*Wn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=$n)return Xn(e,t,$n,"day");if(t>=Hn)return Xn(e,t,Hn,"hour");if(t>=Gn)return Xn(e,t,Gn,"minute");if(t>=Wn)return Xn(e,t,Wn,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=$n)return Math.round(e/$n)+"d";if(t>=Hn)return Math.round(e/Hn)+"h";if(t>=Gn)return Math.round(e/Gn)+"m";if(t>=Wn)return Math.round(e/Wn)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Xn(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}var zn=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let o;function a(...e){if(!a.enabled)return;const t=a,r=Number(new Date),i=r-(o||r);t.diff=i,t.prev=o,t.curr=r,o=r,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return r;s++;const o=n.formatters[i];if("function"==typeof o){const n=e[s];r=o.call(t,n),e.splice(s,1),s--}return r}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=r,a.extend=i,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function r(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(o),...n.skips.map(o).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=Yn,Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n},Kn=D((function(e,t){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=zn(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),Jn=(Kn.log,Kn.formatArgs,Kn.save,Kn.load,Kn.useColors,Kn.storage,Kn.colors,(e,t)=>{t=t||r.argv;const n=e.startsWith("-")?"":1===e.length?"-":"--",i=t.indexOf(n+e),o=t.indexOf("--");return-1!==i&&(-1===o||i<o)});const Zn=r.env;let er;function tr(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===er)return 0;if(Jn("color=16m")||Jn("color=full")||Jn("color=truecolor"))return 3;if(Jn("color=256"))return 2;if(e&&!e.isTTY&&!0!==er)return 0;const t=er?1:0;if("win32"===r.platform){const e=d.a.release().split(".");return Number(r.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in Zn)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in Zn)||"codeship"===Zn.CI_NAME?1:t;if("TEAMCITY_VERSION"in Zn)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Zn.TEAMCITY_VERSION)?1:0;if("truecolor"===Zn.COLORTERM)return 3;if("TERM_PROGRAM"in Zn){const e=parseInt((Zn.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Zn.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Zn.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Zn.TERM)?1:"COLORTERM"in Zn?1:(Zn.TERM,t)}(e))}Jn("no-color")||Jn("no-colors")||Jn("color=false")?er=!1:(Jn("color")||Jn("colors")||Jn("color=true")||Jn("color=always"))&&(er=!0),"FORCE_COLOR"in Zn&&(er=0===Zn.FORCE_COLOR.length||0!==parseInt(Zn.FORCE_COLOR,10));var nr={supportsColor:tr,stdout:tr(r.stdout),stderr:tr(r.stderr)},rr=D((function(e,t){t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return r.stderr.write(u.a.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},t.save=function(e){e?r.env.DEBUG=e:delete r.env.DEBUG},t.load=function(){return r.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):s.a.isatty(r.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=nr;e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(r.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let i=r.env[t];return i=!!/^(yes|on|true|enabled)$/i.test(i)||!/^(no|off|false|disabled)$/i.test(i)&&("null"===i?null:Number(i)),e[n]=i,e},{}),e.exports=zn(t);const{formatters:n}=e.exports;n.o=function(e){return this.inspectOpts.colors=this.useColors,u.a.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},n.O=function(e){return this.inspectOpts.colors=this.useColors,u.a.inspect(e,this.inspectOpts)}})),ir=(rr.init,rr.log,rr.formatArgs,rr.save,rr.load,rr.useColors,rr.colors,rr.inspectOpts,D((function(e){void 0===r||"renderer"===r.type||!0===r.browser||r.__nwjs?e.exports=Kn:e.exports=rr}))),or=ir("informed:ObjMap\t"),ar=function(e){var t=Dt(e);return Number.isInteger(+t[t.length-1])},sr=function(){function e(){p(this,e)}return m(e,null,[{key:"empty",value:function(e){return 0===fn(e).length}},{key:"get",value:function(e,t){return Rt(e,t)}},{key:"has",value:function(e,t){return $t(e,t)}},{key:"set",value:function(t,n,r){if(void 0!==r)It(t,n,r);else if(ar(n)&&void 0!==e.get(t,n)){It(t,n,void 0);var i=Dt(n);lr(t,i=i.slice(0,i.length-1),!1)}else ar(n)||void 0===e.get(t,n)||e.delete(t,n)}},{key:"delete",value:function(e,t){or("DELETE",t),xt(e,t);var n=Dt(t);lr(e,n=n.slice(0,n.length-1))}},{key:"pullOut",value:function(e,t,n){var r=Dt(t);r=r.slice(0,r.length-1).join(),or("PathArray",r);var i=Rt(e,r);or("Array",i),Dn(i,n)}}]),e}();function lr(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0!==t.length){var r=Rt(e,t);Array.isArray(r)&&n&&qn(r,void 0),(Array.isArray(r)?r.every((function(e){return null==e})):"{}"===JSON.stringify(r))&&xt(e,t),lr(e,t.slice(0,t.length-1))}}var ur=ir("informed:Controller\t"),cr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p(this,t),(e=I(this,_(t).call(this))).options=n,e.fields=new Map,e.state={values:{},touched:{},errors:{},pristine:!0,dirty:!1,invalid:!1,submits:0},e.deregister=e.deregister.bind(E(E(e))),e.register=e.register.bind(E(E(e))),e.setValue=e.setValue.bind(E(E(e))),e.setTouched=e.setTouched.bind(E(E(e))),e.setError=e.setError.bind(E(E(e))),e.submitForm=e.submitForm.bind(E(E(e))),e.reset=e.reset.bind(E(E(e))),e.update=e.update.bind(E(E(e))),e.updater={register:e.register,deregister:e.deregister,setValue:e.setValue,setTouched:e.setTouched,setError:e.setError,update:e.update},e}return y(t,e),m(t,[{key:"getFormState",value:function(){return b({},this.state,{pristine:this.pristine(),dirty:this.dirty(),invalid:this.invalid()})}},{key:"getFormApi",value:function(){var e=this;return{setValue:function(t,n){return e.fields.get(t).fieldApi.setValue(n)},setTouched:function(t,n){return e.fields.get(t).fieldApi.setTouched(n)},setError:function(t,n){return e.fields.get(t).fieldApi.setError(n)},setValues:function(t){return e.setValues(t)},getValue:function(t){return e.getValue(t)},getTouched:function(t){return e.getTouched(t)},getError:function(t){return e.getError(t)},reset:function(){return e.reset()},submitForm:function(t){return e.submitForm(t)},getState:function(){return e.getFormState()},getValues:function(){return e.getFormState().values},getFullField:function(t){return e.getFullField(t)},fieldExists:function(t){return null!=e.fields.get(t)},getInitialValue:function(t){return e.getInitialValue(t)}}}},{key:"setValue",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ur("Setting ".concat(e," to ").concat(t)),sr.set(this.state.values,e,t),delete this.state.error,this.emit("change"),this.emit("value"),n&&this.notify(e)}},{key:"setTouched",value:function(e,t){sr.set(this.state.touched,e,t),this.emit("change")}},{key:"setError",value:function(e,t){sr.set(this.state.errors,e,t),this.emit("change")}},{key:"setFormError",value:function(e){this.state.error=e,this.emit("change")}},{key:"notify",value:function(e){var t=this,n=this.fields.get(e);n.notify&&n.notify.forEach((function(e){var n=t.fields.get(e);if(n){ur("Notifying",n.field);var r=t.getValue(n.field);n.fieldApi.validate(r)}}))}},{key:"getValue",value:function(e){return sr.get(this.state.values,e)}},{key:"getTouched",value:function(e){return sr.get(this.state.touched,e)}},{key:"getError",value:function(e){return sr.get(this.state.errors,e)}},{key:"getFullField",value:function(e){return e}},{key:"valid",value:function(){return!(!sr.empty(this.state.errors)||this.state.error)}},{key:"invalid",value:function(){return!(sr.empty(this.state.errors)&&!this.state.error)}},{key:"pristine",value:function(){return sr.empty(this.state.touched)&&sr.empty(this.state.values)}},{key:"dirty",value:function(){return!this.pristine()}},{key:"getInitialValue",value:function(e){return sr.get(this.options.initialValues,e)}},{key:"reset",value:function(){var e=this;ur("Resetting"),this.fields.forEach((function(t){t.fieldApi.reset();var n=sr.get(e.options.initialValues,t.field);void 0!==n&&e.getFormApi().setValue(t.field,n)})),this.emit("change")}},{key:"setValues",value:function(e){var t=this;ur("Setting values"),this.fields.forEach((function(n){var r=sr.get(e,n.field);r&&t.getFormApi().setValue(n.field,r)})),this.emit("change")}},{key:"submitForm",value:function(e){var t=this;if(this.state.submits=this.state.submits+1,!this.options.dontPreventDefault&&e&&e.preventDefault(e),this.fields.forEach((function(e,n){var r=t.getValue(n);e.fieldApi.validate(r),e.fieldApi.setTouched(!0)})),this.options.validate){var n=this.options.validate(this.state.values);this.setFormError(n)}if(this.options.validateFields){var r=this.options.validateFields(this.state.values);this.fields.forEach((function(e){if(sr.has(r,e.field)){var n=sr.get(r,e.field);t.getFormApi().setError(e.field,n)}}))}this.emit("change"),this.valid()?(ur("Submit",this.state),this.emit("submit")):(ur("Submit",this.state),this.emit("failure"))}},{key:"register",value:function(e,t,n){if(ur("Register",e,t),this.fields.set(e,n),n.keepState){var r=sr.get(this.state.values,e),i=sr.get(this.options.initialValues,e);void 0!==r?this.getFormApi().setValue(e,r||t.value):void 0!==i?this.getFormApi().setValue(e,i):this.setValue(e,t.value,!1);var o=sr.get(this.state.touched,e);this.getFormApi().setTouched(e,o)}else{var a=sr.get(this.options.initialValues,e);void 0!==a?this.getFormApi().setValue(e,a):this.setValue(e,t.value,!1),this.setTouched(e,t.touched)}this.setError(e,t.error)}},{key:"deregister",value:function(e){ur("Deregister",e),this.fields.get(e).keepState||(sr.delete(this.state.values,e),sr.delete(this.state.touched,e),sr.delete(this.state.errors,e)),this.fields.delete(e),this.emit("change")}},{key:"update",value:function(e,t){ur("Update",e),this.fields.set(e,t)}}]),t}(f.EventEmitter),dr=ir("informed:Form\t\t"),fr=function(e){function t(e){var n;return p(this,t),(n=I(this,_(t).call(this,e))).controller=new cr({dontPreventDefault:e.dontPreventDefault,initialValues:e.initialValues,validate:e.validate,validateFields:e.validateFields}),n.formApi=n.controller.getFormApi(),n.controller.on("change",(function(){return n.forceUpdate()})),n.controller.on("change",(function(){return n.props.onChange&&n.props.onChange(n.controller.getFormState())})),n.controller.on("submit",(function(){return n.props.onSubmit&&n.props.onSubmit(n.controller.getFormState().values)})),n.controller.on("value",(function(){return n.props.onValueChange&&n.props.onValueChange(n.controller.getFormState().values)})),n.controller.on("failure",(function(){return n.props.onSubmitFailure&&n.props.onSubmitFailure(n.controller.getFormState().errors)})),n.props.getApi&&n.props.getApi(n.controller.getFormApi()),n}return y(t,e),m(t,[{key:"render",value:function(){dr("Render FORM");var e=this.props,t=(e.children,e.getApi,e.onChange,e.onSubmit,e.onValueChange,e.initialValues,e.onSubmitFailure,e.render,e.validate,e.validateFields,e.component,e.dontPreventDefault,O(e,["children","getApi","onChange","onSubmit","onValueChange","initialValues","onSubmitFailure","render","validate","validateFields","component","dontPreventDefault"])),n=this.controller.getFormState();return o.a.createElement(M.Provider,{value:this.controller.updater},o.a.createElement(T.Provider,{value:this.formApi},o.a.createElement(S.Provider,{value:n},o.a.createElement("form",g({},t,{onReset:this.controller.reset,onSubmit:this.controller.submitForm}),this.content))))}},{key:"content",get:function(){var e=this.props,t=e.children,n=e.component,r=e.render,i={formState:this.controller.getFormState(),formApi:this.controller.getFormApi()};return n?o.a.createElement(n,i,t):r?r(i):"function"==typeof t?t(i):t}}]),t}(o.a.Component);function pr(){return Object(i.useContext)(T)}function hr(){return Object(i.useContext)(S)}var mr=function(e){var t=e.scope,n=e.children,r=Object(i.useContext)(M),a=pr(),s=hr(),l=Object(i.useMemo)((function(){return function(e,t){return b({},t,{getValue:function(n){return t.getValue("".concat(e,".").concat(n))},getTouched:function(n){return t.getTouched("".concat(e,".").concat(n))},getError:function(n){return t.getError("".concat(e,".").concat(n))},setValue:function(n,r){return t.setValue("".concat(e,".").concat(n),r)},setTouched:function(n,r){return t.setTouched("".concat(e,".").concat(n),r)},setError:function(n,r){return t.setError("".concat(e,".").concat(n),r)},getFullField:function(n){return"".concat(t.getFullField(e),".").concat(n)}})}(t,a)}),[t]),u=Object(i.useMemo)((function(){return function(e,t){var n=t.register,r=t.deregister,i=t.setValue,o=t.setTouched,a=t.setError,s=t.update;return{register:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return n.apply(void 0,["".concat(e,".").concat(t)].concat(i))},deregister:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r.apply(void 0,["".concat(e,".").concat(t)].concat(i))},update:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return s.apply(void 0,["".concat(e,".").concat(t)].concat(r))},setValue:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.apply(void 0,["".concat(e,".").concat(t)].concat(r))},setTouched:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return o.apply(void 0,["".concat(e,".").concat(t)].concat(r))},setError:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return a.apply(void 0,["".concat(e,".").concat(t)].concat(r))}}}(t,r)}),[t]);return o.a.createElement(M.Provider,{value:u},o.a.createElement(T.Provider,{value:l},o.a.createElement(S.Provider,{value:s},n)))},vr=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},gr=function(e){var t=e.field,n=e.children,r=e.initialValue,o=pr().getInitialValue(t)||r,a=o?o.map((function(){return vr()})):[],s=C(Object(i.useState)(a),2),l=s[0],u=s[1];return n({fields:l.map((function(e,n){return{key:e,field:"".concat(t,"[").concat(n,"]"),remove:function(){return function(e){var t=l.slice(0,e).concat(l.slice(e+1,l.length));u(t)}(n)},initialValue:o&&o[n]}})),add:function(){l.push(vr()),u(A(l))}})},br=function(e){return o.a.forwardRef((function(t,n){return o.a.createElement(T.Consumer,null,(function(r){return o.a.createElement(e,g({formApi:r,ref:n},t))}))}))},yr=function(e){return o.a.forwardRef((function(t,n){return o.a.createElement(S.Consumer,null,(function(r){return o.a.createElement(e,g({formState:r,ref:n},t))}))}))},_r=function(e,t){return{getValue:function(){return e.getValue(t)},setValue:function(n){return e.setValue(t,n)},getTouched:function(){return e.getTouched(t)},setTouched:function(n){return e.setTouched(t,n)},getError:function(){return e.getError(t)},setError:function(n){return e.setError(t,n)}}};function wr(e){var t=pr();return Object(i.useMemo)((function(){return _r(t,e)}),[e])}var Or=function(e){return{value:e.getValue(),touched:e.getTouched(),error:e.getError()}};function Er(e){var t=wr(e);hr();return Or(t)}var Ir=function(e){return function(t){return function(n){var r=Er(e);return o.a.createElement(t,g({fieldState:r},n))}}},Cr=function(e){return function(t){return function(n){var r=wr(e);return o.a.createElement(t,g({fieldApi:r},n))}}},Ar=function(e){return o.a.forwardRef((function(t,n){return o.a.createElement(x.Consumer,null,(function(r){var i=r.radioGroupApi,a=r.radioGroupState;return o.a.createElement(e,g({radioGroupApi:i,radioGroupState:a,ref:n},t))}))}))},Mr=ir("informed:useField\t");function Sr(e){var t=Object(i.useRef)(),n=C(Object(i.useState)(e),2),r=n[0],o=n[1];t.current=r;return[r,function(e){t.current=e,o(e)},function(){return t.current}]}function Tr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.validate,r=t.mask,o=t.format,a=t.parse,s=t.initialValue,l=t.validateOnChange,u=t.validateOnBlur,c=t.validateOnMount,d=t.maskOnBlur,f=t.onValueChange,p=t.notify,h=t.keepState,m=t.maintainCursor,v=t.debug,g=t.type,b=C(Sr(null!=s?s:void 0),3),y=b[0],_=b[1],w=b[2],O=C(Object(i.useState)(c?n(s):void 0),2),E=O[0],I=O[1],S=C(Object(i.useState)(),2),T=S[0],x=S[1],j=C(Sr(0),3),D=(j[0],j[1]),R=j[2],F=C(Object(i.useState)(y),2),P=F[0],N=F[1],k=Object(i.useContext)(M),L=pr(),B=function(t){I(t),k.setError(e,t)},V=function(t,i){Mr("Setting ".concat(e," to ").concat(t));var s=t;""===t&&(t=void 0),"number"===g&&void 0!==t&&(t=+t),r&&!d&&(s=r(t),t=r(t)),o&&a&&(t=a(t),s=o(t)),n&&l&&(Mr("Validating after change ".concat(e," ").concat(t)),B(n(t,L.getValues()))),i&&i.target&&i.target.selectionStart&&D(i.target.selectionStart),_(t),N(s),f&&f(t),k.setValue(e,t)},q=function(t){if(n&&u&&(Mr("Validating after blur ".concat(e," ").concat(w())),B(n(w(),L.getValues()))),r&&d){var i=r(w());_(i),N(i),f&&f(i),k.setValue(e,i)}x(t),k.setTouched(e,t)},W={setValue:V,setTouched:q,setError:B,reset:function(){V(null!=s?s:void 0),B(void 0),q(void 0)},validate:function(t){n&&(Mr("Field validating ".concat(e," ").concat(t)),B(n(t,L.getValues())))}},G={value:y,error:E,touched:T,maskedValue:P};Mr("Render",L.getFullField(e),G);var H=Object(i.useRef)(null);Object(i.useLayoutEffect)((function(){var t=L.getFullField(e);return Mr("Register",t),k.register(e,G,{field:t,fieldApi:W,fieldState:G,notify:p,keepState:h}),function(){Mr("Deregister",t),k.deregister(e)}}),[e]),Object(i.useLayoutEffect)((function(){var t=L.getFullField(e);Mr("Update",e),k.update(e,{field:t,fieldApi:W,fieldState:G,notify:p,keepState:h})}),[n,l,u,f]),Object(i.useLayoutEffect)((function(){m&&null!=H.current&&R()&&(H.current.selectionEnd=R())}),[y]),Object(i.useLayoutEffect)((function(){v&&H&&(H.current.style.border="5px solid orange",setTimeout((function(){H.current.style.borderWidth="2px",H.current.style.borderStyle="inset",H.current.style.borderColor="initial",H.current.style.borderImage="initial"}),500))}));var $=[].concat(A(Object.values(G)),A(Object.values(t)),[e]);return{fieldState:G,fieldApi:W,purify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(i.useMemo)((function(){return e}),[].concat(A($),A(t)))},ref:H}}var xr=function(e){return function(t){var n=t.field,r=t.validate,i=t.initialValue,a=t.validateOnChange,s=t.validateOnBlur,l=t.validateOnMount,u=t.maskOnBlur,c=t.onValueChange,d=t.notify,f=t.keepState,p=t.maintainCursor,h=t.debug,m=t.type,v=t.mask,b=t.format,y=t.parse,_=O(t,["field","validate","initialValue","validateOnChange","validateOnBlur","validateOnMount","maskOnBlur","onValueChange","notify","keepState","maintainCursor","debug","type","mask","format","parse"]),w=Tr(n,{validate:r,initialValue:i,validateOnChange:a,validateOnBlur:s,onValueChange:c,validateOnMount:l,maskOnBlur:u,notify:d,keepState:f,maintainCursor:p,debug:h,type:m,mask:v,format:b,parse:y}),E=w.fieldState,I=w.fieldApi,C=w.purify,A=w.ref;return C(o.a.createElement(e,g({fieldApi:I,fieldState:E,field:n,forwardedRef:A,debug:h,type:m},_)),Object.values(_))}},jr=ir("informed:Text\t"),Dr=function(e){var t=e.fieldApi,n=e.fieldState,r=O(e,["fieldApi","fieldState"]),a=n.maskedValue,s=t.setValue,l=t.setTouched,u=r.onChange,c=r.onBlur,d=r.field,f=(r.initialValue,r.forwardedRef),p=r.debug,h=O(r,["onChange","onBlur","field","initialValue","forwardedRef","debug"]);return jr("Render",d),Object(i.useLayoutEffect)((function(){p&&f&&(f.current.style.background="red",setTimeout((function(){f.current.style.background="white"}),500))})),o.a.createElement("input",g({},h,{name:d,ref:f,value:a||0===a?a:"",onChange:function(e){s(e.target.value,e),u&&u(e)},onBlur:function(e){l(!0),c&&c(e)}}))},Rr=xr(Dr),Fr=function(e){var t=e.radioGroupApi,n=e.radioGroupState,r=O(e,["radioGroupApi","radioGroupState"]),i=n.value,a=t.setValue,s=t.setTouched,l=t.onChange,u=t.onBlur,c=r.value,d=r.onChange,f=r.onBlur,p=r.field,h=(r.initialValue,r.forwardedRef),m=O(r,["value","onChange","onBlur","field","initialValue","forwardedRef"]);return o.a.createElement("input",g({},m,{name:p,ref:h,value:c,checked:i===c,onChange:function(e){e.target.checked&&(a(c),d&&d(e),l&&l(e))},onBlur:function(e){s(!0),f&&f(e),u&&u(e)},type:"radio"}))},Pr=Ar(Fr),Nr=function(e){var t=e.fieldApi,n=e.fieldState,r=O(e,["fieldApi","fieldState"]),a=n.maskedValue,s=t.setValue,l=t.setTouched,u=r.onChange,c=r.onBlur,d=r.field,f=(r.initialValue,r.forwardedRef),p=r.debug,h=O(r,["onChange","onBlur","field","initialValue","forwardedRef","debug"]);return Object(i.useLayoutEffect)((function(){p&&f&&(f.current.style.background="red",setTimeout((function(){f.current.style.background="white"}),500))})),o.a.createElement("textarea",g({},h,{name:d,ref:f,value:a||"",onChange:function(e){s(e.target.value,e),u&&u(e)},onBlur:function(e){l(!0),c&&c(e)}}))},kr=xr(Nr),Lr=function(e){function t(e){var n;return p(this,t),(n=I(this,_(t).call(this,e))).handleChange=n.handleChange.bind(E(E(n))),n.selectRef=o.a.createRef(),n}return y(t,e),m(t,[{key:"handleChange",value:function(e){var t=A((this.props.forwardedRef||this.selectRef).current).filter((function(e){return e.selected})).map((function(e){return e.value}));this.props.fieldApi.setValue(this.props.multiple?t:t[0]||""),this.props.onChange&&this.props.onChange(e)}},{key:"componentDidUpdate",value:function(){var e=this;this.props.debug&&this.props.forwardedRef&&(this.props.forwardedRef.current.style.background="red",setTimeout((function(){e.props.forwardedRef.current.style.background="white"}),500))}},{key:"render",value:function(){var e=this.props,t=e.fieldApi,n=e.fieldState,r=O(e,["fieldApi","fieldState"]),i=n.value,a=(t.setValue,t.setTouched),s=(r.onChange,r.onBlur),l=r.field,u=(r.initialValue,r.forwardedRef),c=(r.debug,r.children),d=r.multiple,f=O(r,["onChange","onBlur","field","initialValue","forwardedRef","debug","children","multiple"]);return o.a.createElement("select",g({},f,{multiple:d,name:l,ref:u||this.selectRef,value:i||(d?[]:""),onChange:this.handleChange,onBlur:function(e){a(!0),s&&s(e)}}),c)}}]),t}(o.a.Component),Br=xr(Lr),Vr=function(e){var t=e.value,n=e.forwardedRef,r=e.children,i=O(e,["value","forwardedRef","children"]);return o.a.createElement("option",g({ref:n,value:t,key:t},i),r)},qr=function(e){var t=e.fieldApi,n=e.fieldState,r=O(e,["fieldApi","fieldState"]),i=n.value,a=t.setValue,s=t.setTouched,l=r.onChange,u=r.onBlur,c=r.field,d=(r.initialValue,r.debug,r.forwardedRef),f=O(r,["onChange","onBlur","field","initialValue","debug","forwardedRef"]);return o.a.createElement("input",g({},f,{name:c,ref:d,checked:!!i,onChange:function(e){a(e.target.checked),l&&l(e)},onBlur:function(e){s(!0),u&&u(e)},type:"checkbox"}))},Wr=xr(qr),Gr=function(e){function t(){return p(this,t),I(this,_(t).apply(this,arguments))}return y(t,e),m(t,[{key:"render",value:function(){return o.a.createElement(x.Provider,{value:this.groupContext},this.props.children)}},{key:"groupContext",get:function(){return{radioGroupApi:b({},this.props.fieldApi,{onChange:this.props.onChange,onBlur:this.props.onBlur}),radioGroupState:this.props.fieldState}}}]),t}(i.Component),Hr=xr(Gr)}.call(this,n(23),n(8))},function(e,t,n){var r;e.exports=(r=n(18),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=36)}([function(e,t){e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GROUP="GROUP",t.DISPLAY="DISPLAY",t.BOOLEAN="BOOLEAN",t.DECIMAL="DECIMAL",t.DATE="DATE",t.DATE_TIME="DATE_TIME",t.TIME="TIME",t.TEXT="TEXT",t.CHOICE="CHOICE",t.OPEN_CHOICE="OPEN_CHOICE",t.MULTI_CHOICE="MULTI_CHOICE",t.ATTACHMENT="ATTACHMENT",t.STRING="STRING"},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(0),s=o(n(4)),l=o(n(16));class u extends s.default{constructor(e,t){super(e,t),this.initialAnswerIdMap=new Map,this.initialAnswersFactory=new l.default(this),this.completeInitialAnswers(e),this.initialAnswers.forEach(e=>this.initialAnswerIdMap.set(e.id,!0))}completeInitialAnswers(e){e&&e.initialAnswers?this.initialAnswers=e.initialAnswers.map(e=>this.initialAnswersFactory.createInitialAnswer(e)):this.initialAnswers=[]}setSingleInitialAnswer(e){this.initialAnswers=[e],this.initialAnswerIdMap.clear(),this.initialAnswerIdMap.set(e.id,!0)}addInitialAnswer(e){this.initialAnswerIdMap.has(e.id)||(this.initialAnswers.push(e),this.initialAnswerIdMap.set(e.id,!0))}clearInitialAnswers(){this.initialAnswers=[],this.initialAnswerIdMap.clear()}removeInitialAnswer(e){this.initialAnswers.splice(e.position,1),this.initialAnswerIdMap.delete(e.id)}}r([a.observableProperty,i("design:type",Array)],u.prototype,"initialAnswers",void 0),t.QuestionItem=u,t.default=u},function(e,t,n){var r,i,o=n(37),a=n(38),s=0,l=0;e.exports=function(e,t,n){var u=t&&n||0,c=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){var p=o();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,v=h-s+(m-l)/1e4;if(v<0&&void 0===e.clockseq&&(f=f+1&16383),(v<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=m,i=f;var g=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;c[u++]=g>>>24&255,c[u++]=g>>>16&255,c[u++]=g>>>8&255,c[u++]=255&g;var b=h/4294967296*1e4&268435455;c[u++]=b>>>8&255,c[u++]=255&b,c[u++]=b>>>24&15|16,c[u++]=b>>>16&255,c[u++]=f>>>8|128,c[u++]=255&f;for(var y=0;y<6;++y)c[u+y]=d[y];return t||a(c)}},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),l=a(n(3)),u=n(9),c=a(n(12)),d=n(1);let f=r=class{constructor(e,t){this.type=d.DISPLAY,this.enableWhenIdMap=new Map,this.enableWhenFactory=new c.default(this),this.id=e&&e.id||l.default(),this.required=!!e&&!!e.required,this.text=e&&e.text,this.enableWhen=e&&e.enableWhen?e.enableWhen.map(e=>this.enableWhenFactory.createEnableWhen(e)):[],this.enableBehavior=e&&e.enableBehavior?e.enableBehavior:u.AND,this.parent=t,this.enableWhen.forEach(e=>this.enableWhenIdMap.set(e.id,!0)),this.definePrototypeProperties()}definePrototypeProperties(){Object.defineProperty(r.prototype,"position",{enumerable:!0,configurable:!0,get(){if(!this.parent)return;let e;return this.parent.items.find((t,n)=>{if(t.id===this.id)return e=n,!0}),e}})}addSiblingItemAfter(e){this.parent&&this.parent.addDescendantItemAfter(this,e)}addEnableWhen(e){this.enableWhenIdMap.has(e.id)||(this.enableWhen.push(e),this.enableWhenIdMap.set(e.id,!0))}removeEnableWhen(e){let t;this.enableWhen.find((n,r)=>{if(n.id===e.id)return t=r,!0}),void 0!==t&&(this.enableWhen.splice(t,1),this.enableWhenIdMap.delete(e.id))}updateItem(e){const t=s.getObservable(e);t&&t.mute(),this.id=e.id,this.text=e.text,this.required=!!e.required,t&&t.unmute(),t&&t.emitChange()}remove(){this.parent&&this.parent.removeItem(this)}replace(e){this.parent&&this.parent.replaceItem(this,e)}};i([s.observableProperty,o("design:type",Array)],f.prototype,"enableWhen",void 0),f=r=i([s.observable,o("design:paramtypes",[Object,Object])],f),t.Item=f,t.default=f},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(26));class o{constructor(e){this.parent=e}createAnswerOption(e){return new i.default(e,this.parent)}}t.AnswerOptionFactory=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXISTS="EXISTS",t.EQUAL="==",t.NOT_EQUAL="!=",t.MORE=">",t.LESS="<",t.MORE_OR_EQUAL=">=",t.LESS_OR_EQUAL="<="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),i=n(1);class o{constructor(e){this.itemFactory=new r.ItemFactory(e)}createItem(e){switch(e.type){case i.ATTACHMENT:return this.itemFactory.createAttachmentItem(e);case i.BOOLEAN:return this.itemFactory.createBooleanItem(e);case i.CHOICE:return this.itemFactory.createChoiceItem(e);case i.DATE:return this.itemFactory.createDateItem(e);case i.DATE_TIME:return this.itemFactory.createDateTimeItem(e);case i.DECIMAL:return this.itemFactory.createDecimalItem(e);case i.DISPLAY:return this.itemFactory.createItem(e);case i.GROUP:return this.itemFactory.createGroupItem(e);case i.MULTI_CHOICE:return this.itemFactory.createMultiChoiceItem(e);case i.OPEN_CHOICE:return this.itemFactory.createOpenChoiceItem(e);case i.STRING:return this.itemFactory.createStringItem(e);case i.TEXT:return this.itemFactory.createTextItem(e);case i.TIME:return this.itemFactory.createTimeItem(e);default:return this.itemFactory.createItem(e)}}}t.ItemByTypeFactory=o,t.default=o},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(30),o=r(n(33)),a=r(n(34)),s=r(n(35)),l=n(1),u=r(n(43)),c=r(n(44));t.questionResponseFactory={createResponse:(e,t,n)=>{const r=[];switch(e.required&&r.push(u.default.required),e.type){case l.STRING:return r.push(u.default.stringRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.TEXT:return r.push(u.default.textRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.DECIMAL:return r.push(u.default.decimalRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.BOOLEAN:return r.push(u.default.booleanRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.DATE:return r.push(u.default.dateRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.TIME:return r.push(u.default.timeRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.DATE_TIME:return r.push(u.default.dateTimeRegExp),new i.QuestionnaireResponseItem(n,e,a.default,r,t);case l.CHOICE:case l.OPEN_CHOICE:return new i.QuestionnaireResponseItem(n,e,o.default,r,t);case l.MULTI_CHOICE:return new i.QuestionnaireResponseItem(n,e,s.default,r,t);case l.ATTACHMENT:return new i.QuestionnaireResponseItem(n,e,c.default,r,t);default:return new i.QuestionnaireResponseItem(n,e,void 0,r,t)}}},t.default=t.questionResponseFactory},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AND="and",t.OR="or"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REQUIRED="Field is required",t.REG_EXP="Invalid input"},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(6),o=r(n(3));class a{constructor(e,t){this.id=e&&e.id||o.default(),this.questionId=e&&e.questionId,this.operator=e&&e.operator||i.EQUAL,this.answer=e&&e.answer,this.parent=t}remove(){this.parent&&this.parent.removeEnableWhen(this)}}t.EnableWhen=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(11));class o{constructor(e){this.parent=e}createEnableWhen(e){return new i.default(e,this.parent)}}t.EnableWhenFactory=o,t.default=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(0),s=o(n(7)),l=o(n(4)),u=n(1);let c=class extends l.default{constructor(e,t){super(e,t),this.type=u.GROUP,this.itemIdMap=new Map,this.itemByTypeFactory=new s.default(this),this.completeItems(e),this.items.forEach(e=>this.itemIdMap.set(e.id,!0))}addDescendantItemAfter(e,t){this.addItem(t,e.position+1)}completeItems(e){e&&e.items?this.items=e.items.map(e=>this.itemByTypeFactory.createItem(e)):this.items=[]}addItem(e,t){this.itemIdMap.has(e.id)||(e.parent=this,t=void 0===t?this.items.length:t,this.items.splice(t,0,e),this.itemIdMap.set(e.id,!0))}removeItem(e){this.items.splice(e.position,1),this.itemIdMap.delete(e.id)}replaceItem(e,t){const n=e.position;this.items.splice(n,1,t),this.itemIdMap.delete(e.id),this.itemIdMap.set(t.id,!0)}};r([a.observableProperty,i("design:type",Array)],c.prototype,"items",void 0),c=r([a.observable,i("design:paramtypes",[Object,Object])],c),t.GroupItem=c,t.default=c},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(15)),o=r(n(18)),a=r(n(4)),s=r(n(13)),l=r(n(19)),u=r(n(20)),c=r(n(21)),d=r(n(22)),f=r(n(23)),p=r(n(24)),h=r(n(25)),m=r(n(27)),v=r(n(28));class g{constructor(e){this.parent=e}createItem(e){return new a.default(e,this.parent)}createGroupItem(e){return new s.default(e,this.parent)}createTextItem(e){return new i.default(e,this.parent)}createStringItem(e){return new l.default(e,this.parent)}createDecimalItem(e){return new u.default(e,this.parent)}createBooleanItem(e){return new o.default(e,this.parent)}createTimeItem(e){return new c.default(e,this.parent)}createDateItem(e){return new d.default(e,this.parent)}createDateTimeItem(e){return new f.default(e,this.parent)}createAttachmentItem(e){return new p.default(e,this.parent)}createChoiceItem(e){return new m.default(e,this.parent)}createOpenChoiceItem(e){return new h.default(e,this.parent)}createMultiChoiceItem(e){return new v.default(e,this.parent)}}t.ItemFactory=g,t.default=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(2);let a=class extends o.QuestionItem{constructor(){super(...arguments),this.type=i.TEXT}};a=r([n(0).observable],a),t.TextItem=a,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17);class i{constructor(e){this.parent=e}createInitialAnswer(e){return new r.InitialAnswer(e,this.parent)}}t.InitialAnswerFactory=i,t.default=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(n(39));const i=r(n(3));class o{constructor(e,t){this.id=e&&e.id||i.default(),this.value=e&&e.value,this.parent=t,Object.defineProperty(o.prototype,"position",{enumerable:!0,configurable:!0,get(){if(!this.parent)return;let e;return this.parent.initialAnswers.find((t,n)=>{if(t.id===this.id)return e=n,!0}),e}})}updateInitialAnswer(e){this.id=e.id,this.value=e.value}setValue(e){this.value=e}remove(){this.parent&&this.parent.removeInitialAnswer(this)}}t.InitialAnswer=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1),a=n(0),s=i(n(2));let l=class extends s.default{constructor(){super(...arguments),this.type=o.BOOLEAN}};l=r([a.observable],l),t.BooleanItem=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(2);let a=class extends o.QuestionItem{constructor(){super(...arguments),this.type=i.STRING}};a=r([n(0).observable],a),t.StringItem=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1),a=n(0),s=i(n(2));let l=class extends s.default{constructor(){super(...arguments),this.type=o.DECIMAL}};l=r([a.observable],l),t.DecimalItem=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),a=i(n(2)),s=n(1);let l=class extends a.default{constructor(){super(...arguments),this.type=s.TIME}};l=r([o.observable],l),t.TimeItem=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),a=i(n(2)),s=n(1);let l=class extends a.default{constructor(){super(...arguments),this.type=s.DATE}};l=r([o.observable],l),t.DateItem=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),a=n(1),s=i(n(2));let l=class extends s.default{constructor(){super(...arguments),this.type=a.DATE_TIME}};l=r([o.observable],l),t.DateTimeItem=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(1),s=n(0),l=o(n(2));let u=class extends l.default{constructor(e,t){super(e,t),this.type=a.ATTACHMENT,this.multipleFiles=!(!e||!e.multipleFiles)}updateItem(e){const t=s.getObservable(e);t&&t.mute(),this.multipleFiles=e.multipleFiles,t&&t.unmute(),super.updateItem(e)}};u=r([s.observable,i("design:paramtypes",[Object,Object])],u),t.AttachmentItem=u,t.default=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(1),s=n(0),l=o(n(5)),u=o(n(2));let c=class extends u.default{constructor(e,t){super(e,t),this.type=a.OPEN_CHOICE,this.optionIdMap=new Map,this.answerOptionFactory=new l.default(this),this.completeOptions(e),this.options.forEach(e=>this.optionIdMap.set(e.id,!0))}clearInitialAnswers(){this.defaultOption&&(this.defaultOption.defaultSelected=!1)}selectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(this.defaultOption&&(this.defaultOption.defaultSelected=!1),this.defaultOption=t,this.defaultOption.defaultSelected=!0)}unselectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(t.defaultSelected=!1,this.defaultOption=void 0)}completeOptions(e){e&&e.options&&0!==e.options.length?this.options=e.options.map(e=>this.answerOptionFactory.createAnswerOption(e)):this.options=[this.answerOptionFactory.createAnswerOption()]}addAnswerOption(e){this.optionIdMap.has(e.id)||(this.options.splice(this.options.length-1,0,e),this.optionIdMap.set(e.id,!0))}removeAnswerOption(e){e.position!==this.options.length-1&&(this.options.splice(e.position,1),this.optionIdMap.delete(e.id))}};r([s.observableProperty,i("design:type",Array)],c.prototype,"options",void 0),c=r([s.observable,i("design:paramtypes",[Object,Object])],c),t.OpenChoiceItem=c,t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(3)),l=n(0);let u=r=class{constructor(e,t){this.id=e&&e.id||s.default(),this.value=e&&e.value,this.parent=t,this.defaultSelected=!!e&&!!e.defaultSelected,Object.defineProperty(r.prototype,"position",{enumerable:!0,configurable:!0,get(){if(!this.parent)return;let e;return this.parent.options.find((t,n)=>{if(t.id===this.id)return e=n,!0}),e}})}selectAsDefault(){this.parent&&this.parent.selectDefaultOption(this)}unselectAsDefault(){this.parent&&this.parent.unselectDefaultOption(this)}updateAnswerOption(e){this.id=e.id,this.value=e.value}setValue(e){this.value=e}remove(){this.parent&&this.parent.removeAnswerOption(this)}};u=r=i([l.observable,o("design:paramtypes",[Object,Object])],u),t.AnswerOption=u,t.default=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(0),s=o(n(2)),l=n(1),u=o(n(5));let c=class extends s.default{constructor(e,t){super(e,t),this.type=l.CHOICE,this.optionIdMap=new Map,this.answerOptionFactory=new u.default(this),this.completeOptions(e),this.options.forEach(e=>this.optionIdMap.set(e.id,!0))}completeOptions(e){e&&e.options?this.options=e.options.map(e=>this.answerOptionFactory.createAnswerOption(e)):this.options=[]}setSingleInitialAnswer(e){}addInitialAnswer(e){}clearInitialAnswers(){this.defaultOption&&(this.defaultOption.defaultSelected=!1)}selectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(this.defaultOption&&(this.defaultOption.defaultSelected=!1),this.defaultOption=t,this.defaultOption.defaultSelected=!0)}unselectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(t.defaultSelected=!1,this.defaultOption=void 0)}addAnswerOption(e){this.optionIdMap.has(e.id)||(this.options.push(e),this.optionIdMap.set(e.id,!0))}removeAnswerOption(e){this.options.splice(e.position,1),this.optionIdMap.delete(e.id)}};r([a.observableProperty,i("design:type",Array)],c.prototype,"options",void 0),c=r([a.observable,i("design:paramtypes",[Object,Object])],c),t.ChoiceItem=c,t.default=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(2)),s=n(1),l=n(0),u=o(n(5));let c=class extends a.default{constructor(e,t){super(e,t),this.type=s.MULTI_CHOICE,this.optionIdMap=new Map,this.answerOptionFactory=new u.default(this),this.completeOptions(e),this.options.forEach(e=>this.optionIdMap.set(e.id,!0))}clearInitialAnswers(){this.options.forEach(e=>{e.defaultSelected=!1})}selectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(t.defaultSelected=!0)}unselectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(t.defaultSelected=!1)}completeOptions(e){e&&e.options?this.options=e.options.map(e=>this.answerOptionFactory.createAnswerOption(e)):this.options=[]}addAnswerOption(e){this.optionIdMap.has(e.id)||(this.options.push(e),this.optionIdMap.set(e.id,!0))}removeAnswerOption(e){this.options.splice(e.position,1),this.optionIdMap.delete(e.id)}};r([l.observableProperty,i("design:type",Array)],c.prototype,"options",void 0),c=r([l.observable,i("design:paramtypes",[Object,Object])],c),t.MultiChoiceItem=c,t.default=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0);let a=class{constructor(e){this.answers=e||[]}updateResponseAnswers(e,t){const n=o.getObservable(this);n&&n.mute(),this.answers=this.answers.filter(t=>t.parentId!==e),t.forEach(t=>{this.answers.push({parentId:e,value:t.value})}),n&&n.unmute(),n&&n.emitChange()}};a=r([o.observable,i("design:paramtypes",[Array])],a),t.AnswerCollection=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),l=o(n(3)),u=o(n(31)),c=o(n(29)),d=o(n(42)),f=o(n(8)),p=a(n(6));let h=class{constructor(e,t,n,r,i){this.answerFactory=new u.default(this),this.errorMessages=[],this.isEnable=!0,this.itemIdMap=new Map,this.answerIdMap=new Map,this.id=e&&e.id||l.default(),this.questionId=t.id,this.text=t.text,this.answerCollection=i,this.fillAnswers(e,t),this.fillItems(e,t),this.validationRules=r,this.replyStrategy=n,this.questionItem=t,this.validate(),this.decideEnablingObservation(),this.answerCollection.updateResponseAnswers(this.questionId,this.answers),this.defineOwnProperties(),this.items.forEach(e=>this.itemIdMap.set(e.id,!0)),this.answers.forEach(e=>this.answerIdMap.set(e.id,!0))}defineOwnProperties(){Object.defineProperty(this,"isValid",{get(){return 0===this.errorMessages.length}})}fillAnswers(e,t){if(e&&e.answers)this.answers=e.answers.map(e=>this.answerFactory.createAnswer(e));else{const e=t.initialAnswers;e&&e.length?this.answers=e.map(e=>this.answerFactory.createAnswer(e)):t.options?this.answers=t.options.filter(e=>e.defaultSelected&&e).map(e=>this.answerFactory.createAnswer(e)):this.answers=[]}}fillItems(e,t){t.items?this.items=t.items.map(t=>{const n=e&&e.items&&e.items.find(e=>e.questionId===t.id);return f.default.createResponse(t,this.answerCollection,n)}):this.items=[]}decideEnablingObservation(){if(this.questionItem.enableWhen&&this.questionItem.enableWhen.length){const e=s.getObservable(this.answerCollection);e&&e.subscribe(this.evaluateEnableWhen.bind(this))}}initiateEnableWhen(){this.items.forEach(e=>e.initiateEnableWhen()),this.evaluateEnableWhen(this.answerCollection)}evaluateEnableWhen(e){if(void 0===this.questionItem.enableBehavior||!this.questionItem.enableWhen||this.questionItem.enableWhen.length<1)return;const t=e.answers,n=this.questionItem.enableWhen.filter(e=>!!e.questionId&&(void 0!==e.answer||e.operator===p.EXISTS)).map(e=>e.operator===p.EXISTS?void 0!==t.find(t=>t.parentId===e.questionId):t.filter(t=>t.parentId===e.questionId).some(t=>d.default.apply({[e.operator]:[""+t.value,""+e.answer]})));this.isEnable=d.default.apply({[this.questionItem.enableBehavior]:n})}setReplyStrategy(e){const t=s.getObservable(this);t&&t.mute(),this.replyStrategy=e,t&&t.unmute()}validate(){const e=[];this.validationRules.forEach(t=>{const n=t(this.answers[0]&&this.answers[0].value);n&&e.push(n)}),this.errorMessages=e}reply(e){if(!this.replyStrategy)return;const t=s.getObservable(this);t&&t.mute(),this.replyStrategy(e,this,this.answerFactory),this.validate(),t&&t.unmute(),t&&t.emitChange(),this.answerCollection.updateResponseAnswers(this.questionId,this.answers)}addQuestionnaireResponseItem(e){this.itemIdMap.has(e.id)||(e.answerCollection=this.answerCollection,this.items.push(e),this.itemIdMap.set(e.id,!0))}updateQuestionnaireResponseItem(e){Object.assign(this,e)}setSingleAnswer(e){this.answers.splice(0,this.answers.length,e),this.answerIdMap.clear(),this.answerIdMap.set(e.id,!0)}addAnswer(e,t){this.itemIdMap.has(e.id)||(t=void 0===t?this.answers.length:t,this.answers.splice(t,0,e),this.answerIdMap.set(e.id,!0))}removeAnswer(e){this.answers.splice(e.position,1),this.answerIdMap.delete(e.id)}};r([s.observableProperty,i("design:type",Array)],h.prototype,"items",void 0),r([s.observableProperty,i("design:type",Array)],h.prototype,"answers",void 0),h=r([s.observable,i("design:paramtypes",[Object,Object,Function,Array,c.default])],h),t.QuestionnaireResponseItem=h,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32);class i{constructor(e){this.parent=e}createAnswer(e){return new r.Answer(e,this.parent)}}t.AnswerFactory=i,t.default=i},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(3)),l=n(0);let u=r=class{constructor(e,t){this.itemIdMap=new Map,this.id=e&&e.id||s.default(),this.parent=t,this.items=[],this.value=e&&e.value,Object.defineProperty(r.prototype,"position",{enumerable:!0,configurable:!0,get(){if(!this.parent)return;let e;return this.parent.answers.find((t,n)=>{if(t.id===this.id)return e=n,!0}),e}}),this.items.forEach(e=>this.itemIdMap.set(e.id,!0))}addQuestionnaireResponseItem(e){this.itemIdMap.has(e.id)||(this.items.push(e),this.itemIdMap.set(e.id,!0))}updateAnswer(e){Object.assign(this,e)}setValue(e){this.value=e}remove(){this.parent&&this.parent.removeAnswer(this)}};i([l.observableProperty,o("design:type",Array)],u.prototype,"items",void 0),u=r=i([l.observable,o("design:paramtypes",[Object,Object])],u),t.Answer=u,t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.choiceStrategy=(e,t,n)=>{const r=t.answers[0]||n.createAnswer(),i=t.questionItem.options.find(t=>t.id===e);i&&r.updateAnswer(Object.assign(Object.assign({},r),{id:i.id,value:i.value})),t.setSingleAnswer(r)},t.default=t.choiceStrategy},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textInputStrategy=(e,t,n)=>{if(t.answers[0]){const n=t.answers[0];""!==e&&void 0!==e?n.setValue(e):n.remove()}else if(""!==e&&void 0!==e){const r=n.createAnswer({value:e});t.setSingleAnswer(r)}},t.default=t.textInputStrategy},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiChoiceStrategy=(e,t,n)=>{const r=t.questionItem.options.find(t=>t.id===e);if(!r)return;const i=t.answers.find(e=>e.id===r.id);i?i.remove():t.addAnswer(n.createAnswer({id:r.id,value:r.value}))},t.default=t.multiChoiceStrategy},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1)),r(n(9)),r(n(6)),r(n(10)),r(n(11)),r(n(4)),r(n(13)),r(n(2)),r(n(24)),r(n(18)),r(n(27)),r(n(22)),r(n(23)),r(n(20)),r(n(25)),r(n(19)),r(n(15)),r(n(21)),r(n(28)),r(n(40)),r(n(41)),r(n(30)),r(n(32)),r(n(17)),r(n(26)),r(n(14)),r(n(31)),r(n(16)),r(n(5)),r(n(8)),r(n(12)),r(n(7)),r(n(33)),r(n(35)),r(n(34))},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(3)),s=n(0),l=o(n(7));let u=class{constructor(e){this.itemIdMap=new Map,this.itemByTypeFactory=new l.default(this),this.id=e&&e.id||a.default(),this.description=e&&e.description,this.title=e&&e.title,this.completeItems(e),this.items.forEach(e=>this.itemIdMap.set(e.id,!0))}completeItems(e){e&&e.items?this.items=e.items.map(e=>this.itemByTypeFactory.createItem(e)):this.items=[]}addDescendantItemAfter(e,t){this.addItem(t,e.position+1)}updateQuestionnaire(e){const t=s.getObservable(this);t&&t.mute(),this.description=e.description,this.title=e.title,this.id=e.id,t&&t.unmute(),t&&t.emitChange()}addItem(e,t){this.itemIdMap.has(e.id)||(e.parent=this,t=void 0===t?this.items.length:t,this.items.splice(t,0,e),this.itemIdMap.set(e.id,!0))}removeItem(e){this.items.splice(e.position,1),this.itemIdMap.delete(e.id)}replaceItem(e,t){const n=e.position;this.items.splice(n,1,t),this.itemIdMap.delete(e.id),this.itemIdMap.set(t.id,!0)}};r([s.observableProperty,i("design:type",Array)],u.prototype,"items",void 0),u=r([s.observable,i("design:paramtypes",[Object])],u),t.Questionnaire=u,t.default=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(3)),s=n(0),l=o(n(29)),u=o(n(8));let c=class{constructor(e,t){this.answerCollection=new l.default,this.itemIdMap=new Map,this.id=t&&t.id||a.default(),this.questionnaireId=e.id,e.items?this.items=e.items.map(e=>{const n=t&&t.items&&t.items.find(t=>t.questionId===e.id);return u.default.createResponse(e,this.answerCollection,n)}):this.items=[],this.items.forEach(e=>this.itemIdMap.set(e.id,!0)),this.items.forEach(e=>e.initiateEnableWhen())}addQuestionnaireResponseItem(e){this.itemIdMap.has(e.id)||(e.answerCollection=this.answerCollection,this.items.push(e),this.itemIdMap.set(e.id,!0))}updateQuestionnaireResponse(e){this.id=e.id,this.questionnaireId=e.questionnaireId}};r([s.observableProperty,i("design:type",Array)],c.prototype,"items",void 0),c=r([s.observable,i("design:paramtypes",[Object,Object])],c),t.QuestionnaireResponse=c,t.default=c},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var e={},t={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t,n){return void 0===n?e<t:e<t&&t<n},"<=":function(e,t,n){return void 0===n?e<=t:e<=t&&t<=n},"!!":function(t){return e.truthy(t)},"!":function(t){return!e.truthy(t)},"%":function(e,t){return e%t},log:function(e){return console.log(e),e},in:function(e,t){return!(!t||void 0===t.indexOf)&&-1!==t.indexOf(e)},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(e,t,n){if(n<0){var r=String(e).substr(t);return r.substr(0,r.length+n)}return String(e).substr(t,n)},"+":function(){return Array.prototype.reduce.call(arguments,(function(e,t){return parseFloat(e,10)+parseFloat(t,10)}),0)},"*":function(){return Array.prototype.reduce.call(arguments,(function(e,t){return parseFloat(e,10)*parseFloat(t,10)}))},"-":function(e,t){return void 0===t?-e:e-t},"/":function(e,t){return e/t},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,(function(e,t){return e.concat(t)}),[])},var:function(e,t){var n=void 0===t?null:t,r=this;if(void 0===e||""===e||null===e)return r;for(var i=String(e).split("."),o=0;o<i.length;o++){if(null===r)return n;if(void 0===(r=r[i[o]]))return n}return r},missing:function(){for(var t=[],n=Array.isArray(arguments[0])?arguments[0]:arguments,r=0;r<n.length;r++){var i=n[r],o=e.apply({var:i},this);null!==o&&""!==o||t.push(i)}return t},missing_some:function(t,n){var r=e.apply({missing:n},this);return n.length-r.length>=t?[]:r},method:function(e,t,n){return e[t].apply(e,n)}};return e.is_logic=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length},e.truthy=function(e){return!(Array.isArray(e)&&0===e.length||!e)},e.get_operator=function(e){return Object.keys(e)[0]},e.get_values=function(t){return t[e.get_operator(t)]},e.apply=function(n,r){if(Array.isArray(n))return n.map((function(t){return e.apply(t,r)}));if(!e.is_logic(n))return n;r=r||{};var i,o,a,s,l,u=e.get_operator(n),c=n[u];if(Array.isArray(c)||(c=[c]),"if"===u||"?:"==u){for(i=0;i<c.length-1;i+=2)if(e.truthy(e.apply(c[i],r)))return e.apply(c[i+1],r);return c.length===i+1?e.apply(c[i],r):null}if("and"===u){for(i=0;i<c.length;i+=1)if(o=e.apply(c[i],r),!e.truthy(o))return o;return o}if("or"===u){for(i=0;i<c.length;i+=1)if(o=e.apply(c[i],r),e.truthy(o))return o;return o}if("filter"===u)return s=e.apply(c[0],r),a=c[1],Array.isArray(s)?s.filter((function(t){return e.truthy(e.apply(a,t))})):[];if("map"===u)return s=e.apply(c[0],r),a=c[1],Array.isArray(s)?s.map((function(t){return e.apply(a,t)})):[];if("reduce"===u)return s=e.apply(c[0],r),a=c[1],l=void 0!==c[2]?c[2]:null,Array.isArray(s)?s.reduce((function(t,n){return e.apply(a,{current:n,accumulator:t})}),l):l;if("all"===u){if(s=e.apply(c[0],r),a=c[1],!s.length)return!1;for(i=0;i<s.length;i+=1)if(!e.truthy(e.apply(a,s[i])))return!1;return!0}if("none"===u)return 0===e.apply({filter:c},r).length;if("some"===u)return e.apply({filter:c},r).length>0;if(c=c.map((function(t){return e.apply(t,r)})),"function"==typeof t[u])return t[u].apply(r,c);if(u.indexOf(".")>0){var d=String(u).split("."),f=t;for(i=0;i<d.length;i++)if(void 0===(f=f[d[i]]))throw new Error("Unrecognized operation "+u+" (failed at "+d.slice(0,i+1).join(".")+")");return f.apply(r,c)}throw new Error("Unrecognized operation "+u)},e.uses_data=function(t){var n=[];if(e.is_logic(t)){var r=e.get_operator(t),i=t[r];Array.isArray(i)||(i=[i]),"var"===r?n.push(i[0]):i.map((function(t){n.push.apply(n,e.uses_data(t))}))}return function(e){for(var t=[],n=0,r=e.length;n<r;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n)},e.add_operation=function(e,n){t[e]=n},e.rm_operation=function(e){delete t[e]},e.rule_like=function(t,n){if(n===t)return!0;if("@"===n)return!0;if("number"===n)return"number"==typeof t;if("string"===n)return"string"==typeof t;if("array"===n)return Array.isArray(t)&&!e.is_logic(t);if(e.is_logic(n)){if(e.is_logic(t)){var r=e.get_operator(n),i=e.get_operator(t);if("@"===r||r===i)return e.rule_like(e.get_values(t,!1),e.get_values(n,!1))}return!1}if(Array.isArray(n)){if(Array.isArray(t)){if(n.length!==t.length)return!1;for(var o=0;o<n.length;o+=1)if(!e.rule_like(t[o],n[o]))return!1;return!0}return!1}return!1},e})?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=/[ \r\n\t\S]+/,o=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][+-]?[0-9]+)?/,a=/true|false/,s=/([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?/,l=/([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\.[0-9]+)?/,u=/([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?/,c=(e,t)=>t.test(""+e)||""===e||void 0===e?void 0:r.REG_EXP;t.validators={stringRegExp:e=>c(e,i),textRegExp:e=>c(e,i),decimalRegExp:e=>c(e,o),booleanRegExp:e=>c(e,a),dateRegExp:e=>c(e,s),timeRegExp:e=>c(e,l),dateTimeRegExp:e=>c(e,u),required:e=>(e=>void 0!==e&&""!==e?void 0:r.REQUIRED)(e)},t.default=t.validators},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachmentStrategy=(e,t,n)=>{const r=t.answers.find(t=>t.value===e);r?r.remove():t.questionItem.multipleFiles?t.addAnswer(n.createAnswer({value:e})):t.setSingleAnswer(n.createAnswer({value:e}))},t.default=t.attachmentStrategy}]))},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(3));class a extends i.Component{constructor(){super(...arguments),this.initialAnswerFactory=new o.InitialAnswerFactory(this.props.item)}submitForm(){this.formApi&&this.formApi.submitForm()}getFormApi(e){this.formApi=e}handleSubmit(e){const{item:t}=this.props;t.setSingleInitialAnswer(this.initialAnswerFactory.createInitialAnswer({value:e.value}))}componentDidUpdate(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;this.formApi&&this.formApi.setValue("value",t)}}t.QuestionItem=a,t.default=a},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),l=r[n];n<o;l=r[++n])m(l)||!_(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),c(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=c(e,i,r)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),O(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(E(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return d(n)}var u,_="",I=!1,C=["{","}"];(p(n)&&(I=!0,C=["[","]"]),E(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),O(n)&&(_=" "+d(n)),0!==a.length||I&&0!=n.length?r<0?y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=I?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)S(t,String(a))?o.push(f(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return f(e,n,r,s,t,I)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,_,C)):C[0]+_+C[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),S(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function g(e){return"string"==typeof e}function b(e){return void 0===e}function y(e){return _(e)&&"[object RegExp]"===I(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===I(e)}function O(e){return _(e)&&("[object Error]"===I(e)||e instanceof Error)}function E(e){return"function"==typeof e}function I(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(b(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=y,t.isObject=_,t.isDate=w,t.isError=O,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(24);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=n(25),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var t;if("function"!=typeof(t=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),T&&Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=T,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(x,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(8))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HumanReadableGuid=function(){let e;const t=()=>{let e=1;const t=new Map;return{getHumanReadableId:n=>(n=>(t.has(n)||t.set(n,e++),((e,t)=>{if(void 0===e)return;let n=""+e;for(;n.length<t;)n="0"+n;return n})(t.get(n),3)||""))(n),updateKey(e,n){((e,n)=>{if(!t.has(e))return;const r=t.get(e);t.set(n,r),t.delete(e)})(e,n)}}};return{getHumanReadableGuid:()=>(e||(e=t()),e)}}(),t.default=t.HumanReadableGuid},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.rightPanel="RIGHT_PANEL",e.insideItem="INSIDE_ITEM"}(r=t.SETTINGS_DISPLAY_MODE||(t.SETTINGS_DISPLAY_MODE={})),t.default=r},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(3));class a extends i.Component{constructor(){super(...arguments),this.itemFactory=new o.ItemFactory(this.props.item)}addItem(){const{item:e,selectTargetItem:t}=this.props,n=this.itemFactory.createItem();e.addItem(n),t&&t(n)}addGroupItem(){const{item:e,selectTargetItem:t}=this.props,n=this.itemFactory.createGroupItem();e.addItem(n),t&&t(n)}addChoiceItem(){const{item:e,selectTargetItem:t}=this.props,n=this.itemFactory.createChoiceItem(),r=new o.AnswerOptionFactory(n);n.addAnswerOption(r.createAnswerOption({value:"Option 1"})),e.addItem(n),t&&t(n)}render(){return i.createElement("div",{className:"item-collection-menu btn-group"},i.createElement("button",{className:"btn btn-secondary",title:"Add text",onClick:this.addItem.bind(this)},i.createElement("i",{className:"fas fa-align-left"})),i.createElement("button",{className:"btn btn-secondary",title:"Add group",onClick:this.addGroupItem.bind(this)},i.createElement("i",{className:"fas fa-layer-group"})),i.createElement("button",{className:"btn btn-secondary",title:"Add question",onClick:this.addChoiceItem.bind(this)},i.createElement("i",{className:"fas fa-plus"})))}}t.ItemCollectionMenu=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(26)),s=i(n(12));class l extends o.Component{componentDidMount(){const{subscribe:e}=this.props;e&&e()}render(){const{itemList:e,className:t="",nestingLevel:n,subscribe:r,isItemActive:i}=this.props;return o.createElement("div",{className:`questionnaire-item-list ${t}`,"data-nesting-level":n},e.map((e,t)=>o.createElement(s.default.Consumer,{key:e.id},s=>o.createElement(a.default,Object.assign({item:e,nestingLevel:`${n}:${t}`,subscribe:r,isItemActive:i},s)))))}}t.QuestionnaireItemList=l,t.default=l},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(1);class a extends i.Component{constructor(){super(...arguments),this.RadioRef=i.createRef()}onBlur(e){const{option:t}=this.props;t.setValue(e.target.value)}remove(){const{option:e}=this.props;e.remove()}onChange(e){const{option:t}=this.props;e.target.checked?t.selectAsDefault():t.unselectAsDefault()}onClick(e){const{option:t}=this.props;e.target.checked&&t.selectAsDefault()}render(){const{option:e}=this.props;return i.createElement("div",{className:"form-group"},i.createElement("div",{className:"input-group"},i.createElement("div",{className:"input-group-prepend"},i.createElement("div",{className:"input-group-text"},i.createElement("label",{htmlFor:`${e.id}-initial`,className:"mr-1 mb-0"},"By default"),i.createElement("input",{checked:e.defaultSelected,id:`${e.id}-initial`,type:"radio",onChange:this.onChange.bind(this),onClick:this.onClick.bind(this)}))),i.createElement("input",{autoComplete:"off",id:`${e.id}-option`,className:"form-control",defaultValue:e.value,onBlur:this.onBlur.bind(this)}),i.createElement("div",{className:"input-group-append"},i.createElement("button",{className:"btn btn-outline-secondary",onClick:this.remove.bind(this)},i.createElement("i",{className:"fas fa-trash"})))))}}t.ChoiceOption=a,t.default=o.useObservableModel(a)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(7));t.QuestionnaireContext=o.createContext({settingsDisplayMode:a.default.rightPanel}),t.default=t.QuestionnaireContext},function(e,t){t.isatty=function(){return!1},t.ReadStream=function(){throw new Error("tty.ReadStream is not implemented")},t.WriteStream=function(){throw new Error("tty.ReadStream is not implemented")}},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function d(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var u=l.length,c=m(l,u);for(n=0;n<u;++n)o(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(17))},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3));n(19);const s=n(2),l=n(1),u=i(n(9)),c=i(n(10)),d=i(n(54)),f=i(n(12)),p=n(7);class h extends o.Component{constructor(){super(...arguments),this.state={settingsDisplayModel:p.SETTINGS_DISPLAY_MODE.insideItem,targetItem:void 0,targetGroup:this.props.questionnaireModel},this.questionnaireItemsRef=o.createRef(),this.settingsPanelRef=o.createRef(),this.itemFactory=new a.ItemFactory(this.props.questionnaireModel),this.nestingLevel="0",this.itemListsMap=new Map,this.sortableOptions={group:"nested",animation:550,fallbackOnBody:!0,swapThreshold:.35,handle:".drag-handle",dragClass:"sortable-drag",onChoose:this.onDragChoose.bind(this),onUnchoose:this.onDragUnchoose.bind(this),onEnd:this.onDragEnd.bind(this),forceFallback:!0,filter:".no-drag",fallbackTolerance:1,emptyInsertThreshold:30},this.bodyListener=e=>{this.settingsPanelRef.current&&this.settingsPanelRef.current.contains(e.target)||this.questionnaireItemsRef.current&&this.questionnaireItemsRef.current.contains(e.target)||this.clearTargetItem()}}handleSubmit(e){const{questionnaireModel:t}=this.props;t.updateQuestionnaire({...t,title:e.title,description:e.description})}submitForm(){this.formApi&&this.formApi.submitForm()}getFormApi(e){this.formApi=e}escListener(e){27===e.keyCode&&this.clearTargetItem()}componentDidMount(){this.makeItemsDraggable(),document.addEventListener("keydown",this.escListener.bind(this)),document.body.addEventListener("mousedown",this.bodyListener),this.clearTargetItem()}componentDidUpdate(){const{questionnaireModel:e}=this.props;this.formApi.setValues(e)}componentWillUnmount(){this.clearSortables(),document.removeEventListener("keydown",this.escListener.bind(this)),document.body.removeEventListener("mousedown",this.bodyListener)}clearSortables(){this.itemListsMap.forEach(e=>e.destroy())}makeItemsDraggable(){document.querySelectorAll("#drag-drop-nested .questionnaire-item-list").forEach(e=>{this.itemListsMap.has(e)||this.itemListsMap.set(e,new d.default(e,this.sortableOptions))})}onDragChoose(e){document.body.style.height=`${document.body.clientHeight}px`}fillQuestionList(e,t){t.items&&t.items.forEach(t=>{t.type===a.GROUP&&this.fillQuestionList(e,t),e.push(t)})}prepareQuestionList(){const{questionnaireModel:e}=this.props,t=[];return this.fillQuestionList(t,e),t}onDragUnchoose(e){document.body.style.height="";const t=this.prepareQuestionList().find(t=>t.id===e.item.dataset.id);this.selectTargetItem(t)}onDragEnd(e){const t=this.findNestedItemList(e.from.dataset.nestingLevel),n=this.findNestedItemList(e.to.dataset.nestingLevel);if(t===n&&e.oldIndex===e.newIndex||void 0===t||void 0===n)return;const r=t.items.find(t=>t.id===e.item.dataset.id);r&&(t!==n&&e.from.appendChild(e.item),r.remove(),n.addItem(r,e.newIndex))}findNestedItemList(e){if(void 0===e)return;const t=e.split(":");t.shift();const{questionnaireModel:n}=this.props;let r=n;return 0===e.length?r:(t.forEach(e=>{Array.isArray(r.items)&&(r=r.items[+e])}),r)}selectTargetItem(e){this.setState({targetItem:e,targetGroup:e.type===a.GROUP?e:e.parent})}clearTargetItem(){const{questionnaireModel:e}=this.props;this.setState({targetItem:void 0,targetGroup:e})}renderItemList(){const{questionnaireModel:e}=this.props,{targetItem:t,settingsDisplayModel:n,targetGroup:r}=this.state;return o.createElement("div",{id:"drag-drop-nested"},o.createElement(f.default.Provider,{value:{questionnaire:e,selectTargetItem:this.selectTargetItem.bind(this),targetItemId:t&&t.id,settingsDisplayMode:n,clearTargetItem:this.clearTargetItem.bind(this),targetGroupId:r&&r.id}},o.createElement(c.default,{itemList:e.items,nestingLevel:this.nestingLevel,subscribe:this.makeItemsDraggable.bind(this)})))}render(){const{questionnaireModel:e,className:t}=this.props;return o.createElement("div",{className:`questionnaire-designer media ${t}`},o.createElement("div",{className:"questionnaire-items media-body",ref:this.questionnaireItemsRef},o.createElement("div",{className:"questionnaire card mb-3"},o.createElement("div",{className:"card-header d-flex justify-content-end"}),o.createElement("div",{className:"card-body"},o.createElement(s.Form,{getApi:this.getFormApi.bind(this),key:e.id,initialValues:e,onSubmit:this.handleSubmit.bind(this)},o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:`${e.id}-title`},"Questionnaire Title"),o.createElement(s.Text,{autoComplete:"off",className:"form-control",id:`${e.id}-title`,field:"title",placeholder:"My Questionnaire",autoFocus:!0,onBlur:this.submitForm.bind(this)})),o.createElement("div",{className:"form-group"},o.createElement("label",{htmlFor:`${e.id}-description`},"Questionnaire Description"),o.createElement(s.TextArea,{autoComplete:"off",className:"form-control",id:`${e.id}-description`,field:"description",placeholder:"My description",onBlur:this.submitForm.bind(this)}))))),0===e.items.length&&o.createElement("div",{className:"w-100 d-flex justify-content-center align-items-center"},o.createElement(u.default,{item:e,selectTargetItem:this.selectTargetItem.bind(this)})),this.renderItemList()))}}t.Questionnaire=h,h.defaultProps={className:""};const m=l.useObservableModel(h);t.QuestionnaireDesigner=m,t.default=m},function(e,t){e.exports=n},function(e,t,n){var r=n(20);"string"==typeof r&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(22)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(21)(!1)).push([e.i,".questionnaire-item {\n  position: relative; }\n\n.bottom-line {\n  display: flex;\n  flex-wrap: wrap;\n  position: absolute;\n  right: -27px;\n  width: calc(100% + 27px);\n  height: 16px;\n  bottom: -8px;\n  padding-right: 1px; }\n  .bottom-line button.toggle {\n    padding: 2px !important;\n    border: 0 !important;\n    width: 32px !important;\n    height: 32px !important;\n    flex: 0 0 auto;\n    z-index: 100; }\n  .bottom-line hr {\n    flex-basis: 0;\n    flex-grow: 1;\n    max-width: 100%; }\n  .bottom-line .dropdown-menu {\n    padding: 0;\n    border: 0;\n    min-width: 0; }\n  .bottom-line .btn-group-vertical {\n    position: absolute; }\n\n.bottom-line:not(:hover) hr {\n  opacity: 0; }\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";var r,i={},o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function s(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function l(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id],a=0;if(o){for(o.refs++;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(v(r.parts[a],t))}else{for(var s=[];a<r.parts.length;a++)s.push(v(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function u(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var r=n.nc;r&&(e.attributes.nonce=r)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function p(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i&&e.setAttribute("media",i),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,m=0;function v(e,t){var n,r,i;if(t.singleton){var o=m++;n=h||(h=u(t)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else n=u(t),r=p.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=s(e,t);return l(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o],u=i[a.id];u&&(u.refs--,r.push(u))}e&&l(s(e,t),t);for(var c=0;c<r.length;c++){var d=r[c];if(0===d.refs){for(var f=0;f<d.parts.length;f++)d.parts[f]();delete i[d.id]}}}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=n(1),l=i(n(27)),u=n(2),c=i(n(42)),d=i(n(44)),f=i(n(6)),p=n(52),h=i(n(7)),m=i(n(53));class v extends o.PureComponent{constructor(){super(...arguments),this.state={bottomMenuShowed:!1},this.bottomLineRef=o.createRef(),this.inputRef=o.createRef(),this.itemRef=o.createRef(),this.humanReadableGuid=f.default.getHumanReadableGuid()}submitForm(){this.formApi&&this.formApi.submitForm()}submitForm_2(){this.formApi_2&&this.formApi_2.submitForm()}getFormApi(e){this.formApi=e}getFormApi_2(e){this.formApi_2=e}handleSubmit(e){const{item:t}=this.props;t.updateItem({...t,text:e.text})}handleSubmit_2(e){const{item:t}=this.props;t.updateItem({...t,...e})}componentDidUpdate(){const{item:e,targetItemId:t}=this.props;e.id===t&&(this.formApi&&this.formApi.setValues(e),this.formApi_2&&this.formApi_2.setValues(e))}componentWillUnmount(){const{clearTargetItem:e}=this.props;e&&e(),clearTimeout(this.closingBottomMenuTimeOutKey)}componentDidMount(){const e=this.inputRef.current;if(e){const t=window.pageXOffset,n=window.pageYOffset;e.focus(),window.scrollTo(t,n)}}toggleBottomMenu(){this.setState({bottomMenuShowed:!this.state.bottomMenuShowed})}closeBottomMenu(){this.state.bottomMenuShowed&&this.setState({bottomMenuShowed:!1})}prepareClosingBottomMenu(){this.closingBottomMenuTimeOutKey=setTimeout(()=>{this.closeBottomMenu()})}preventClosingBottomMenu(){clearTimeout(this.closingBottomMenuTimeOutKey)}selectTargetItem(e){const{item:t,selectTargetItem:n,targetItemId:r}=this.props;e.stopPropagation(),("click"!==e.type||t.id!==r||this.itemRef.current&&!this.itemRef.current.contains(e.target))&&(this.bottomLineRef.current&&this.bottomLineRef.current.contains(e.target)||n&&n(t))}getHeadlineControl(){const{item:e}=this.props;return e.type===a.DISPLAY?o.createElement(u.TextArea,{forwardedRef:this.inputRef,autoComplete:"off",className:"form-control",id:`${e.id}-text`,field:"text",placeholder:"Static text",onBlur:this.submitForm.bind(this)}):o.createElement(u.Text,{forwardedRef:this.inputRef,autoComplete:"off",className:"form-control",id:`${e.id}-text`,field:"text",placeholder:e.type===a.GROUP?"Questions group":"Question text",onBlur:this.submitForm.bind(this)})}getHeadlineFromClassName(){const{item:e}=this.props;switch(e.type){case a.GROUP:return"questionnaire-group-item__headline form-group";case a.DISPLAY:return"questionnaire-display-item__headline";default:return"questionnaire-item__headline form-group"}}getHeadlineLogoText(){const{item:e}=this.props;switch(e.type){case a.GROUP:return"Group Title";case a.DISPLAY:return"Text";default:return"Question"}}getClassNameIdentifier(){const{item:e}=this.props;return e.type===a.GROUP?"questionnaire-item questionnaire-group-item":e.type===a.DISPLAY?"questionnaire-item questionnaire-display-item":"questionnaire-item questionnaire-question-item"}renderHeadlineLabelReplacerText(){const{item:e}=this.props;switch(e.type){case a.GROUP:return"Questions group";case a.DISPLAY:return"Text";default:return"Question"}}renderHeader(){const{item:e}=this.props;return o.createElement("div",{className:"row"},o.createElement("div",{className:"col-4 d-flex align-items-center"},o.createElement("span",null,"#",this.humanReadableGuid.getHumanReadableId(e.id))),o.createElement("div",{className:"col-4 d-flex justify-content-center align-items-center"},o.createElement("i",{className:"fas fa-grip-horizontal text-muted"})))}renderHeadline(){const{item:e,targetItemId:t,selectTargetItem:n}=this.props,r=e.id===t;return o.createElement("div",{className:`form-row ${this.getHeadlineFromClassName()}`},r?o.createElement("div",{className:"col"},o.createElement(u.Form,{getApi:this.getFormApi.bind(this),initialValues:e,onSubmit:this.handleSubmit.bind(this)},o.createElement("div",null,o.createElement("label",{htmlFor:`${e.id}-text`},this.getHeadlineLogoText()),this.getHeadlineControl()))):o.createElement("div",{className:"col"},o.createElement("label",{className:"labelReplacer"},e.text||this.renderHeadlineLabelReplacerText(),e.required&&o.createElement("span",{className:"text-danger"},"*"))),e.type!==a.DISPLAY&&e.type!==a.GROUP&&r&&o.createElement("div",{className:"col-md-4"},o.createElement(c.default,{selectTargetItem:n,title:"Question Type",item:e})))}renderFooter(){const{item:e,questionnaire:t}=this.props;return o.createElement("div",null,o.createElement("div",{className:"d-flex justify-content-between align-items-center"},o.createElement("div",null,e.type!==a.GROUP&&e.type!==a.DISPLAY&&o.createElement(u.Form,{className:"mr-3",getApi:this.getFormApi_2.bind(this),initialValues:e,onSubmit:this.handleSubmit_2.bind(this)},o.createElement("div",{className:"form-check"},o.createElement(u.Checkbox,{key:e.required+"",field:"required",type:"checkbox",className:"form-check-input",id:`${e.id}-required`,onChange:this.submitForm_2.bind(this)}),o.createElement("label",{className:"mb-0",htmlFor:`${e.id}-required`},"Required")))),o.createElement("div",null,o.createElement("button",{className:"btn btn-outline-secondary border-0",title:"Delete item",onClick:e.remove.bind(e)},o.createElement("i",{className:"fas fa-trash"})))),o.createElement("div",{className:"item-settings"},o.createElement("hr",null),t&&o.createElement(d.default,{questionnaire:t,item:e})))}render(){const{item:e,nestingLevel:t,className:n,subscribe:r,targetItemId:i,settingsDisplayMode:a,targetGroupId:s,selectTargetItem:u}=this.props,{bottomMenuShowed:c}=this.state,d=this.getClassNameIdentifier(),f=a===h.default.insideItem,v=i===e.id,g=v?p.activeItemClassName:"";return o.createElement("div",{className:`${d} card mb-3 ${g} ${n}`,"data-id":e.id,ref:this.itemRef,onFocus:this.selectTargetItem.bind(this),onClick:this.selectTargetItem.bind(this)},o.createElement("div",{className:"card-header drag-handle"},this.renderHeader()),o.createElement("div",{className:"card-body"},this.renderHeadline(),o.createElement("div",{className:"questionnaire-item__details"},o.createElement(l.default,{item:e,key:e.id,nestingLevel:t,subscribe:r,isItemActive:v}))),f&&v&&o.createElement("div",{className:"card-footer"},this.renderFooter()),e.parent&&e.parent.id===s&&o.createElement("div",{className:"bottom-line",onFocus:this.preventClosingBottomMenu.bind(this),onBlur:this.prepareClosingBottomMenu.bind(this),ref:this.bottomLineRef},o.createElement("hr",null),o.createElement("div",{className:"dropup d-flex"},o.createElement("button",{className:"toggle btn btn-outline-secondary",onClick:this.toggleBottomMenu.bind(this),title:"Add item"},o.createElement("i",{className:"fas fa-plus"})),c&&o.createElement(m.default,{close:this.closeBottomMenu.bind(this),selectTargetItem:u,item:e}))))}}t.ItemWrapper=v,v.defaultProps={className:""},t.default=s.useObservableModel(v)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(3)),a=n(28),s=n(29),l=n(30),u=n(31),c=n(32),d=n(33),f=n(34),p=n(35),h=n(36),m=n(37),v=n(38),g=n(40);t.ItemProvider=e=>{const{item:t}=e;switch(t.type){case o.GROUP:return i.createElement(a.GroupItem,Object.assign({},e));case o.TEXT:return i.createElement(s.TextItem,Object.assign({},e));case o.STRING:return i.createElement(l.StringItem,Object.assign({},e));case o.DECIMAL:return i.createElement(u.DecimalItem,Object.assign({},e));case o.BOOLEAN:return i.createElement(c.BooleanItem,Object.assign({},e));case o.TIME:return i.createElement(d.TimeItem,Object.assign({},e));case o.DATE:return i.createElement(f.DateItem,Object.assign({},e));case o.DATE_TIME:return i.createElement(p.DateTimeItem,Object.assign({},e));case o.ATTACHMENT:return i.createElement(h.AttachmentItem,Object.assign({},e));case o.CHOICE:return i.createElement(m.ChoiceItem,Object.assign({},e));case o.OPEN_CHOICE:return i.createElement(v.OpenChoiceItem,Object.assign({},e));case o.MULTI_CHOICE:return i.createElement(g.MultiChoiceItem,Object.assign({},e));default:return null}},t.default=t.ItemProvider},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(1),s=i(n(10)),l=i(n(9));class u extends o.Component{render(){const{item:e,nestingLevel:t,subscribe:n,isItemActive:r}=this.props;return o.createElement("div",null,0===e.items.length&&r&&o.createElement("div",{className:"w-100 d-flex justify-content-center align-items-center"},o.createElement(l.default,{item:e})),o.createElement(s.default,{itemList:e.items,nestingLevel:t,subscribe:n,isItemActive:r}))}}t.GroupItem=u,t.default=a.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("label",{htmlFor:`${e.id}-initial`,className:"question-item-label"},"Default answer"),o.createElement(a.TextArea,{autoComplete:"off",className:"form-control js-text-area",initialValue:t,field:"value",id:`${e.id}-initial`,placeholder:"Patient default answer",onBlur:this.submitForm.bind(this)}))}}t.TextItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("label",{htmlFor:`${e.id}-initial`,className:"question-item-label"},"Default answer"),o.createElement(a.Text,{autoComplete:"off",className:"form-control",initialValue:t,field:"value",id:`${e.id}-initial`,placeholder:"Patient default answer",onBlur:this.submitForm.bind(this)}))}}t.StringItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("label",{htmlFor:`${e.id}-initial`,className:"question-item-label"},"Default answer"),o.createElement(a.Text,{autoComplete:"off",className:"form-control",type:"number",initialValue:t,field:"value",id:`${e.id}-initial`,placeholder:"Patient default answer",onBlur:this.submitForm.bind(this)}))}}t.DecimalItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{reset(){const{item:e}=this.props;e.clearInitialAnswers()}render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("div",{className:"d-flex align-items-baseline"},o.createElement("label",{className:"question-item-label mr-3 mb-0"},"Default answer"),e.initialAnswers.length>0&&o.createElement("button",{type:"button",className:"btn btn-link text-secondary p-0",onClick:this.reset.bind(this)},"Remove default value")),o.createElement(a.RadioGroup,{initialValue:t,field:"value"},o.createElement("div",null,o.createElement("div",{className:"form-check"},o.createElement(a.Radio,{className:"form-check-input",id:`${e.id}-true`,value:!0,onChange:this.submitForm.bind(this)}),o.createElement("label",{className:"form-check-label",htmlFor:`${e.id}-true`},"Yes")),o.createElement("div",{className:"form-check"},o.createElement(a.Radio,{className:"form-check-input",id:`${e.id}-false`,value:!1,onChange:this.submitForm.bind(this)}),o.createElement("label",{className:"form-check-label",htmlFor:`${e.id}-false`},"No")))))}}t.BooleanItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("label",{htmlFor:`${e.id}-initial`,className:"question-item-label"},"Default answer"),o.createElement(a.Text,{autoComplete:"off",className:"form-control",type:"time",initialValue:t,field:"value",id:`${e.id}-initial`,onBlur:this.submitForm.bind(this)}))}}t.TimeItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("label",{htmlFor:`${e.id}-initial`,className:"question-item-label"},"Default answer"),o.createElement(a.Text,{autoComplete:"off",className:"form-control",type:"date",initialValue:t,field:"value",id:`${e.id}-initial`,onBlur:this.submitForm.bind(this)}))}}t.DateItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(2),s=n(1),l=i(n(4));class u extends l.default{render(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement(a.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("label",{htmlFor:`${e.id}-initial`,className:"question-item-label"},"Default answer"),o.createElement(a.Text,{autoComplete:"off",className:"form-control",type:"datetime-local",initialValue:t,field:"value",id:`${e.id}-initial`,onBlur:this.submitForm.bind(this)}))}}t.DateTimeItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(1),s=n(2),l=i(n(4));class u extends l.default{getFormApi(e){this.formApi=e}handleSubmit(e){const{item:t}=this.props;t.updateItem({...t,multipleFiles:!!e.multipleFiles})}componentDidUpdate(){const{item:e}=this.props;this.formApi&&this.formApi.setValue("multipleFiles",e.multipleFiles)}render(){const{item:e}=this.props;return o.createElement(s.Form,{getApi:this.getFormApi.bind(this),key:e.id,onSubmit:this.handleSubmit.bind(this)},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"file",className:"form-control-file",id:`${e.id}-initial`,disabled:!0})),o.createElement("div",null,o.createElement("div",{className:"form-check"},o.createElement(s.Checkbox,{className:"form-check-input",initialValue:e.multipleFiles,field:"multipleFiles",id:`${e.id}-multipleFiles`,onChange:this.submitForm.bind(this)}),o.createElement("label",{className:"form-check-label",htmlFor:`${e.id}-multipleFiles`},"Allow multiple upload"))))}}t.AttachmentItem=u,t.default=a.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=n(1),l=i(n(11)),u=n(2),c=i(n(4));class d extends c.default{constructor(){super(...arguments),this.answerOptionFactory=new a.AnswerOptionFactory(this.props.item)}reset(){const{item:e}=this.props;e.clearInitialAnswers()}addOption(){const{item:e}=this.props;e.addAnswerOption(this.answerOptionFactory.createAnswerOption())}renderChoiceOptions(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement("div",{className:"option-list"},o.createElement(u.Form,{getApi:this.getFormApi.bind(this),onSubmit:this.handleSubmit.bind(this)},o.createElement(u.RadioGroup,{initialValue:t,field:"value"},e.options.map(e=>o.createElement(l.default,{key:e.id,option:e})))))}render(){return o.createElement("div",null,o.createElement("button",{className:"btn btn-link text-secondary pl-0",onClick:this.reset.bind(this)},"Remove default value"),this.renderChoiceOptions(),o.createElement("div",null,o.createElement("button",{className:"btn btn-outline-secondary border-0",onClick:this.addOption.bind(this)},o.createElement("i",{className:"fas fa-plus mr-1"}),o.createElement("span",null,"Add option"))))}}t.ChoiceItem=d,t.default=s.useObservableModel(d)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=n(1),l=i(n(11)),u=n(2),c=i(n(4)),d=n(39);class f extends c.default{constructor(){super(...arguments),this.answerOptionFactory=new a.AnswerOptionFactory(this.props.item)}reset(){const{item:e}=this.props;e.clearInitialAnswers()}addOption(){const{item:e}=this.props;e.addAnswerOption(this.answerOptionFactory.createAnswerOption())}renderChoiceOptions(){const{item:e}=this.props,t=e.initialAnswers[0]&&e.initialAnswers[0].value;return o.createElement("div",{className:"option-list"},o.createElement(u.Form,{getApi:this.getFormApi.bind(this),onSubmit:this.handleSubmit.bind(this)},o.createElement(u.RadioGroup,{initialValue:t,field:"value"},e.options.map((t,n)=>n===e.options.length-1?o.createElement(d.ChoiceOptionOther,{key:t.id,option:t}):o.createElement(l.default,{key:t.id,option:t})))))}render(){return o.createElement("div",null,o.createElement("button",{className:"btn btn-link text-secondary pl-0",onClick:this.reset.bind(this)},"Remove default value"),this.renderChoiceOptions(),o.createElement("div",null,o.createElement("button",{className:"btn btn-outline-secondary border-0",onClick:this.addOption.bind(this)},o.createElement("i",{className:"fas fa-plus mr-1"}),o.createElement("span",null,"Add option"))))}}t.OpenChoiceItem=f,t.default=s.useObservableModel(f)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(1);class a extends i.Component{constructor(){super(...arguments),this.RadioRef=i.createRef()}onBlur(e){const{option:t}=this.props;t.setValue(e.target.value)}remove(){const{option:e}=this.props;e.remove()}onChange(e){const{option:t}=this.props;e.target.checked?t.selectAsDefault():t.unselectAsDefault()}render(){const{option:e}=this.props,t=!e.defaultSelected;return i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:`${e.id}-option`},"Other"),i.createElement("div",{className:"input-group"},i.createElement("div",{className:"input-group-prepend"},i.createElement("div",{className:"input-group-text"},i.createElement("label",{htmlFor:`${e.id}-initial`,className:"mr-1 mb-0"},"By default"),i.createElement("input",{checked:e.defaultSelected,id:`${e.id}-initial`,type:"radio",onChange:this.onChange.bind(this)}))),i.createElement("input",{autoComplete:"off",id:`${e.id}-option`,className:"form-control",disabled:t,defaultValue:e.value,onBlur:this.onBlur.bind(this)})))}}t.ChoiceOptionOther=a,t.default=o.useObservableModel(a)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=n(1),l=i(n(41));class u extends o.Component{constructor(){super(...arguments),this.answerOptionFactory=new a.AnswerOptionFactory(this.props.item)}addOption(){const{item:e}=this.props;e.addAnswerOption(this.answerOptionFactory.createAnswerOption())}renderChoiceOptions(){const{item:e}=this.props;return o.createElement("div",{className:"option-list"},e.options.map(t=>o.createElement(l.default,{key:t.id,option:t,item:e})))}render(){return o.createElement("div",null,this.renderChoiceOptions(),o.createElement("div",null,o.createElement("button",{className:"btn btn-outline-secondary border-0",onClick:this.addOption.bind(this)},o.createElement("i",{className:"fas fa-plus mr-1"}),o.createElement("span",null,"Add option"))))}}t.MultiChoiceItem=u,t.default=s.useObservableModel(u)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(1);class a extends i.Component{onBlur(e){const{option:t}=this.props;t.setValue(e.target.value)}remove(){const{option:e}=this.props;e.remove()}onChange(e){const{option:t}=this.props;e.target.checked?t.selectAsDefault():t.unselectAsDefault()}renderCheckbox(){const{option:e}=this.props;return i.createElement("div",{className:"input-group-text"},i.createElement("label",{className:"mr-1 mb-0",htmlFor:`${e.id}-checkbox`},"By default"),i.createElement("input",{id:`${e.id}-checkbox`,type:"checkbox",checked:e.defaultSelected,onChange:this.onChange.bind(this)}))}render(){const{option:e}=this.props;return i.createElement("div",{className:"form-group"},i.createElement("div",{className:"input-group"},i.createElement("div",{className:"input-group-prepend"},this.renderCheckbox()),i.createElement("input",{autoComplete:"off",className:"form-control",defaultValue:e.value,onBlur:this.onBlur.bind(this)}),i.createElement("div",{className:"input-group-append"},i.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:this.remove.bind(this)},i.createElement("i",{className:"fas fa-trash"})))))}}t.MultiChoiceOption=a,t.default=o.useObservableModel(a)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=i(n(6)),l=n(43);class u extends o.Component{constructor(e){super(e),this.options=l.questionTypes,this.humanReadableGuide=s.default.getHumanReadableGuid(),this.item=e.item,this.factory=new a.ItemFactory(this.item.parent)}onChange(e){switch(e.target.value){case a.STRING:this.changeItemToString();break;case a.TEXT:this.changeItemToText();break;case a.BOOLEAN:this.changeItemToBoolean();break;case a.DECIMAL:this.changeItemToDecimal();break;case a.TIME:this.changeItemToTime();break;case a.DATE:this.changeItemToDate();break;case a.DATE_TIME:this.changeItemToDateTime();break;case a.CHOICE:this.changeItemToChoice();break;case a.OPEN_CHOICE:this.changeItemToOpenChoice();break;case a.ATTACHMENT:this.changeItemToAttachment();break;case a.MULTI_CHOICE:this.changeItemToMultiChoice();break;default:return}}changeItemToString(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createStringItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToText(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createTextItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToBoolean(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createBooleanItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToDecimal(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createDecimalItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToTime(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createTimeItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToDate(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createDateItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToDateTime(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createDateTimeItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}changeItemToChoice(){const{item:e,selectTargetItem:t}=this.props,n=new a.AnswerOptionFactory;let r;void 0===e.options||0===e.options.length||e.type===a.OPEN_CHOICE&&1===e.options.length?r=[n.createAnswerOption({value:"Option 1"})]:(r=e.options.slice(),e.type===a.OPEN_CHOICE&&r.pop());const i=this.factory.createChoiceItem({text:e.text,options:r,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});i.options.forEach(e=>{e.parent=i}),e.replace(i),t&&t(i),this.humanReadableGuide.updateKey(e.id,i.id)}changeItemToOpenChoice(){const{item:e,selectTargetItem:t}=this.props,n=new a.AnswerOptionFactory;let r;r=void 0===e.options?[n.createAnswerOption({value:"Option 1"})]:0===e.options.length?[n.createAnswerOption({value:"Option 1"})]:e.options.slice(),r.push(n.createAnswerOption());const i=this.factory.createOpenChoiceItem({text:e.text,options:r,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});i.options.forEach(e=>{e.parent=i}),e.replace(i),t&&t(i),this.humanReadableGuide.updateKey(e.id,i.id)}changeItemToMultiChoice(){const{item:e,selectTargetItem:t}=this.props,n=new a.AnswerOptionFactory;let r;void 0===e.options||0===e.options.length||e.type===a.OPEN_CHOICE&&1===e.options.length?r=[n.createAnswerOption({value:"Option 1"})]:(r=e.options.slice(),e.type===a.OPEN_CHOICE&&r.pop());const i=this.factory.createMultiChoiceItem({text:e.text,options:r,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});i.options.forEach(e=>{e.parent=i}),e.replace(i),t&&t(i),this.humanReadableGuide.updateKey(e.id,i.id)}changeItemToAttachment(){const{item:e,selectTargetItem:t}=this.props,n=this.factory.createAttachmentItem({text:e.text,required:e.required,enableWhen:e.enableWhen,enableBehavior:e.enableBehavior});e.replace(n),t&&t(n),this.humanReadableGuide.updateKey(e.id,n.id)}render(){const{item:e,title:t}=this.props;return o.createElement("div",null,o.createElement("label",{htmlFor:`${e.id}-select-menu`},t),o.createElement("select",{id:`${e.id}-select-menu`,className:"form-control",defaultValue:e.type,onChange:this.onChange.bind(this)},this.options.map(t=>o.createElement("option",{key:`${e.id}-${t.value}`,value:t.value},t.title))))}}t.QuestionTypeMenu=u,t.default=u},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(3));t.questionTypes=[{title:"String (one row)",value:i.STRING},{title:"Text (several rows)",value:i.TEXT},{title:"Number",value:i.DECIMAL},{title:"Date",value:i.DATE},{title:"Time",value:i.TIME},{title:"Date-time",value:i.DATE_TIME},{title:"Yes/No question",value:i.BOOLEAN},{title:"Single choice",value:i.CHOICE},{title:"Open choice",value:i.OPEN_CHOICE},{title:"Multiple choice",value:i.MULTI_CHOICE},{title:"Attachment",value:i.ATTACHMENT}]},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=n(2),l=i(n(45)),u=n(1);class c extends o.Component{constructor(e){super(e),this.enableWhenFactory=new a.EnableWhenFactory(e.item)}getFormApi(e){this.formApi=e}componentDidUpdate(){const{item:e}=this.props;this.formApi&&this.formApi.setValues(e)}fillQuestionList(e,t){t.items&&t.items.forEach(t=>{t.type===a.GROUP?this.fillQuestionList(e,t):t.type!==a.DISPLAY&&t.type!==a.ATTACHMENT&&e.push(t)})}prepareQuestionList(){const{questionnaire:e}=this.props,t=[];return this.fillQuestionList(t,e),t}addEnableWhen(){const{item:e}=this.props,t=this.enableWhenFactory.createEnableWhen({operator:a.EQUAL});e.addEnableWhen(t)}removeAllEnableWhen(){const{item:e}=this.props;e.enableWhen=[]}setEnableBehavior(){const{item:e}=this.props;this.formApi&&(e.enableBehavior=this.formApi.getValue("enableBehavior"))}render(){const{item:e}=this.props,t=this.prepareQuestionList();return o.createElement("div",{className:"enable-when"},o.createElement(s.Form,{initialValues:e,getApi:this.getFormApi.bind(this)},o.createElement("div",{className:"d-flex"},o.createElement("label",{htmlFor:`enableWhenBehavior-${e.id}`,className:"mr-3"},o.createElement("span",null,"This component should Display if "),o.createElement(s.Select,{id:`enableWhenBehavior-${e.id}`,className:"form-control w-auto d-inline",field:"enableBehavior",onChange:this.setEnableBehavior.bind(this)},o.createElement(s.Option,{value:a.AND},"all the rules are consistent"),o.createElement(s.Option,{value:a.OR},"one of the rules is consistent")))),o.createElement("div",null,o.createElement("div",{className:"list-group list-group-flush form-group"},!!e.enableWhen.length&&o.createElement("div",{className:"list-group-item list-group-item-action"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col col-3"},"Question"),o.createElement("div",{className:"col col-3"},"Operator"),o.createElement("div",{className:"col col-5"},"Answer"),o.createElement("div",{className:"col col-1"}))),o.createElement(s.Scope,{scope:"enableWhen"},e.enableWhen.map((n,r)=>{const i=t.filter(t=>t.id!==e.id);return o.createElement(o.Fragment,{key:n.id},o.createElement(l.default,{questionList:i,enableWhen:n,index:r}))})))),o.createElement("div",null,o.createElement("button",{className:"btn btn-outline-secondary border-0",onClick:this.addEnableWhen.bind(this)},o.createElement("i",{className:"fas fa-plus mr-1"}),"Add Rule"))))}}t.EnableSettings=c,t.default=u.useObservableModel(c)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=n(2),l=i(n(46)),u=n(1),c=i(n(6));class d extends o.Component{constructor(e){super(e),this.state={},this.operators=[{value:a.EQUAL,text:"Equal( == )"},{value:a.NOT_EQUAL,text:"Not equal( != )"},{value:a.EXISTS,text:"Exists( not null )"},{value:a.MORE,text:"More( > )"},{value:a.LESS,text:"Less( < )"},{value:a.MORE_OR_EQUAL,text:"More or equal( >= )"},{value:a.LESS_OR_EQUAL,text:"Less or equal( <= )"}],this.humanReadableGuid=c.default.getHumanReadableGuid();const t=e.enableWhen.questionId,n=e.questionList.find(e=>e.id===t);this.state={selectedQuestion:n}}selectQuestion(e){const{questionList:t,enableWhen:n,formApi:r,index:i}=this.props,o=r.getValue(`${i}][questionId`),a=t.find(e=>e.id===o);n.questionId=o,this.setState({selectedQuestion:a})}removeEnableWhen(){const{enableWhen:e}=this.props;e.remove()}setOperator(e){const{enableWhen:t}=this.props,n=e.target.value;t.operator=n}renderQuestionSelect(){const{questionList:e,index:t}=this.props;return o.createElement(s.Select,{className:"form-control",field:`${t}][questionId`,onChange:this.selectQuestion.bind(this)},o.createElement(s.Option,{value:"",disabled:!0},"Select question"),e.map(e=>o.createElement(s.Option,{key:`${e.id}-enableWhenQuestion`,value:e.id},`#${this.humanReadableGuid.getHumanReadableId(e.id)} ${void 0===e.text?"":e.text}`)))}renderOperatorSelect(){const{index:e}=this.props;return o.createElement(s.Select,{className:"form-control",field:`${e}][operator`,onChange:this.setOperator.bind(this)},o.createElement(s.Option,{value:"",disabled:!0},"Select operator"),this.operators.map((e,t)=>o.createElement(s.Option,{key:t,value:e.value},e.text)))}render(){const{index:e,enableWhen:t}=this.props,{selectedQuestion:n}=this.state;return o.createElement("div",{className:"list-group-item list-group-item-action"},o.createElement("div",{className:"row align-items-center"},o.createElement("div",{className:"col col-3"},this.renderQuestionSelect()),o.createElement("div",{className:"col col-3"},this.renderOperatorSelect()),o.createElement("div",{className:"col"},o.createElement(l.default,{item:n,index:e,enableWhen:t})),o.createElement("div",{className:"col col-auto"},o.createElement("button",{className:"btn btn-outline-secondary border-0",onClick:this.removeEnableWhen.bind(this)},o.createElement("i",{className:"fas fa-trash"})))))}}t.EnableWhen=d,t.default=s.withFormApi(u.useObservableModel(d))},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(3)),s=i(n(47)),l=i(n(48)),u=i(n(49)),c=i(n(50)),d=i(n(51));t.QuestionItemProvider=e=>{const{item:t={},index:n,enableWhen:r}=e;switch(t.type){case a.STRING:return o.createElement(s.default,{enableWhen:r,index:n,type:"text"});case a.TEXT:return o.createElement(s.default,{enableWhen:r,index:n,type:"textarea"});case a.TIME:return o.createElement(s.default,{enableWhen:r,index:n,type:"time"});case a.DATE:return o.createElement(s.default,{enableWhen:r,index:n,type:"date"});case a.DATE_TIME:return o.createElement(s.default,{enableWhen:r,index:n,type:"datetime-local"});case a.DECIMAL:return o.createElement(s.default,{enableWhen:r,index:n,type:"number"});case a.CHOICE:case a.MULTI_CHOICE:return o.createElement(l.default,{enableWhen:r,index:n,item:t});case a.OPEN_CHOICE:return o.createElement(u.default,{enableWhen:r,index:n,item:t});case a.BOOLEAN:return o.createElement(c.default,{enableWhen:r,index:n});default:return o.createElement(d.default,null)}},t.default=t.QuestionItemProvider},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(2);t.Input=e=>{const{type:t,index:n,enableWhen:r}=e,a=o.useFormApi(),s=()=>{const e=a.getValue(`${n}][answer`);r.answer=e};return i.createElement("div",null,"textarea"===t?i.createElement(o.TextArea,{className:"form-control",field:`${n}][answer`,id:"enableWhenAnswer",onBlur:s}):i.createElement(o.Text,{type:t,className:"form-control",field:`${n}][answer`,id:"enableWhenAnswer",onBlur:s}))},t.default=t.Input},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(2);t.Choice=e=>{const{item:t,index:n,enableWhen:r}=e,a=o.useFormApi();return i.createElement(o.Select,{className:"form-control",field:`${n}][answer`,onChange:()=>{const e=a.getValue(`${n}][answer`),i=t.options&&t.options.find(t=>t.id===e);i&&(r.answer=i.value)}},i.createElement(o.Option,{value:"",disabled:!0},"Select answer"),t.options&&t.options.map((e,t)=>i.createElement(o.Option,{key:t,value:e.id},e.value)))},t.default=t.Choice},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(2);class a extends i.Component{constructor(e){super(e),this.otherAnswerInputRef=i.createRef(),e.item.options&&e.item.options.every(t=>t.value!==e.enableWhen.answer)&&0!==e.item.options.length&&(this.initialOtherOptionValue=e.enableWhen.answer,this.toggleToOtherOption())}onChange(){const{enableWhen:e,formApi:t,index:n,item:r}=this.props;let i=!1;const o=t.getValue(`${n}][answer`),a=r.options&&r.options.find((e,t)=>e.id===o&&(r.options&&t===r.options.length-1&&(i=!0),!0));i?this.toggleToOtherOption():(this.toggleToOptions(),a&&(e.answer=a.value))}toggleToOptions(){this.otherAnswerInputRef.current&&(this.otherAnswerInputRef.current.style.display="none")}toggleToOtherOption(){this.otherAnswerInputRef.current&&(this.otherAnswerInputRef.current.style.display=""),this.onBlur()}onBlur(){const{enableWhen:e}=this.props;this.otherAnswerInputRef.current&&(e.answer=this.otherAnswerInputRef.current.value)}render(){const{item:e,index:t}=this.props;return i.createElement("div",{className:"row"},i.createElement("div",{className:"col-5"},i.createElement(o.Select,{className:"form-control",field:`${t}][answer`,onChange:this.onChange.bind(this)},i.createElement(o.Option,{value:"",disabled:!0},"Select answer"),e.options&&e.options.map((t,n)=>i.createElement(o.Option,{key:n,value:t.id},e.options&&n===e.options.length-1?"Other":t.value)))),i.createElement("div",{className:"col-7"},i.createElement(o.Text,{field:`${t}][answer-other`,className:"form-control",forwardedRef:this.otherAnswerInputRef,onBlur:this.onBlur.bind(this),initialValue:this.initialOtherOptionValue,style:{display:"none"}})))}}t.OpenChoice=a,t.default=o.withFormApi(a)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(2);t.Boolean=e=>{const{index:t,enableWhen:n}=e,r=o.useFormApi();return i.createElement(o.Select,{className:"form-control",field:`${t}][answer`,onChange:()=>{const e=r.getValue(`${t}][answer`);n.answer="true"===e}},i.createElement(o.Option,{value:"",disabled:!0},"Select answer"),i.createElement(o.Option,{value:!0},"Yes"),i.createElement(o.Option,{value:!1},"No"))},t.default=t.Boolean},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.DefaultAnswerInput=()=>i.createElement("input",{className:"form-control",disabled:!0}),t.default=t.DefaultAnswerInput},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activeItemClassName="card-active shadow"},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(3));class a extends i.Component{constructor(){super(...arguments),this.itemFactory=new o.ItemFactory}addItem(){const{item:e,selectTargetItem:t,close:n}=this.props,r=this.itemFactory.createItem();e.addSiblingItemAfter(r),t&&t(r),n&&n()}addGroupItem(){const{item:e,selectTargetItem:t,close:n}=this.props,r=this.itemFactory.createGroupItem();e.addSiblingItemAfter(r),t&&t(r),n&&n()}addChoiceItem(){const{item:e,selectTargetItem:t,close:n}=this.props,r=this.itemFactory.createChoiceItem(),i=new o.AnswerOptionFactory(r);r.addAnswerOption(i.createAnswerOption({value:"Option 1"})),e.addSiblingItemAfter(r),t&&t(r),n&&n()}render(){return i.createElement("div",{className:"dropdown-menu dropdown-menu-right btn-group-vertical"},i.createElement("button",{className:"btn btn-secondary",title:"Add text",onClick:this.addItem.bind(this)},i.createElement("i",{className:"fas fa-align-left"})),i.createElement("button",{className:"btn btn-secondary",title:"Add group",onClick:this.addGroupItem.bind(this)},i.createElement("i",{className:"fas fa-layer-group"})),i.createElement("button",{className:"btn btn-secondary",title:"Add question",onClick:this.addChoiceItem.bind(this)},i.createElement("i",{className:"fas fa-plus"})))}}t.BottomItemCollectionMenu=a,t.default=a},function(e,t,n){"use strict";
/**!
 * Sortable 1.10.1
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(t),n.d(t,"MultiDrag",(function(){return yt})),n.d(t,"Sortable",(function(){return Ve})),n.d(t,"Swap",(function(){return lt}));function u(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var c=u(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=u(/Edge/i),f=u(/firefox/i),p=u(/safari/i)&&!u(/chrome/i)&&!u(/android/i),h=u(/iP(ad|od|hone)/i),m=u(/chrome/i)&&u(/android/i),v={capture:!1,passive:!1};function g(e,t,n){e.addEventListener(t,n,!c&&v)}function b(e,t,n){e.removeEventListener(t,n,!c&&v)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function _(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function w(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&y(e,t):y(e,t))||r&&e===n)return e;if(e===n)break}while(e=_(e))}return null}var O,E=/\s+/g;function I(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(E," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(E," ")}}function C(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function A(e,t){var n="";if("string"==typeof e)n=e;else do{var r=C(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix;return i&&new i(n)}function M(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function S(){return c?document.documentElement:document.scrollingElement}function T(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,a,s,l,u,d,f;if(e!==window&&e!==S()?(a=(o=e.getBoundingClientRect()).top,s=o.left,l=o.bottom,u=o.right,d=o.height,f=o.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!c))do{if(i&&i.getBoundingClientRect&&("none"!==C(i,"transform")||n&&"static"!==C(i,"position"))){var p=i.getBoundingClientRect();a-=p.top+parseInt(C(i,"border-top-width")),s-=p.left+parseInt(C(i,"border-left-width")),l=a+o.height,u=s+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var h=A(i||e),m=h&&h.a,v=h&&h.d;h&&(l=(a/=v)+(d/=v),u=(s/=m)+(f/=m))}return{top:a,left:s,bottom:l,right:u,width:f,height:d}}}function x(e,t,n){for(var r=P(e,!0),i=T(e)[t];r;){var o=T(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===S())break;r=P(r,!1)}return!1}function j(e,t,n){for(var r=0,i=0,o=e.children;i<o.length;){if("none"!==o[i].style.display&&o[i]!==Ve.ghost&&o[i]!==Ve.dragged&&w(o[i],n.draggable,e,!1)){if(r===t)return o[i];r++}i++}return null}function D(e,t){for(var n=e.lastElementChild;n&&(n===Ve.ghost||"none"===C(n,"display")||t&&!y(n,t));)n=n.previousElementSibling;return n||null}function R(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ve.clone||t&&!y(e,t)||n++;return n}function F(e){var t=0,n=0,r=S();if(e)do{var i=A(e),o=i.a,a=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function P(e,t){if(!e||!e.getBoundingClientRect)return S();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=C(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return S();if(r||t)return n;r=!0}}}while(n=n.parentNode);return S()}function N(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function k(e,t){return function(){if(!O){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),O=setTimeout((function(){O=void 0}),t)}}}function L(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function B(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function V(e,t){C(e,"position","absolute"),C(e,"top",t.top),C(e,"left",t.left),C(e,"width",t.width),C(e,"height",t.height)}function q(e){C(e,"position",""),C(e,"top",""),C(e,"left",""),C(e,"width",""),C(e,"height","")}var W="Sortable"+(new Date).getTime();function G(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==C(e,"display")&&e!==Ve.ghost){t.push({target:e,rect:T(e)});var n=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=A(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,o=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=T(n),l=n.prevFromRect,u=n.prevToRect,c=e.rect,d=A(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&N(l,s)&&!N(a,s)&&(c.top-s.top)/(c.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(c,l,u,r.options)),N(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,c,s,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof n&&n()}),o):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){C(e,"transition",""),C(e,"transform","");var i=A(this.el),o=i&&i.a,a=i&&i.d,s=(t.left-n.left)/(o||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,C(e,"transform","translate3d("+s+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),C(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),C(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){C(e,"transition",""),C(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var H=[],$={initializeByDefault:!0},U={mount:function(e){for(var t in $)!$.hasOwnProperty(t)||t in e||(e[t]=$[t]);H.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";H.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](a({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](a({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in H.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var a=new r(e,t,e.options);a.sortable=e,a.options=e.options,e[i]=a,o(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);void 0!==a&&(e.options[i]=a)}},getEventProperties:function(e,t){var n={};return H.forEach((function(r){"function"==typeof r.eventProperties&&o(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return H.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function Q(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,s=e.toEl,l=e.fromEl,u=e.oldIndex,f=e.newIndex,p=e.oldDraggableIndex,h=e.newDraggableIndex,m=e.originalEvent,v=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[W]){var b,y=t.options,_="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||c||d?(b=document.createEvent("Event")).initEvent(r,!0,!0):b=new CustomEvent(r,{bubbles:!0,cancelable:!0}),b.to=s||n,b.from=l||n,b.item=i||n,b.clone=o,b.oldIndex=u,b.newIndex=f,b.oldDraggableIndex=p,b.newDraggableIndex=h,b.originalEvent=m,b.pullMode=v?v.lastPutMode:void 0;var w=a({},g,U.getEventProperties(r,t));for(var O in w)b[O]=w[O];n&&n.dispatchEvent(b),y[_]&&y[_].call(t,b)}}var Y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=s(n,["evt"]);U.pluginEvent.bind(Ve)(e,t,a({dragEl:z,parentEl:K,ghostEl:J,rootEl:Z,nextEl:ee,lastDownEl:te,cloneEl:ne,cloneHidden:re,dragStarted:ve,putSortable:ue,activeSortable:Ve.active,originalEvent:r,oldIndex:ie,oldDraggableIndex:ae,newIndex:oe,newDraggableIndex:se,hideGhostForTarget:Ne,unhideGhostForTarget:ke,cloneNowHidden:function(){re=!0},cloneNowShown:function(){re=!1},dispatchSortableEvent:function(e){X({sortable:t,name:e,originalEvent:r})}},i))};function X(e){Q(a({putSortable:ue,cloneEl:ne,targetEl:z,rootEl:Z,oldIndex:ie,oldDraggableIndex:ae,newIndex:oe,newDraggableIndex:se},e))}var z,K,J,Z,ee,te,ne,re,ie,oe,ae,se,le,ue,ce,de,fe,pe,he,me,ve,ge,be,ye,_e,we=!1,Oe=!1,Ee=[],Ie=!1,Ce=!1,Ae=[],Me=!1,Se=[],Te="undefined"!=typeof document,xe=h,je=d||c?"cssFloat":"float",De=Te&&!m&&!h&&"draggable"in document.createElement("div"),Re=function(){if(Te){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Fe=function(e,t){var n=C(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=j(e,0,t),o=j(e,1,t),a=i&&C(i),s=o&&C(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+T(i).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+T(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){var c="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[je]||o&&"none"===n[je]&&l+u>r)?"vertical":"horizontal"},Pe=function(e){function t(e,n){return function(r,i,o,a){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,i,o,a),n)(r,i,o,a);var l=(n?r:i).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==r(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Ne=function(){!Re&&J&&C(J,"display","none")},ke=function(){!Re&&J&&C(J,"display","")};Te&&document.addEventListener("click",(function(e){if(Oe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Oe=!1,!1}),!0);var Le=function(e){if(z){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,o=e.clientY,Ee.some((function(e){if(!D(e)){var t=T(e),n=e[W].options.emptyInsertThreshold,r=i>=t.left-n&&i<=t.right+n,s=o>=t.top-n&&o<=t.bottom+n;return n&&r&&s?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[W]._onDragOver(n)}}var i,o,a},Be=function(e){z&&z.parentNode[W]._isOutsideThisEl(e.target)};function Ve(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=o({},t),e[W]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Fe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ve.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in U.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in Pe(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&De,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?g(e,"pointerdown",this._onTapStart):(g(e,"mousedown",this._onTapStart),g(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(g(e,"dragover",this),g(e,"dragenter",this)),Ee.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),o(this,G())}function qe(e,t,n,r,i,o,a,s){var l,u,f=e[W],p=f.options.onMove;return!window.CustomEvent||c||d?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||T(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),p&&(u=p.call(f,l,a)),u}function We(e){e.draggable=!1}function Ge(){Me=!1}function He(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function $e(e){return setTimeout(e,0)}function Ue(e){return clearTimeout(e)}Ve.prototype={constructor:Ve,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ge=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,z):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,u=r.filter;if(function(e){Se.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Se.push(r)}}(n),!z&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled||l.isContentEditable||(s=w(s,r.draggable,n,!1))&&s.animated||te===s)){if(ie=R(s),ae=R(s,r.draggable),"function"==typeof u){if(u.call(this,e,s,this))return X({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),Y("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=w(l,r.trim(),n,!1))return X({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),Y("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!w(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,a=i.options,s=o.ownerDocument;if(n&&!z&&n.parentNode===o){var l=T(n);if(Z=o,K=(z=n).parentNode,ee=z.nextSibling,te=n,le=a.group,Ve.dragged=z,ce={target:z,clientX:(t||e).clientX,clientY:(t||e).clientY},he=ce.clientX-l.left,me=ce.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,z.style["will-change"]="all",r=function(){Y("delayEnded",i,{evt:e}),Ve.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!f&&i.nativeDraggable&&(z.draggable=!0),i._triggerDragStart(e,t),X({sortable:i,name:"choose",originalEvent:e}),I(z,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){M(z,e.trim(),We)})),g(s,"dragover",Le),g(s,"mousemove",Le),g(s,"touchmove",Le),g(s,"mouseup",i._onDrop),g(s,"touchend",i._onDrop),g(s,"touchcancel",i._onDrop),f&&this.nativeDraggable&&(this.options.touchStartThreshold=4,z.draggable=!0),Y("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||c))r();else{if(Ve.eventCanceled)return void this._onDrop();g(s,"mouseup",i._disableDelayedDrag),g(s,"touchend",i._disableDelayedDrag),g(s,"touchcancel",i._disableDelayedDrag),g(s,"mousemove",i._delayedDragTouchMoveHandler),g(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&g(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){z&&We(z),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?g(document,"pointermove",this._onTouchMove):g(document,t?"touchmove":"mousemove",this._onTouchMove):(g(z,"dragend",this),g(Z,"dragstart",this._onDragStart));try{document.selection?$e((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(we=!1,Z&&z){Y("dragStarted",this,{evt:t}),this.nativeDraggable&&g(document,"dragover",Be);var n=this.options;!e&&I(z,n.dragClass,!1),I(z,n.ghostClass,!0),Ve.active=this,e&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(de){this._lastX=de.clientX,this._lastY=de.clientY,Ne();for(var e=document.elementFromPoint(de.clientX,de.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(de.clientX,de.clientY))!==t;)t=e;if(z.parentNode[W]._isOutsideThisEl(e),t)do{if(t[W]){if(t[W]._onDragOver({clientX:de.clientX,clientY:de.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);ke()}},_onTouchMove:function(e){if(ce){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=J&&A(J),a=J&&o&&o.a,s=J&&o&&o.d,l=xe&&_e&&F(_e),u=(i.clientX-ce.clientX+r.x)/(a||1)+(l?l[0]-Ae[0]:0)/(a||1),c=(i.clientY-ce.clientY+r.y)/(s||1)+(l?l[1]-Ae[1]:0)/(s||1);if(!Ve.active&&!we){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(J){o?(o.e+=u-(fe||0),o.f+=c-(pe||0)):o={a:1,b:0,c:0,d:1,e:u,f:c};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");C(J,"webkitTransform",d),C(J,"mozTransform",d),C(J,"msTransform",d),C(J,"transform",d),fe=u,pe=c,de=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!J){var e=this.options.fallbackOnBody?document.body:Z,t=T(z,!0,xe,!0,e),n=this.options;if(xe){for(_e=e;"static"===C(_e,"position")&&"none"===C(_e,"transform")&&_e!==document;)_e=_e.parentNode;_e!==document.body&&_e!==document.documentElement?(_e===document&&(_e=S()),t.top+=_e.scrollTop,t.left+=_e.scrollLeft):_e=S(),Ae=F(_e)}I(J=z.cloneNode(!0),n.ghostClass,!1),I(J,n.fallbackClass,!0),I(J,n.dragClass,!0),C(J,"transition",""),C(J,"transform",""),C(J,"box-sizing","border-box"),C(J,"margin",0),C(J,"top",t.top),C(J,"left",t.left),C(J,"width",t.width),C(J,"height",t.height),C(J,"opacity","0.8"),C(J,"position",xe?"absolute":"fixed"),C(J,"zIndex","100000"),C(J,"pointerEvents","none"),Ve.ghost=J,e.appendChild(J),C(J,"transform-origin",he/parseInt(J.style.width)*100+"% "+me/parseInt(J.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;Y("dragStart",this,{evt:e}),Ve.eventCanceled?this._onDrop():(Y("setupClone",this),Ve.eventCanceled||((ne=B(z)).draggable=!1,ne.style["will-change"]="",this._hideClone(),I(ne,this.options.chosenClass,!1),Ve.clone=ne),n.cloneId=$e((function(){Y("clone",n),Ve.eventCanceled||(n.options.removeCloneOnHide||Z.insertBefore(ne,z),n._hideClone(),X({sortable:n,name:"clone"}))})),!t&&I(z,i.dragClass,!0),t?(Oe=!0,n._loopId=setInterval(n._emulateDragOver,50)):(b(document,"mouseup",n._onDrop),b(document,"touchend",n._onDrop),b(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,z)),g(document,"drop",n),C(z,"transform","translateZ(0)")),we=!0,n._dragStartId=$e(n._dragStarted.bind(n,t,e)),g(document,"selectstart",n),ve=!0,p&&C(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,o=this.el,s=e.target,l=this.options,u=l.group,c=Ve.active,d=le===u,f=l.sort,p=ue||c,h=this,m=!1;if(!Me){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=w(s,l.draggable,o,!0),N("dragOver"),Ve.eventCanceled)return m;if(z.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||h._ignoreWhileAnimating===s)return B(!1);if(Oe=!1,c&&!l.disabled&&(d?f||(r=!Z.contains(z)):ue===this||(this.lastPutMode=le.checkPull(this,c,z,e))&&u.checkPut(this,c,z,e))){if(i="vertical"===this._getDirection(e,s),t=T(z),N("dragOverValid"),Ve.eventCanceled)return m;if(r)return K=Z,k(),this._hideClone(),N("revert"),Ve.eventCanceled||(ee?Z.insertBefore(z,ee):Z.appendChild(z)),B(!0);var v=D(o,l.draggable);if(!v||function(e,t,n){var r=T(D(n.el,n.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(e,i,this)&&!v.animated){if(v===z)return B(!1);if(v&&o===e.target&&(s=v),s&&(n=T(s)),!1!==qe(Z,o,z,t,s,n,e,!!s))return k(),o.appendChild(z),K=o,V(),B(!0)}else if(s.parentNode===o){n=T(s);var g,b,y,_=z.parentNode!==o,O=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===a||i===s||r+o/2===a+l/2}(z.animated&&z.toRect||t,s.animated&&s.toRect||n,i),E=i?"top":"left",A=x(s,"top","top")||x(z,"top","top"),M=A?A.scrollTop:void 0;if(ge!==s&&(b=n[E],Ie=!1,Ce=!O&&l.invertSwap||_),0!==(g=function(e,t,n,r,i,o,a,s){var l=r?e.clientY:e.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!a)if(s&&ye<u*i){if(!Ie&&(1===be?l>c+u*o/2:l<d-u*o/2)&&(Ie=!0),Ie)f=!0;else if(1===be?l<c+ye:l>d-ye)return-be}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return function(e){return R(z)<R(e)?1:-1}(t);if((f=f||a)&&(l<c+u*o/2||l>d-u*o/2))return l>c+u/2?1:-1;return 0}(e,s,n,i,O?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ce,ge===s))){var S=R(z);do{S-=g,y=K.children[S]}while(y&&("none"===C(y,"display")||y===J))}if(0===g||y===s)return B(!1);ge=s,be=g;var j=s.nextElementSibling,F=!1,P=qe(Z,o,z,t,s,n,e,F=1===g);if(!1!==P)return 1!==P&&-1!==P||(F=1===P),Me=!0,setTimeout(Ge,30),k(),F&&!j?o.appendChild(z):s.parentNode.insertBefore(z,F?j:s),A&&L(A,0,M-A.scrollTop),K=z.parentNode,void 0===b||Ce||(ye=Math.abs(b-T(s)[E])),V(),B(!0)}if(o.contains(z))return B(!1)}return!1}function N(l,u){Y(l,h,a({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:f,fromSortable:p,target:s,completed:B,onMove:function(n,r){return qe(Z,o,z,t,n,T(n),e,r)},changed:V},u))}function k(){N("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function B(t){return N("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(h),h!==p&&(I(z,ue?ue.options.ghostClass:c.options.ghostClass,!1),I(z,l.ghostClass,!0)),ue!==h&&h!==Ve.active?ue=h:h===Ve.active&&ue&&(ue=null),p===h&&(h._ignoreWhileAnimating=s),h.animateAll((function(){N("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(s===z&&!z.animated||s===o&&!s.animated)&&(ge=null),l.dragoverBubble||e.rootEl||s===document||(z.parentNode[W]._isOutsideThisEl(e.target),!t&&Le(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function V(){oe=R(z),se=R(z,l.draggable),X({sortable:h,name:"change",toEl:o,newIndex:oe,newDraggableIndex:se,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",Le),b(document,"mousemove",Le),b(document,"touchmove",Le)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;oe=R(z),se=R(z,n.draggable),Y("drop",this,{evt:e}),K=z&&z.parentNode,oe=R(z),se=R(z,n.draggable),Ve.eventCanceled?this._nulling():(we=!1,Ce=!1,Ie=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ue(this.cloneId),Ue(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&C(document.body,"user-select",""),e&&(ve&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),J&&J.parentNode&&J.parentNode.removeChild(J),(Z===K||ue&&"clone"!==ue.lastPutMode)&&ne&&ne.parentNode&&ne.parentNode.removeChild(ne),z&&(this.nativeDraggable&&b(z,"dragend",this),We(z),z.style["will-change"]="",ve&&!we&&I(z,ue?ue.options.ghostClass:this.options.ghostClass,!1),I(z,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:e}),Z!==K?(oe>=0&&(X({rootEl:K,name:"add",toEl:K,fromEl:Z,originalEvent:e}),X({sortable:this,name:"remove",toEl:K,originalEvent:e}),X({rootEl:K,name:"sort",toEl:K,fromEl:Z,originalEvent:e}),X({sortable:this,name:"sort",toEl:K,originalEvent:e})),ue&&ue.save()):oe!==ie&&oe>=0&&(X({sortable:this,name:"update",toEl:K,originalEvent:e}),X({sortable:this,name:"sort",toEl:K,originalEvent:e})),Ve.active&&(null!=oe&&-1!==oe||(oe=ie,se=ae),X({sortable:this,name:"end",toEl:K,originalEvent:e}),this.save()))),this._nulling())},_nulling:function(){Y("nulling",this),Z=z=K=J=ee=ne=te=re=ce=de=ve=oe=se=ie=ae=ge=be=ue=le=Ve.dragged=Ve.ghost=Ve.clone=Ve.active=null,Se.forEach((function(e){e.checked=!0})),Se.length=fe=pe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":z&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)w(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||He(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,r){var i=n.children[r];w(i,this.options.draggable,n,!1)&&(t[e]=i)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return w(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=U.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Pe(n)},destroy:function(){Y("destroy",this);var e=this.el;e[W]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),Ee.splice(Ee.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!re){if(Y("hideClone",this),Ve.eventCanceled)return;C(ne,"display","none"),this.options.removeCloneOnHide&&ne.parentNode&&ne.parentNode.removeChild(ne),re=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(re){if(Y("showClone",this),Ve.eventCanceled)return;Z.contains(z)&&!this.options.group.revertClone?Z.insertBefore(ne,z):ee?Z.insertBefore(ne,ee):Z.appendChild(ne),this.options.group.revertClone&&this.animate(z,ne),C(ne,"display",""),re=!1}}else this._hideClone()}},Te&&g(document,"touchmove",(function(e){(Ve.active||we)&&e.cancelable&&e.preventDefault()})),Ve.utils={on:g,off:b,css:C,find:M,is:function(e,t){return!!w(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:k,closest:w,toggleClass:I,clone:B,index:R,nextTick:$e,cancelNextTick:Ue,detectDirection:Fe,getChild:j},Ve.get=function(e){return e[W]},Ve.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ve.utils=a({},Ve.utils,e.utils)),U.mount(e)}))},Ve.create=function(e,t){return new Ve(e,t)},Ve.version="1.10.1";var Qe,Ye,Xe,ze,Ke,Je,Ze=[],et=!1;function tt(){Ze.forEach((function(e){clearInterval(e.pid)})),Ze=[]}function nt(){clearInterval(Je)}var rt,it=k((function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,u=S(),c=!1;Ye!==n&&(Ye=n,tt(),Qe=t.scroll,i=t.scrollFn,!0===Qe&&(Qe=P(n,!0)));var d=0,f=Qe;do{var p=f,h=T(p),m=h.top,v=h.bottom,g=h.left,b=h.right,y=h.width,_=h.height,w=void 0,O=void 0,E=p.scrollWidth,I=p.scrollHeight,A=C(p),M=p.scrollLeft,x=p.scrollTop;p===u?(w=y<E&&("auto"===A.overflowX||"scroll"===A.overflowX||"visible"===A.overflowX),O=_<I&&("auto"===A.overflowY||"scroll"===A.overflowY||"visible"===A.overflowY)):(w=y<E&&("auto"===A.overflowX||"scroll"===A.overflowX),O=_<I&&("auto"===A.overflowY||"scroll"===A.overflowY));var j=w&&(Math.abs(b-o)<=s&&M+y<E)-(Math.abs(g-o)<=s&&!!M),D=O&&(Math.abs(v-a)<=s&&x+_<I)-(Math.abs(m-a)<=s&&!!x);if(!Ze[d])for(var R=0;R<=d;R++)Ze[R]||(Ze[R]={});Ze[d].vx==j&&Ze[d].vy==D&&Ze[d].el===p||(Ze[d].el=p,Ze[d].vx=j,Ze[d].vy=D,clearInterval(Ze[d].pid),0==j&&0==D||(c=!0,Ze[d].pid=setInterval(function(){r&&0===this.layer&&Ve.active._onTouchMove(Ke);var t=Ze[this.layer].vy?Ze[this.layer].vy*l:0,n=Ze[this.layer].vx?Ze[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(Ve.dragged.parentNode[W],n,t,e,Ke,Ze[this.layer].el)||L(Ze[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==u&&(f=P(f,!1)));et=c}}),30),ot=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||i;a();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(u.clientX,u.clientY);s(),l&&!l.el.contains(c)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function at(){}function st(){}function lt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;rt=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,i=e.activeSortable,o=e.changed,a=e.cancel;if(i.options.swap){var s=this.sortable.el,l=this.options;if(n&&n!==s){var u=rt;!1!==r(n)?(I(n,l.swapClass,!0),rt=n):rt=null,u&&u!==rt&&I(u,l.swapClass,!1)}o(),t(!0),a()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,i=n||this.sortable,o=this.options;rt&&I(rt,o.swapClass,!1),rt&&(o.swap||n&&n.options.swap)&&r!==rt&&(i.captureAnimationState(),i!==t&&t.captureAnimationState(),function(e,t){var n,r,i=e.parentNode,o=t.parentNode;if(!i||!o||i.isEqualNode(t)||o.isEqualNode(e))return;n=R(e),r=R(t),i.isEqualNode(o)&&n<r&&r++;i.insertBefore(t,i.children[n]),o.insertBefore(e,o.children[r])}(r,rt),i.animateAll(),i!==t&&t.animateAll())},nulling:function(){rt=null}},o(e,{pluginName:"swap",eventProperties:function(){return{swapItem:rt}}})}at.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=j(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:ot},o(at,{pluginName:"revertOnSpill"}),st.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:ot},o(st,{pluginName:"removeOnSpill"});var ut,ct,dt,ft,pt,ht=[],mt=[],vt=!1,gt=!1,bt=!1;function yt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?g(document,"pointerup",this._deselectMultiDrag):(g(document,"mouseup",this._deselectMultiDrag),g(document,"touchend",this._deselectMultiDrag)),g(document,"keydown",this._checkKeyDown),g(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";ht.length&&ct===e?ht.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;dt=t},delayEnded:function(){this.isMultiDrag=~ht.indexOf(dt)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<ht.length;r++)mt.push(B(ht[r])),mt[r].sortableIndex=ht[r].sortableIndex,mt[r].draggable=!1,mt[r].style["will-change"]="",I(mt[r],this.options.selectedClass,!1),ht[r]===dt&&I(mt[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,i=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ht.length&&ct===t&&(_t(!0,n),r("clone"),i()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(_t(!1,n),mt.forEach((function(e){C(e,"display","")})),t(),pt=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(mt.forEach((function(e){C(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),pt=!0,r())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&ct&&ct.multiDrag._deselectMultiDrag(),ht.forEach((function(e){e.sortableIndex=R(e)})),ht=ht.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),bt=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){ht.forEach((function(e){e!==dt&&C(e,"position","absolute")}));var r=T(dt,!1,!0,!0);ht.forEach((function(e){e!==dt&&V(e,r)})),gt=!0,vt=!0}n.animateAll((function(){gt=!1,vt=!1,t.options.animation&&ht.forEach((function(e){q(e)})),t.options.sort&&wt()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;gt&&~ht.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,i=e.dragRect;ht.length>1&&(ht.forEach((function(e){r.addAnimationState({target:e,rect:gt?T(e):i}),q(e),e.fromRect=i,t.removeAnimationState(e)})),gt=!1,function(e,t){ht.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,i=e.activeSortable,o=e.parentEl,a=e.putSortable,s=this.options;if(r){if(n&&i._hideClone(),vt=!1,s.animation&&ht.length>1&&(gt||!n&&!i.options.sort&&!a)){var l=T(dt,!1,!0,!0);ht.forEach((function(e){e!==dt&&(V(e,l),o.appendChild(e))})),gt=!0}if(!n)if(gt||wt(),ht.length>1){var u=pt;i._showClone(t),i.options.animation&&!pt&&u&&mt.forEach((function(e){i.addAnimationState({target:e,rect:ft}),e.fromRect=ft,e.thisAnimationDuration=null}))}else i._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(ht.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){ft=o({},t);var i=A(dt,!0);ft.top-=i.f,ft.left-=i.e}},dragOverAnimationComplete:function(){gt&&(gt=!1,wt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,i=e.sortable,o=e.dispatchSortableEvent,a=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var u=this.options,c=r.children;if(!bt)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),I(dt,u.selectedClass,!~ht.indexOf(dt)),~ht.indexOf(dt))ht.splice(ht.indexOf(dt),1),ut=null,Q({sortable:i,rootEl:n,name:"deselect",targetEl:dt,originalEvt:t});else{if(ht.push(dt),Q({sortable:i,rootEl:n,name:"select",targetEl:dt,originalEvt:t}),t.shiftKey&&ut&&i.el.contains(ut)){var d,f,p=R(ut),h=R(dt);if(~p&&~h&&p!==h)for(h>p?(f=p,d=h):(f=h,d=p+1);f<d;f++)~ht.indexOf(c[f])||(I(c[f],u.selectedClass,!0),ht.push(c[f]),Q({sortable:i,rootEl:n,name:"select",targetEl:c[f],originalEvt:t}))}else ut=dt;ct=l}if(bt&&this.isMultiDrag){if((r[W].options.sort||r!==n)&&ht.length>1){var m=T(dt),v=R(dt,":not(."+this.options.selectedClass+")");if(!vt&&u.animation&&(dt.thisAnimationDuration=null),l.captureAnimationState(),!vt&&(u.animation&&(dt.fromRect=m,ht.forEach((function(e){if(e.thisAnimationDuration=null,e!==dt){var t=gt?T(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),wt(),ht.forEach((function(e){c[v]?r.insertBefore(e,c[v]):r.appendChild(e),v++})),a===R(dt))){var g=!1;ht.forEach((function(e){e.sortableIndex===R(e)||(g=!0)})),g&&o("update")}ht.forEach((function(e){q(e)})),l.animateAll()}ct=l}(n===r||s&&"clone"!==s.lastPutMode)&&mt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=bt=!1,mt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!bt&&ct===this.sortable&&!(e&&w(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;ht.length;){var t=ht[0];I(t,this.options.selectedClass,!1),ht.shift(),Q({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},o(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[W];t&&t.options.multiDrag&&!~ht.indexOf(e)&&(ct&&ct!==t&&(ct.multiDrag._deselectMultiDrag(),ct=t),I(e,t.options.selectedClass,!0),ht.push(e))},deselect:function(e){var t=e.parentNode[W],n=ht.indexOf(e);t&&t.options.multiDrag&&~n&&(I(e,t.options.selectedClass,!1),ht.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return ht.forEach((function(r){var i;t.push({multiDragElement:r,index:r.sortableIndex}),i=gt&&r!==dt?-1:gt?R(r,":not(."+e.options.selectedClass+")"):R(r),n.push({multiDragElement:r,index:i})})),{items:l(ht),clones:[].concat(mt),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function _t(e,t){mt.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function wt(){ht.forEach((function(e){e!==dt&&e.parentNode&&e.parentNode.removeChild(e)}))}Ve.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):this.options.supportPointer?g(document,"pointermove",this._handleFallbackAutoScroll):t.touches?g(document,"touchmove",this._handleFallbackAutoScroll):g(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),nt(),tt(),clearTimeout(O),O=void 0},nulling:function(){Ke=Ye=Qe=et=Je=Xe=ze=null,Ze.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(Ke=e,t||d||c||p){it(e,this.options,o,t);var a=P(o,!0);!et||Je&&r===Xe&&i===ze||(Je&&nt(),Je=setInterval((function(){var o=P(document.elementFromPoint(r,i),!0);o!==a&&(a=o,tt()),it(e,n.options,o,t)}),10),Xe=r,ze=i)}else{if(!this.options.bubbleScroll||P(o,!0)===S())return void tt();it(e,this.options,P(o,!1),!1)}}},o(e,{pluginName:"scroll",initializeByDefault:!0})}),Ve.mount(st,at),t.default=Ve}])}));